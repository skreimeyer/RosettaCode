{"task": "Problem_of_Apollonius", "blocks": [{"lang": "Ada", "loc": 17, "block": "<pre class=\"ada highlighted_source\"><span class=\"kw3\">package</span> Apollonius <span class=\"kw1\">is</span><br/>   <span class=\"kw3\">type</span> Point <span class=\"kw1\">is</span> <span class=\"kw3\">record</span><br/>      X, Y\u00a0: Long_Float\u00a0:= <span class=\"nu0\">0.0</span>;<br/>   <span class=\"kw1\">end</span> <span class=\"kw3\">record</span>;<br/>\u00a0<br/>   <span class=\"kw3\">type</span> Circle <span class=\"kw1\">is</span> <span class=\"kw3\">record</span><br/>      Center\u00a0: Point;<br/>      Radius\u00a0: Long_Float\u00a0:= <span class=\"nu0\">0.0</span>;<br/>   <span class=\"kw1\">end</span> <span class=\"kw3\">record</span>;<br/>\u00a0<br/>   <span class=\"kw3\">type</span> Tangentiality <span class=\"kw1\">is</span> <span class=\"br0\">(</span>External, Internal<span class=\"br0\">)</span>;<br/>\u00a0<br/>   <span class=\"kw3\">function</span> Solve_CCC<br/>     <span class=\"br0\">(</span>Circle_1, Circle_2, Circle_3\u00a0: Circle;<br/>      T1, T2, T3                  \u00a0: Tangentiality\u00a0:= External<span class=\"br0\">)</span><br/>      <span class=\"kw1\">return</span>                         Circle;<br/><span class=\"kw1\">end</span> Apollonius;</pre>"}, {"lang": "AutoHotkey", "loc": 105, "block": "<pre class=\"autohotkey highlighted_source\"><a href=\"http://www.autohotkey.com/docs/commands/_NoEnv.htm\"><span class=\"kw5\">#NoEnv</span></a><br/><a href=\"http://www.autohotkey.com/docs/commands/_SingleInstance.htm\"><span class=\"kw5\">#SingleInstance</span></a><span class=\"sy0\">,</span> Force<br/><a href=\"http://www.autohotkey.com/docs/commands/SetBatchLines.htm\"><span class=\"kw3\">SetBatchLines</span></a><span class=\"sy0\">,</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><br/>\u00a0<br/><span class=\"co1\">; Uncomment if Gdip.ahk is not in your standard library</span><br/><span class=\"co1\">;#Include, Gdip.ahk</span><br/>\u00a0<br/><span class=\"co1\">; Start gdi+</span><br/><span class=\"kw1\">If</span>\u00a0!pToken <span class=\"sy0\">:=</span> Gdip_Startup<span class=\"br0\">(</span><span class=\"br0\">)</span><br/><span class=\"br0\">{</span><br/>\t<a href=\"http://www.autohotkey.com/docs/commands/MsgBox.htm\"><span class=\"kw3\">MsgBox</span></a><span class=\"sy0\">,</span> <span class=\"nu0\">48</span><span class=\"sy0\">,</span> gdiplus error!<span class=\"sy0\">,</span> Gdiplus failed to start<span class=\"sy0\">.</span> Please ensure you have gdiplus on your system<br/>\t<a href=\"http://www.autohotkey.com/docs/commands/ExitApp.htm\"><span class=\"kw3\">ExitApp</span></a><br/><span class=\"br0\">}</span><br/><a href=\"http://www.autohotkey.com/docs/commands/OnExit.htm\"><span class=\"kw3\">OnExit</span></a><span class=\"sy0\">,</span> <a href=\"http://www.autohotkey.com/docs/commands/Exit.htm\"><span class=\"kw3\">Exit</span></a><br/><span class=\"co1\">; I've added a simple new function here, just to ensure if anyone is having any problems then to make sure they are using the correct library version</span><br/><span class=\"kw1\">If</span> <span class=\"br0\">(</span>Gdip_LibraryVersion<span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"sy0\">&lt;</span> <span class=\"nu0\">1.30</span><span class=\"br0\">)</span><br/><span class=\"br0\">{</span><br/>\t<a href=\"http://www.autohotkey.com/docs/commands/MsgBox.htm\"><span class=\"kw3\">MsgBox</span></a><span class=\"sy0\">,</span> <span class=\"nu0\">48</span><span class=\"sy0\">,</span> version error!<span class=\"sy0\">,</span> Please download the latest version of the gdi<span class=\"sy0\">+</span> library<br/>\t<a href=\"http://www.autohotkey.com/docs/commands/ExitApp.htm\"><span class=\"kw3\">ExitApp</span></a><br/><span class=\"br0\">}</span><br/>x1<span class=\"sy0\">:=</span><span class=\"nu0\">300</span><span class=\"sy0\">,</span>y1<span class=\"sy0\">:=</span><span class=\"nu0\">500</span><span class=\"sy0\">,</span>r1<span class=\"sy0\">:=</span><span class=\"nu0\">50</span><span class=\"sy0\">,</span>x2<span class=\"sy0\">:=</span><span class=\"nu0\">200</span><span class=\"sy0\">,</span>y2<span class=\"sy0\">:=</span><span class=\"nu0\">200</span><span class=\"sy0\">,</span>r2<span class=\"sy0\">:=</span><span class=\"nu0\">150</span><span class=\"sy0\">,</span>x3<span class=\"sy0\">:=</span><span class=\"nu0\">600</span><span class=\"sy0\">,</span>y3<span class=\"sy0\">:=</span><span class=\"nu0\">400</span><span class=\"sy0\">,</span>r3<span class=\"sy0\">:=</span><span class=\"nu0\">100</span><span class=\"sy0\">,</span>s1<span class=\"sy0\">:=-</span><span class=\"nu0\">1</span><span class=\"sy0\">,</span>s2<span class=\"sy0\">:=-</span><span class=\"nu0\">1</span><span class=\"sy0\">,</span>s3<span class=\"sy0\">:=-</span><span class=\"nu0\">1</span><span class=\"sy0\">,</span>xs<span class=\"sy0\">:=</span><span class=\"nu0\">0</span><span class=\"sy0\">,</span>ys<span class=\"sy0\">:=</span><span class=\"nu0\">0</span><span class=\"sy0\">,</span>rs<span class=\"sy0\">:=</span><span class=\"nu0\">0</span><br/><span class=\"sy0\">,</span> Apollonius<span class=\"br0\">(</span>x1<span class=\"sy0\">,</span>y1<span class=\"sy0\">,</span>r1<span class=\"sy0\">,</span>x2<span class=\"sy0\">,</span>y2<span class=\"sy0\">,</span>r2<span class=\"sy0\">,</span>x3<span class=\"sy0\">,</span>y3<span class=\"sy0\">,</span>r3<span class=\"sy0\">,</span>s1<span class=\"sy0\">,</span>s2<span class=\"sy0\">,</span>s3<span class=\"sy0\">,</span>xs<span class=\"sy0\">,</span>ys<span class=\"sy0\">,</span>rs<span class=\"br0\">)</span><br/><span class=\"sy0\">,</span> Width<span class=\"sy0\">:=</span>max<span class=\"br0\">(</span>x1<span class=\"sy0\">+</span>r1 <span class=\"st0\">\",\"</span> x2<span class=\"sy0\">+</span>r2 <span class=\"st0\">\",\"</span> x3<span class=\"sy0\">+</span>r3 <span class=\"st0\">\",\"</span> xs<span class=\"sy0\">+</span>rs<span class=\"br0\">)</span><span class=\"sy0\">*</span><span class=\"nu0\">1.1</span><br/><span class=\"sy0\">,</span> Height<span class=\"sy0\">:=</span>max<span class=\"br0\">(</span>y1<span class=\"sy0\">+</span>r1 <span class=\"st0\">\",\"</span> y2<span class=\"sy0\">+</span>r2 <span class=\"st0\">\",\"</span> y3<span class=\"sy0\">+</span>r3 <span class=\"st0\">\",\"</span> ys<span class=\"sy0\">+</span>rs<span class=\"br0\">)</span><span class=\"sy0\">*</span><span class=\"nu0\">1.1</span><br/>\u00a0<br/><a href=\"http://www.autohotkey.com/docs/commands/Gui.htm\"><span class=\"kw3\">Gui</span></a><span class=\"sy0\">,</span> <span class=\"sy0\">-</span>Caption <span class=\"sy0\">+</span>E0x80000 <span class=\"sy0\">+</span>LastFound <span class=\"sy0\">+</span>AlwaysOnTop <span class=\"sy0\">+</span>ToolWindow <span class=\"sy0\">+</span>OwnDialogs<br/><a href=\"http://www.autohotkey.com/docs/commands/Gui.htm\"><span class=\"kw3\">Gui</span></a><span class=\"sy0\">,</span> <a href=\"http://www.autohotkey.com/docs/commands/Gui.htm#Show\"><span class=\"kw7\">Show</span></a><br/>hwnd1 <span class=\"sy0\">:=</span> <a href=\"http://www.autohotkey.com/docs/Functions.htm#BuiltIn\"><span class=\"kw4\">WinExist</span></a><span class=\"br0\">(</span><span class=\"br0\">)</span><br/><span class=\"sy0\">,</span> hbm <span class=\"sy0\">:=</span> CreateDIBSection<span class=\"br0\">(</span>Width<span class=\"sy0\">,</span> Height<span class=\"br0\">)</span><br/><span class=\"sy0\">,</span> hdc <span class=\"sy0\">:=</span> CreateCompatibleDC<span class=\"br0\">(</span><span class=\"br0\">)</span><br/><span class=\"sy0\">,</span> obm <span class=\"sy0\">:=</span> SelectObject<span class=\"br0\">(</span>hdc<span class=\"sy0\">,</span> hbm<span class=\"br0\">)</span><br/><span class=\"sy0\">,</span> G <span class=\"sy0\">:=</span> Gdip_GraphicsFromHDC<span class=\"br0\">(</span>hdc<span class=\"br0\">)</span><br/><span class=\"sy0\">,</span> Gdip_SetSmoothingMode<span class=\"br0\">(</span>G<span class=\"sy0\">,</span> <span class=\"nu0\">4</span><span class=\"br0\">)</span><br/><span class=\"sy0\">,</span> bWhite <span class=\"sy0\">:=</span> Gdip_BrushCreateSolid<span class=\"br0\">(</span>0xffffffff<span class=\"br0\">)</span><br/><span class=\"sy0\">,</span> Gdip_FillRectangle<span class=\"br0\">(</span>G<span class=\"sy0\">,</span> bWhite<span class=\"sy0\">,</span> <span class=\"nu0\">0</span><span class=\"sy0\">,</span> <span class=\"nu0\">0</span><span class=\"sy0\">,</span> Width<span class=\"sy0\">,</span> Height<span class=\"br0\">)</span><br/><span class=\"sy0\">,</span> pRed <span class=\"sy0\">:=</span> Gdip_CreatePen<span class=\"br0\">(</span>0x88ff0000<span class=\"sy0\">,</span> <span class=\"nu0\">3</span><span class=\"br0\">)</span><br/><span class=\"sy0\">,</span> pGreen <span class=\"sy0\">:=</span> Gdip_CreatePen<span class=\"br0\">(</span>0x8800ff00<span class=\"sy0\">,</span> <span class=\"nu0\">3</span><span class=\"br0\">)</span><br/><span class=\"sy0\">,</span> pBlue <span class=\"sy0\">:=</span> Gdip_CreatePen<span class=\"br0\">(</span>0x880000ff<span class=\"sy0\">,</span> <span class=\"nu0\">3</span><span class=\"br0\">)</span><br/><span class=\"sy0\">,</span> pBlack <span class=\"sy0\">:=</span> Gdip_CreatePen<span class=\"br0\">(</span>0x88000000<span class=\"sy0\">,</span> <span class=\"nu0\">3</span><span class=\"br0\">)</span><br/><span class=\"sy0\">,</span> Gdip_DrawCircle<span class=\"br0\">(</span>G<span class=\"sy0\">,</span> pRed<span class=\"sy0\">,</span> x1<span class=\"sy0\">,</span> y1<span class=\"sy0\">,</span> r1<span class=\"br0\">)</span><br/><span class=\"sy0\">,</span> Gdip_DrawCircle<span class=\"br0\">(</span>G<span class=\"sy0\">,</span> pGreen<span class=\"sy0\">,</span> x2<span class=\"sy0\">,</span> y2<span class=\"sy0\">,</span> r2<span class=\"br0\">)</span><br/><span class=\"sy0\">,</span> Gdip_DrawCircle<span class=\"br0\">(</span>G<span class=\"sy0\">,</span> pBlue<span class=\"sy0\">,</span> x3<span class=\"sy0\">,</span> y3<span class=\"sy0\">,</span> r3<span class=\"br0\">)</span><br/><span class=\"sy0\">,</span> Gdip_DrawCircle<span class=\"br0\">(</span>G<span class=\"sy0\">,</span> pBlack<span class=\"sy0\">,</span> xs<span class=\"sy0\">,</span> ys<span class=\"sy0\">,</span> rs<span class=\"br0\">)</span><br/><span class=\"sy0\">,</span> Gdip_DeletePen<span class=\"br0\">(</span>pRed<span class=\"br0\">)</span><br/><span class=\"sy0\">,</span> Gdip_DeletePen<span class=\"br0\">(</span>pGreen<span class=\"br0\">)</span><br/><span class=\"sy0\">,</span> Gdip_DeletePen<span class=\"br0\">(</span>pBlue<span class=\"br0\">)</span><br/><span class=\"sy0\">,</span> Gdip_DeletePen<span class=\"br0\">(</span>pBlack<span class=\"br0\">)</span><br/><span class=\"sy0\">,</span> UpdateLayeredWindow<span class=\"br0\">(</span>hwnd1<span class=\"sy0\">,</span> hdc<span class=\"sy0\">,</span> <span class=\"nu0\">0</span><span class=\"sy0\">,</span> <span class=\"nu0\">0</span><span class=\"sy0\">,</span> Width<span class=\"sy0\">,</span> Height<span class=\"br0\">)</span><br/><span class=\"kw1\">Return</span><br/>\u00a0<br/><a href=\"http://www.autohotkey.com/docs/commands/Gui.htm#GuiEscape\"><span class=\"kw7\">GuiEscape</span></a>:<br/><a href=\"http://www.autohotkey.com/docs/commands/Gui.htm#GuiClose\"><span class=\"kw7\">GuiClose</span></a>:<br/><a href=\"http://www.autohotkey.com/docs/commands/Exit.htm\"><span class=\"kw3\">Exit</span></a>:<br/>\tSelectObject<span class=\"br0\">(</span>hdc<span class=\"sy0\">,</span> obm<span class=\"br0\">)</span><br/>\t<span class=\"sy0\">,</span> DeleteObject<span class=\"br0\">(</span>hbm<span class=\"br0\">)</span><br/>\t<span class=\"sy0\">,</span> DeleteDC<span class=\"br0\">(</span>hdc<span class=\"br0\">)</span><br/>\t<span class=\"sy0\">,</span> Gdip_DeleteGraphics<span class=\"br0\">(</span>G<span class=\"br0\">)</span><br/>\t<span class=\"sy0\">,</span> Gdip_Shutdown<span class=\"br0\">(</span>pToken<span class=\"br0\">)</span><br/>\t<a href=\"http://www.autohotkey.com/docs/commands/ExitApp.htm\"><span class=\"kw3\">ExitApp</span></a><br/>\u00a0<br/>Apollonius<span class=\"br0\">(</span>x1<span class=\"sy0\">=</span><span class=\"nu0\">300</span><span class=\"sy0\">,</span>y1<span class=\"sy0\">=</span><span class=\"nu0\">500</span><span class=\"sy0\">,</span>r1<span class=\"sy0\">=</span><span class=\"nu0\">50</span><span class=\"sy0\">,</span>x2<span class=\"sy0\">=</span><span class=\"nu0\">200</span><span class=\"sy0\">,</span>y2<span class=\"sy0\">=</span><span class=\"nu0\">200</span><span class=\"sy0\">,</span>r2<span class=\"sy0\">=</span><span class=\"nu0\">150</span><span class=\"sy0\">,</span>x3<span class=\"sy0\">=</span><span class=\"nu0\">600</span><span class=\"sy0\">,</span>y3<span class=\"sy0\">=</span><span class=\"nu0\">400</span><span class=\"sy0\">,</span>r3<span class=\"sy0\">=</span><span class=\"nu0\">100</span><span class=\"sy0\">,</span>s1<span class=\"sy0\">=</span><span class=\"nu0\">1</span><span class=\"sy0\">,</span>s2<span class=\"sy0\">=</span><span class=\"nu0\">1</span><span class=\"sy0\">,</span>s3<span class=\"sy0\">=</span><span class=\"nu0\">1</span><span class=\"sy0\">,</span>ByRef xs<span class=\"sy0\">=</span><span class=\"nu0\">0</span><span class=\"sy0\">,</span> ByRef ys<span class=\"sy0\">=</span><span class=\"nu0\">0</span><span class=\"sy0\">,</span> ByRef rs<span class=\"sy0\">=</span><span class=\"nu0\">0</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>v11 <span class=\"sy0\">:=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x1<br/>v12 <span class=\"sy0\">:=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y1<br/>v13 <span class=\"sy0\">:=</span> x1<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> x2<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">+</span> y1<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> y2<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> r1<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">+</span> r2<span class=\"sy0\">**</span><span class=\"nu0\">2</span><br/>v14 <span class=\"sy0\">:=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s2<span class=\"sy0\">*</span>r2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s1<span class=\"sy0\">*</span>r1<br/>\u00a0<br/>v21 <span class=\"sy0\">:=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x2<br/>v22 <span class=\"sy0\">:=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y2<br/>v23 <span class=\"sy0\">:=</span> x2<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> x3<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">+</span> y2<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> y3<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> r2<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">+</span> r3<span class=\"sy0\">**</span><span class=\"nu0\">2</span><br/>v24 <span class=\"sy0\">:=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s3<span class=\"sy0\">*</span>r3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s2<span class=\"sy0\">*</span>r2<br/>\u00a0<br/>w12 <span class=\"sy0\">:=</span> v12<span class=\"sy0\">/</span>v11<br/>w13 <span class=\"sy0\">:=</span> v13<span class=\"sy0\">/</span>v11<br/>w14 <span class=\"sy0\">:=</span> v14<span class=\"sy0\">/</span>v11<br/>\u00a0<br/>w22 <span class=\"sy0\">:=</span> v22<span class=\"sy0\">/</span>v21 <span class=\"sy0\">-</span> w12<br/>w23 <span class=\"sy0\">:=</span> v23<span class=\"sy0\">/</span>v21 <span class=\"sy0\">-</span> w13<br/>w24 <span class=\"sy0\">:=</span> v24<span class=\"sy0\">/</span>v21 <span class=\"sy0\">-</span> w14<br/>\u00a0<br/>p <span class=\"sy0\">:=</span> <span class=\"sy0\">-</span>w23<span class=\"sy0\">/</span>w22<br/>q <span class=\"sy0\">:=</span> w24<span class=\"sy0\">/</span>w22<br/>m <span class=\"sy0\">:=</span> <span class=\"sy0\">-</span>w12<span class=\"sy0\">*</span>p <span class=\"sy0\">-</span> w13<br/>n <span class=\"sy0\">:=</span> w14 <span class=\"sy0\">-</span> w12<span class=\"sy0\">*</span>q<br/>\u00a0<br/>a <span class=\"sy0\">:=</span> n<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">+</span> q<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">1</span><br/>b <span class=\"sy0\">:=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>m<span class=\"sy0\">*</span>n <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>n<span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>p<span class=\"sy0\">*</span>q <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>q<span class=\"sy0\">*</span>y1 <span class=\"sy0\">+</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s1<span class=\"sy0\">*</span>r1<br/>c <span class=\"sy0\">:=</span> x1<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">+</span> m<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>m<span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span> p<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">+</span> y1<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>p<span class=\"sy0\">*</span>y1 <span class=\"sy0\">-</span> r1<span class=\"sy0\">**</span><span class=\"nu0\">2</span><br/>\u00a0<br/>d <span class=\"sy0\">:=</span> b<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">4</span><span class=\"sy0\">*</span>a<span class=\"sy0\">*</span>c<br/>rs <span class=\"sy0\">:=</span> <span class=\"br0\">(</span><span class=\"sy0\">-</span>b <span class=\"sy0\">-</span> d<span class=\"sy0\">**</span><span class=\"nu0\">0.5</span><span class=\"br0\">)</span><span class=\"sy0\">/</span><span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>a<span class=\"br0\">)</span><br/>xs <span class=\"sy0\">:=</span> m <span class=\"sy0\">+</span> n<span class=\"sy0\">*</span>rs<br/>ys <span class=\"sy0\">:=</span> p <span class=\"sy0\">+</span> q<span class=\"sy0\">*</span>rs<br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"co1\">; from http://rosettacode.org/wiki/Greatest_element_of_a_list#AutoHotkey</span><br/>max<span class=\"br0\">(</span>list<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>\t<a href=\"http://www.autohotkey.com/docs/commands/Loop.htm\"><span class=\"kw3\">Loop</span></a> Parse<span class=\"sy0\">,</span> list<span class=\"sy0\">,</span> `<span class=\"sy0\">,</span><br/>\tx <span class=\"sy0\">:=</span> x <span class=\"sy0\">&lt;</span> <a href=\"http://www.autohotkey.com/docs/Variables.htm#A_LoopField\"><span class=\"kw2\">A_LoopField</span></a>\u00a0? <a href=\"http://www.autohotkey.com/docs/Variables.htm#A_LoopField\"><span class=\"kw2\">A_LoopField</span></a>\u00a0: x<br/>\t<span class=\"kw1\">Return</span> x<br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"co1\">; Gdip helper function</span><br/>Gdip_DrawCircle<span class=\"br0\">(</span>G<span class=\"sy0\">,</span> pPen<span class=\"sy0\">,</span> x<span class=\"sy0\">,</span> y<span class=\"sy0\">,</span> r<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>\t<span class=\"kw1\">Return</span> Gdip_DrawEllipse<span class=\"br0\">(</span>G<span class=\"sy0\">,</span> pPen<span class=\"sy0\">,</span> x<span class=\"sy0\">-</span>r<span class=\"sy0\">,</span> y<span class=\"sy0\">-</span>r<span class=\"sy0\">,</span> r<span class=\"sy0\">*</span><span class=\"nu0\">2</span><span class=\"sy0\">,</span> r<span class=\"sy0\">*</span><span class=\"nu0\">2</span><span class=\"br0\">)</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "BBC BASIC", "loc": 37, "block": "<pre class=\"text highlighted_source\">      DIM Circle{x, y, r}<br/>      DIM Circles{(2)} = Circle{}<br/>      Circles{(0)}.x = 0\u00a0: Circles{(0)}.y = 0\u00a0: Circles{(0)}.r = 1<br/>      Circles{(1)}.x = 4\u00a0: Circles{(1)}.y = 0\u00a0: Circles{(1)}.r = 1<br/>      Circles{(2)}.x = 2\u00a0: Circles{(2)}.y = 4\u00a0: Circles{(2)}.r = 2<br/>\u00a0<br/>      @% = &amp;2030A<br/>      REM Solution for internal circle:<br/>      PROCapollonius(Circle{}, Circles{()}, -1, -1, -1)<br/>      PRINT \"Internal: x = \";Circle.x \", y = \";Circle.y \", r = \";Circle.r<br/>      REM Solution for external circle:<br/>      PROCapollonius(Circle{}, Circles{()}, 1, 1, 1)<br/>      PRINT \"External: x = \";Circle.x \", y = \";Circle.y \", r = \";Circle.r<br/>      END<br/>\u00a0<br/>      DEF PROCapollonius(c{}, c{()}, s0, s1, s2)<br/>      LOCAL x0, x1, x2, y0, y1, y2, r0, r1, r2, a, b, c<br/>      LOCAL u(), v(), w()\u00a0: DIM u(2), v(2), w(2)<br/>      x0 = c{(0)}.x\u00a0: y0 = c{(0)}.y\u00a0: r0 = c{(0)}.r<br/>      x1 = c{(1)}.x\u00a0: y1 = c{(1)}.y\u00a0: r1 = c{(1)}.r<br/>      x2 = c{(2)}.x\u00a0: y2 = c{(2)}.y\u00a0: r2 = c{(2)}.r<br/>\u00a0<br/>      u() = 2*y1-2*y0, x0*x0-x1*x1+y0*y0-y1*y1-r0*r0+r1*r1, 2*s1*r1-2*s0*r0<br/>      v() = 2*y2-2*y1, x1*x1-x2*x2+y1*y1-y2*y2-r1*r1+r2*r2, 2*s2*r2-2*s1*r1<br/>      w() = u() / (2*x1 - 2*x0)<br/>      u() = v() / (2*x2 - 2*x1) - w()<br/>      u() /= u(0)<br/>      w(1) -= w(0)*u(1)<br/>      w(2) -= w(0)*u(2)<br/>      a = w(2)*w(2) + u(2)*u(2) - 1<br/>      b = -2*w(1)*w(2) - 2*w(2)*x1 - 2*u(1)*u(2) - 2*u(2)*y1 + 2*s1*r1<br/>      c = x1*x1 + w(1)*w(1) + 2*w(1)*x1 + u(1)*u(1) + y1*y1 + 2*u(1)*y1 - r1*r1<br/>\u00a0<br/>      c.r = (-b - SQR(b^2 - 4*a*c)) / (2*a)<br/>      c.x = c.r * w(2) - w(1)<br/>      c.y = c.r * u(2) - u(1)<br/>      ENDPROC</pre>"}, {"lang": "C", "loc": 110, "block": "<pre class=\"c highlighted_source\"><span class=\"co2\">#include &lt;stdio.h&gt;</span><br/><span class=\"co2\">#include &lt;tgmath.h&gt;</span><br/>\u00a0<br/><span class=\"co2\">#define VERBOSE 0</span><br/><span class=\"co2\">#define for3 for(int i = 0; i &lt; 3; i++)</span><br/>\u00a0<br/><span class=\"kw4\">typedef</span> complex <span class=\"kw4\">double</span> vec<span class=\"sy0\">;</span><br/><span class=\"kw4\">typedef</span> <span class=\"kw4\">struct</span> <span class=\"br0\">{</span> vec c<span class=\"sy0\">;</span> <span class=\"kw4\">double</span> r<span class=\"sy0\">;</span> <span class=\"br0\">}</span> circ<span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"co2\">#define re(x) creal(x)</span><br/><span class=\"co2\">#define im(x) cimag(x)</span><br/><span class=\"co2\">#define cp(x) re(x), im(x)</span><br/><span class=\"co2\">#define CPLX \"(%6.3f,%6.3f)\"</span><br/><span class=\"co2\">#define CPLX3 CPLX\" \"CPLX\" \"CPLX</span><br/>\u00a0<br/><span class=\"kw4\">double</span> cross<span class=\"br0\">(</span>vec a<span class=\"sy0\">,</span> vec b<span class=\"br0\">)</span> <span class=\"br0\">{</span> <span class=\"kw1\">return</span> re<span class=\"br0\">(</span>a<span class=\"br0\">)</span> <span class=\"sy0\">*</span> im<span class=\"br0\">(</span>b<span class=\"br0\">)</span> <span class=\"sy0\">-</span> im<span class=\"br0\">(</span>a<span class=\"br0\">)</span> <span class=\"sy0\">*</span> re<span class=\"br0\">(</span>b<span class=\"br0\">)</span><span class=\"sy0\">;</span> <span class=\"br0\">}</span><br/><span class=\"kw4\">double</span> abs2<span class=\"br0\">(</span>vec a<span class=\"br0\">)</span> <span class=\"br0\">{</span> <span class=\"kw1\">return</span> a <span class=\"sy0\">*</span> <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/conj.html\"><span class=\"kw3\">conj</span></a><span class=\"br0\">(</span>a<span class=\"br0\">)</span><span class=\"sy0\">;</span> <span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw4\">int</span> apollonius_in<span class=\"br0\">(</span>circ aa<span class=\"br0\">[</span><span class=\"br0\">]</span><span class=\"sy0\">,</span> <span class=\"kw4\">int</span> ss<span class=\"br0\">[</span><span class=\"br0\">]</span><span class=\"sy0\">,</span> <span class=\"kw4\">int</span> flip<span class=\"sy0\">,</span> <span class=\"kw4\">int</span> divert<span class=\"br0\">)</span><br/><span class=\"br0\">{</span><br/>\tvec n<span class=\"br0\">[</span><span class=\"nu0\">3</span><span class=\"br0\">]</span><span class=\"sy0\">,</span> x<span class=\"br0\">[</span><span class=\"nu0\">3</span><span class=\"br0\">]</span><span class=\"sy0\">,</span> t<span class=\"br0\">[</span><span class=\"nu0\">3</span><span class=\"br0\">]</span><span class=\"sy0\">,</span> a<span class=\"sy0\">,</span> b<span class=\"sy0\">,</span> center<span class=\"sy0\">;</span><br/>\t<span class=\"kw4\">int</span> s<span class=\"br0\">[</span><span class=\"nu0\">3</span><span class=\"br0\">]</span><span class=\"sy0\">,</span> iter <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">,</span> res <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span><br/>\t<span class=\"kw4\">double</span> diff <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"sy0\">,</span> diff_old <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">,</span> axb<span class=\"sy0\">,</span> d<span class=\"sy0\">,</span> r<span class=\"sy0\">;</span><br/>\u00a0<br/>\tfor3 <span class=\"br0\">{</span><br/>\t\ts<span class=\"br0\">[</span>i<span class=\"br0\">]</span> <span class=\"sy0\">=</span> ss<span class=\"br0\">[</span>i<span class=\"br0\">]</span> <span class=\"sy0\">?</span> <span class=\"nu0\">1</span> <span class=\"sy0\">:</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>\t\tx<span class=\"br0\">[</span>i<span class=\"br0\">]</span> <span class=\"sy0\">=</span> aa<span class=\"br0\">[</span>i<span class=\"br0\">]</span>.<span class=\"me1\">c</span><span class=\"sy0\">;</span><br/>\t<span class=\"br0\">}</span><br/>\u00a0<br/>\t<span class=\"kw1\">while</span> <span class=\"br0\">(</span>diff <span class=\"sy0\">&gt;</span> <span class=\"nu19\">1e-20</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>\t\ta <span class=\"sy0\">=</span> x<span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span> <span class=\"sy0\">-</span> x<span class=\"br0\">[</span><span class=\"nu0\">2</span><span class=\"br0\">]</span><span class=\"sy0\">,</span> b <span class=\"sy0\">=</span> x<span class=\"br0\">[</span><span class=\"nu0\">1</span><span class=\"br0\">]</span> <span class=\"sy0\">-</span> x<span class=\"br0\">[</span><span class=\"nu0\">2</span><span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>\t\tdiff <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span><br/>\t\taxb <span class=\"sy0\">=</span> <span class=\"sy0\">-</span>cross<span class=\"br0\">(</span>a<span class=\"sy0\">,</span> b<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t\td <span class=\"sy0\">=</span> <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/sqrt.html\"><span class=\"kw3\">sqrt</span></a><span class=\"br0\">(</span>abs2<span class=\"br0\">(</span>a<span class=\"br0\">)</span> <span class=\"sy0\">*</span> abs2<span class=\"br0\">(</span>b<span class=\"br0\">)</span> <span class=\"sy0\">*</span> abs2<span class=\"br0\">(</span>a <span class=\"sy0\">-</span> b<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>\t\t<span class=\"kw1\">if</span> <span class=\"br0\">(</span>VERBOSE<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>\t\t\t<span class=\"kw4\">const</span> <span class=\"kw4\">char</span> <span class=\"sy0\">*</span>z <span class=\"sy0\">=</span> <span class=\"nu0\">1</span> <span class=\"sy0\">+</span> <span class=\"st0\">\"-0+\"</span><span class=\"sy0\">;</span><br/>\t\t\t<a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/printf.html\"><span class=\"kw3\">printf</span></a><span class=\"br0\">(</span><span class=\"st0\">\"%c%c%c|%c%c|\"</span><span class=\"sy0\">,</span><br/>\t\t\t\tz<span class=\"br0\">[</span>s<span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span><span class=\"br0\">]</span><span class=\"sy0\">,</span> z<span class=\"br0\">[</span>s<span class=\"br0\">[</span><span class=\"nu0\">1</span><span class=\"br0\">]</span><span class=\"br0\">]</span><span class=\"sy0\">,</span> z<span class=\"br0\">[</span>s<span class=\"br0\">[</span><span class=\"nu0\">2</span><span class=\"br0\">]</span><span class=\"br0\">]</span><span class=\"sy0\">,</span> z<span class=\"br0\">[</span>flip<span class=\"br0\">]</span><span class=\"sy0\">,</span> z<span class=\"br0\">[</span>divert<span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t\t\t<a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/printf.html\"><span class=\"kw3\">printf</span></a><span class=\"br0\">(</span>CPLX3<span class=\"sy0\">,</span> cp<span class=\"br0\">(</span>x<span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy0\">,</span> cp<span class=\"br0\">(</span>x<span class=\"br0\">[</span><span class=\"nu0\">1</span><span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy0\">,</span> cp<span class=\"br0\">(</span>x<span class=\"br0\">[</span><span class=\"nu0\">2</span><span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t\t<span class=\"br0\">}</span><br/>\u00a0<br/>\t\t<span class=\"coMULTI\">/* r and center represent an arc through points x[i].  Each step,<br/>\t\t   we'll deform this arc by pushing or pulling some point on it<br/>\t\t   towards the edge of each given circle. */</span><br/>\t\tr <span class=\"sy0\">=</span> <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/fabs.html\"><span class=\"kw3\">fabs</span></a><span class=\"br0\">(</span>d <span class=\"sy0\">/</span> <span class=\"br0\">(</span><span class=\"nu0\">2</span> <span class=\"sy0\">*</span> axb<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t\tcenter <span class=\"sy0\">=</span> <span class=\"br0\">(</span>abs2<span class=\"br0\">(</span>a<span class=\"br0\">)</span><span class=\"sy0\">*</span>b <span class=\"sy0\">-</span> abs2<span class=\"br0\">(</span>b<span class=\"br0\">)</span><span class=\"sy0\">*</span>a<span class=\"br0\">)</span> <span class=\"sy0\">/</span> <span class=\"br0\">(</span><span class=\"nu0\">2</span> <span class=\"sy0\">*</span> axb<span class=\"br0\">)</span> <span class=\"sy0\">*</span> I <span class=\"sy0\">+</span> x<span class=\"br0\">[</span><span class=\"nu0\">2</span><span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>\u00a0<br/> \t\t<span class=\"coMULTI\">/* maybe the \"arc\" is actually straight line; then we have two<br/>\t\t   choices in defining \"push\" and \"pull\", so try both */</span><br/>\t\t<span class=\"kw1\">if</span> <span class=\"br0\">(</span><span class=\"sy0\">!</span>axb <span class=\"sy0\">&amp;&amp;</span> flip <span class=\"sy0\">!=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span> <span class=\"sy0\">&amp;&amp;</span> <span class=\"sy0\">!</span>divert<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>\t\t\t<span class=\"kw1\">if</span> <span class=\"br0\">(</span><span class=\"sy0\">!</span>d<span class=\"br0\">)</span> <span class=\"br0\">{</span> <span class=\"coMULTI\">/* generally means circle centers overlap */</span><br/>\t\t\t\t<a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/printf.html\"><span class=\"kw3\">printf</span></a><span class=\"br0\">(</span><span class=\"st0\">\"Given conditions confused me.<span class=\"es1\">\\n</span>\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t\t\t\t<span class=\"kw1\">return</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span><br/>\t\t\t<span class=\"br0\">}</span><br/>\u00a0<br/>\t\t\t<span class=\"kw1\">if</span> <span class=\"br0\">(</span>VERBOSE<span class=\"br0\">)</span> <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/puts.html\"><span class=\"kw3\">puts</span></a><span class=\"br0\">(</span><span class=\"st0\">\"<span class=\"es1\">\\n</span>[divert]\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t\t\tdivert <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>\t\t\tres <span class=\"sy0\">=</span> apollonius_in<span class=\"br0\">(</span>aa<span class=\"sy0\">,</span> ss<span class=\"sy0\">,</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t\t<span class=\"br0\">}</span><br/>\u00a0<br/> \t\t<span class=\"coMULTI\">/* if straight line, push dir is its norm; else it's away from center */</span><br/>\t\tfor3 n<span class=\"br0\">[</span>i<span class=\"br0\">]</span> <span class=\"sy0\">=</span> axb <span class=\"sy0\">?</span> aa<span class=\"br0\">[</span>i<span class=\"br0\">]</span>.<span class=\"me1\">c</span> <span class=\"sy0\">-</span> center <span class=\"sy0\">:</span> a <span class=\"sy0\">*</span> I <span class=\"sy0\">*</span> flip<span class=\"sy0\">;</span><br/>\t\tfor3 t<span class=\"br0\">[</span>i<span class=\"br0\">]</span> <span class=\"sy0\">=</span> aa<span class=\"br0\">[</span>i<span class=\"br0\">]</span>.<span class=\"me1\">c</span> <span class=\"sy0\">+</span> n<span class=\"br0\">[</span>i<span class=\"br0\">]</span> <span class=\"sy0\">/</span> <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/cabs.html\"><span class=\"kw3\">cabs</span></a><span class=\"br0\">(</span>n<span class=\"br0\">[</span>i<span class=\"br0\">]</span><span class=\"br0\">)</span> <span class=\"sy0\">*</span> aa<span class=\"br0\">[</span>i<span class=\"br0\">]</span>.<span class=\"me1\">r</span> <span class=\"sy0\">*</span> s<span class=\"br0\">[</span>i<span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>\u00a0<br/>\t\t<span class=\"coMULTI\">/* diff: how much tangent points have moved since last iteration */</span><br/>\t\tfor3 diff <span class=\"sy0\">+=</span> abs2<span class=\"br0\">(</span>t<span class=\"br0\">[</span>i<span class=\"br0\">]</span> <span class=\"sy0\">-</span> x<span class=\"br0\">[</span>i<span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy0\">,</span> x<span class=\"br0\">[</span>i<span class=\"br0\">]</span> <span class=\"sy0\">=</span> t<span class=\"br0\">[</span>i<span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>\u00a0<br/>\t\t<span class=\"kw1\">if</span> <span class=\"br0\">(</span>VERBOSE<span class=\"br0\">)</span> <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/printf.html\"><span class=\"kw3\">printf</span></a><span class=\"br0\">(</span><span class=\"st0\">\"\u00a0%g<span class=\"es1\">\\n</span>\"</span><span class=\"sy0\">,</span> diff<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/> \t\t<span class=\"coMULTI\">/* keep an eye on the total diff: failing to converge means no solution */</span><br/>\t\t<span class=\"kw1\">if</span> <span class=\"br0\">(</span>diff <span class=\"sy0\">&gt;=</span> diff_old <span class=\"sy0\">&amp;&amp;</span> diff_old <span class=\"sy0\">&gt;=</span> <span class=\"nu0\">0</span><span class=\"br0\">)</span><br/>\t\t\t<span class=\"kw1\">if</span> <span class=\"br0\">(</span>iter<span class=\"sy0\">++</span> <span class=\"sy0\">&gt;</span> <span class=\"nu0\">20</span><span class=\"br0\">)</span> <span class=\"kw1\">return</span> res<span class=\"sy0\">;</span><br/>\u00a0<br/>\t\tdiff_old <span class=\"sy0\">=</span> diff<span class=\"sy0\">;</span><br/>\t<span class=\"br0\">}</span><br/>\u00a0<br/>\t<a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/printf.html\"><span class=\"kw3\">printf</span></a><span class=\"br0\">(</span><span class=\"st0\">\"found: \"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t<span class=\"kw1\">if</span> <span class=\"br0\">(</span>axb<span class=\"br0\">)</span> <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/printf.html\"><span class=\"kw3\">printf</span></a><span class=\"br0\">(</span><span class=\"st0\">\"circle \"</span>CPLX<span class=\"st0\">\", r =\u00a0%f<span class=\"es1\">\\n</span>\"</span><span class=\"sy0\">,</span> cp<span class=\"br0\">(</span>center<span class=\"br0\">)</span><span class=\"sy0\">,</span> r<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t<span class=\"kw1\">else</span>\t <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/printf.html\"><span class=\"kw3\">printf</span></a><span class=\"br0\">(</span><span class=\"st0\">\"line \"</span>CPLX3<span class=\"st0\">\"<span class=\"es1\">\\n</span>\"</span><span class=\"sy0\">,</span> cp<span class=\"br0\">(</span>x<span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy0\">,</span> cp<span class=\"br0\">(</span>x<span class=\"br0\">[</span><span class=\"nu0\">1</span><span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy0\">,</span> cp<span class=\"br0\">(</span>x<span class=\"br0\">[</span><span class=\"nu0\">2</span><span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>\t<span class=\"kw1\">return</span> res <span class=\"sy0\">+</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw4\">int</span> apollonius<span class=\"br0\">(</span>circ aa<span class=\"br0\">[</span><span class=\"br0\">]</span><span class=\"br0\">)</span><br/><span class=\"br0\">{</span><br/>\t<span class=\"kw4\">int</span> s<span class=\"br0\">[</span><span class=\"nu0\">3</span><span class=\"br0\">]</span><span class=\"sy0\">,</span> i<span class=\"sy0\">,</span> sum <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span><br/>\t<span class=\"kw1\">for</span> <span class=\"br0\">(</span>i <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span> i <span class=\"sy0\">&lt;</span> <span class=\"nu0\">8</span><span class=\"sy0\">;</span> i<span class=\"sy0\">++</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>\t\ts<span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span> <span class=\"sy0\">=</span> i <span class=\"sy0\">&amp;</span> <span class=\"nu0\">1</span><span class=\"sy0\">,</span> s<span class=\"br0\">[</span><span class=\"nu0\">1</span><span class=\"br0\">]</span> <span class=\"sy0\">=</span> i <span class=\"sy0\">&amp;</span> <span class=\"nu0\">2</span><span class=\"sy0\">,</span> s<span class=\"br0\">[</span><span class=\"nu0\">2</span><span class=\"br0\">]</span> <span class=\"sy0\">=</span> i <span class=\"sy0\">&amp;</span> <span class=\"nu0\">4</span><span class=\"sy0\">;</span><br/>\u00a0<br/>\t\t<span class=\"coMULTI\">/* internal or external results of a zero-radius circle are the same */</span><br/>\t\t<span class=\"kw1\">if</span> <span class=\"br0\">(</span>s<span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span> <span class=\"sy0\">&amp;&amp;</span> <span class=\"sy0\">!</span>aa<span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span>.<span class=\"me1\">r</span><span class=\"br0\">)</span> <span class=\"kw1\">continue</span><span class=\"sy0\">;</span><br/>\t\t<span class=\"kw1\">if</span> <span class=\"br0\">(</span>s<span class=\"br0\">[</span><span class=\"nu0\">1</span><span class=\"br0\">]</span> <span class=\"sy0\">&amp;&amp;</span> <span class=\"sy0\">!</span>aa<span class=\"br0\">[</span><span class=\"nu0\">1</span><span class=\"br0\">]</span>.<span class=\"me1\">r</span><span class=\"br0\">)</span> <span class=\"kw1\">continue</span><span class=\"sy0\">;</span><br/>\t\t<span class=\"kw1\">if</span> <span class=\"br0\">(</span>s<span class=\"br0\">[</span><span class=\"nu0\">2</span><span class=\"br0\">]</span> <span class=\"sy0\">&amp;&amp;</span> <span class=\"sy0\">!</span>aa<span class=\"br0\">[</span><span class=\"nu0\">2</span><span class=\"br0\">]</span>.<span class=\"me1\">r</span><span class=\"br0\">)</span> <span class=\"kw1\">continue</span><span class=\"sy0\">;</span><br/>\t\tsum <span class=\"sy0\">+=</span> apollonius_in<span class=\"br0\">(</span>aa<span class=\"sy0\">,</span> s<span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"sy0\">,</span> <span class=\"nu0\">0</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t<span class=\"br0\">}</span><br/>\t<span class=\"kw1\">return</span> sum<span class=\"sy0\">;</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw4\">int</span> main<span class=\"br0\">(</span><span class=\"br0\">)</span><br/><span class=\"br0\">{</span><br/>\tcirc a<span class=\"br0\">[</span><span class=\"nu0\">3</span><span class=\"br0\">]</span> <span class=\"sy0\">=</span> <span class=\"br0\">{</span><span class=\"br0\">{</span><span class=\"nu0\">0</span><span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"br0\">}</span><span class=\"sy0\">,</span> <span class=\"br0\">{</span><span class=\"nu0\">4</span><span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"br0\">}</span><span class=\"sy0\">,</span> <span class=\"br0\">{</span><span class=\"nu0\">2</span> <span class=\"sy0\">+</span> <span class=\"nu0\">4</span> <span class=\"sy0\">*</span> I<span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"br0\">}</span><span class=\"br0\">}</span><span class=\"sy0\">;</span><br/>\tcirc b<span class=\"br0\">[</span><span class=\"nu0\">3</span><span class=\"br0\">]</span> <span class=\"sy0\">=</span> <span class=\"br0\">{</span><span class=\"br0\">{</span><span class=\"sy0\">-</span><span class=\"nu0\">3</span><span class=\"sy0\">,</span> <span class=\"nu0\">2</span><span class=\"br0\">}</span><span class=\"sy0\">,</span> <span class=\"br0\">{</span><span class=\"nu0\">0</span><span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"br0\">}</span><span class=\"sy0\">,</span> <span class=\"br0\">{</span><span class=\"nu0\">3</span><span class=\"sy0\">,</span> <span class=\"nu0\">2</span><span class=\"br0\">}</span><span class=\"br0\">}</span><span class=\"sy0\">;</span><br/>\tcirc c<span class=\"br0\">[</span><span class=\"nu0\">3</span><span class=\"br0\">]</span> <span class=\"sy0\">=</span> <span class=\"br0\">{</span><span class=\"br0\">{</span><span class=\"sy0\">-</span><span class=\"nu0\">2</span><span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"br0\">}</span><span class=\"sy0\">,</span> <span class=\"br0\">{</span><span class=\"nu0\">0</span><span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"br0\">}</span><span class=\"sy0\">,</span> <span class=\"br0\">{</span><span class=\"nu0\">2</span> <span class=\"sy0\">*</span> I<span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"br0\">}</span><span class=\"br0\">}</span><span class=\"sy0\">;</span><br/>\t<span class=\"co1\">//circ c[3] = {{0, 1}, {0, 2}, {0, 3}}; &lt;-- a fun one</span><br/>\u00a0<br/>\t<a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/puts.html\"><span class=\"kw3\">puts</span></a><span class=\"br0\">(</span><span class=\"st0\">\"set 1\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span> apollonius<span class=\"br0\">(</span>a<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t<a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/puts.html\"><span class=\"kw3\">puts</span></a><span class=\"br0\">(</span><span class=\"st0\">\"set 2\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span> apollonius<span class=\"br0\">(</span>b<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t<a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/puts.html\"><span class=\"kw3\">puts</span></a><span class=\"br0\">(</span><span class=\"st0\">\"set 3\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span> apollonius<span class=\"br0\">(</span>c<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "C#", "loc": 158, "block": "<pre class=\"csharp highlighted_source\">\u00a0<br/><span class=\"kw1\">using</span> <span class=\"co3\">System</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"kw1\">namespace</span> ApolloniusProblemCalc<br/><span class=\"br0\">{</span><br/>    <span class=\"kw4\">class</span> Program<br/>    <span class=\"br0\">{</span><br/>        <span class=\"kw1\">static</span> <span class=\"kw4\">float</span> rs <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span><br/>        <span class=\"kw1\">static</span> <span class=\"kw4\">float</span> xs <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span><br/>        <span class=\"kw1\">static</span> <span class=\"kw4\">float</span> ys <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span><br/>\u00a0<br/>        <span class=\"kw1\">public</span> <span class=\"kw1\">static</span> <span class=\"kw4\">void</span> Main<span class=\"br0\">(</span><span class=\"kw4\">string</span><span class=\"br0\">[</span><span class=\"br0\">]</span> args<span class=\"br0\">)</span><br/>        <span class=\"br0\">{</span><br/>            <span class=\"kw4\">float</span> gx1<span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> gy1<span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> gr1<span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> gx2<span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> gy2<span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> gr2<span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> gx3<span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> gy3<span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> gr3<span class=\"sy0\">;</span><br/>\u00a0<br/>            <span class=\"co1\">//----------Enter values for the given circles here----------</span><br/>            gx1 <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span><br/>            gy1 <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span><br/>            gr1 <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>            gx2 <span class=\"sy0\">=</span> <span class=\"nu0\">4</span><span class=\"sy0\">;</span><br/>            gy2 <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span><br/>            gr2 <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>            gx3 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">;</span><br/>            gy3 <span class=\"sy0\">=</span> <span class=\"nu0\">4</span><span class=\"sy0\">;</span><br/>            gr3 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">;</span><br/>            <span class=\"co1\">//-----------------------------------------------------------</span><br/>\u00a0<br/>            <span class=\"kw1\">for</span> <span class=\"br0\">(</span><span class=\"kw4\">int</span> i <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span> i <span class=\"sy0\">&lt;=</span> <span class=\"nu0\">8</span><span class=\"sy0\">;</span> i<span class=\"sy0\">++</span><span class=\"br0\">)</span><br/>            <span class=\"br0\">{</span><br/>                SolveTheApollonius<span class=\"br0\">(</span>i, gx1, gy1, gr1, gx2, gy2, gr2, gx3, gy3, gr3<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>\u00a0<br/>                <span class=\"kw1\">if</span> <span class=\"br0\">(</span>i <span class=\"sy0\">==</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span><br/>                <span class=\"br0\">{</span><br/>                    Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"X of point of the \"</span> <span class=\"sy0\">+</span> i <span class=\"sy0\">+</span> <span class=\"st0\">\"st solution: \"</span> <span class=\"sy0\">+</span> xs<span class=\"sy0\">.</span><span class=\"me1\">ToString</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>                    Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"Y of point of the \"</span> <span class=\"sy0\">+</span> i <span class=\"sy0\">+</span> <span class=\"st0\">\"st solution: \"</span> <span class=\"sy0\">+</span> ys<span class=\"sy0\">.</span><span class=\"me1\">ToString</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>                    Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span>i <span class=\"sy0\">+</span> <span class=\"st0\">\"st Solution circle's radius: \"</span> <span class=\"sy0\">+</span> rs<span class=\"sy0\">.</span><span class=\"me1\">ToString</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>                <span class=\"br0\">}</span><br/>                <span class=\"kw1\">else</span> <span class=\"kw1\">if</span> <span class=\"br0\">(</span>i <span class=\"sy0\">==</span> <span class=\"nu0\">2</span><span class=\"br0\">)</span><br/>                <span class=\"br0\">{</span><br/>                    Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"X of point of the \"</span> <span class=\"sy0\">+</span> i <span class=\"sy0\">+</span> <span class=\"st0\">\"ed solution: \"</span> <span class=\"sy0\">+</span> xs<span class=\"sy0\">.</span><span class=\"me1\">ToString</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>                    Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"Y of point of the \"</span> <span class=\"sy0\">+</span> i <span class=\"sy0\">+</span> <span class=\"st0\">\"ed solution: \"</span> <span class=\"sy0\">+</span> ys<span class=\"sy0\">.</span><span class=\"me1\">ToString</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>                    Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span>i <span class=\"sy0\">+</span> <span class=\"st0\">\"ed Solution circle's radius: \"</span> <span class=\"sy0\">+</span> rs<span class=\"sy0\">.</span><span class=\"me1\">ToString</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>                <span class=\"br0\">}</span><br/>                <span class=\"kw1\">else</span> <span class=\"kw1\">if</span><span class=\"br0\">(</span>i <span class=\"sy0\">==</span> <span class=\"nu0\">3</span><span class=\"br0\">)</span><br/>                <span class=\"br0\">{</span><br/>                    Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"X of point of the \"</span> <span class=\"sy0\">+</span> i <span class=\"sy0\">+</span> <span class=\"st0\">\"rd solution: \"</span> <span class=\"sy0\">+</span> xs<span class=\"sy0\">.</span><span class=\"me1\">ToString</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>                    Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"Y of point of the \"</span> <span class=\"sy0\">+</span> i <span class=\"sy0\">+</span> <span class=\"st0\">\"rd solution: \"</span> <span class=\"sy0\">+</span> ys<span class=\"sy0\">.</span><span class=\"me1\">ToString</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>                    Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span>i <span class=\"sy0\">+</span> <span class=\"st0\">\"rd Solution circle's radius: \"</span> <span class=\"sy0\">+</span> rs<span class=\"sy0\">.</span><span class=\"me1\">ToString</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>                <span class=\"br0\">}</span><br/>                <span class=\"kw1\">else</span><br/>                <span class=\"br0\">{</span><br/>                    Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"X of point of the \"</span> <span class=\"sy0\">+</span> i <span class=\"sy0\">+</span> <span class=\"st0\">\"th solution: \"</span> <span class=\"sy0\">+</span> xs<span class=\"sy0\">.</span><span class=\"me1\">ToString</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>                    Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"Y of point of the \"</span> <span class=\"sy0\">+</span> i <span class=\"sy0\">+</span> <span class=\"st0\">\"th solution: \"</span> <span class=\"sy0\">+</span> ys<span class=\"sy0\">.</span><span class=\"me1\">ToString</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>                    Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span>i <span class=\"sy0\">+</span> <span class=\"st0\">\"th Solution circle's radius: \"</span> <span class=\"sy0\">+</span> rs<span class=\"sy0\">.</span><span class=\"me1\">ToString</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>                <span class=\"br0\">}</span><br/>\u00a0<br/>                Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            <span class=\"br0\">}</span><br/>\u00a0<br/>\u00a0<br/>            Console<span class=\"sy0\">.</span><span class=\"me1\">ReadKey</span><span class=\"br0\">(</span><span class=\"kw1\">true</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <span class=\"br0\">}</span><br/>\u00a0<br/>        <span class=\"kw1\">private</span> <span class=\"kw1\">static</span> <span class=\"kw4\">void</span> SolveTheApollonius<span class=\"br0\">(</span><span class=\"kw4\">int</span> calcCounter, <span class=\"kw4\">float</span> x1, <span class=\"kw4\">float</span> y1, <span class=\"kw4\">float</span> r1, <span class=\"kw4\">float</span> x2, <span class=\"kw4\">float</span> y2, <span class=\"kw4\">float</span> r2, <span class=\"kw4\">float</span> x3, <span class=\"kw4\">float</span> y3, <span class=\"kw4\">float</span> r3<span class=\"br0\">)</span><br/>        <span class=\"br0\">{</span><br/>            <span class=\"kw4\">float</span> s1 <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> s2 <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> s3 <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>\u00a0<br/>            <span class=\"kw1\">if</span> <span class=\"br0\">(</span>calcCounter <span class=\"sy0\">==</span> <span class=\"nu0\">2</span><span class=\"br0\">)</span><br/>            <span class=\"br0\">{</span><br/>                s1 <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>                s2 <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>                s3 <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>            <span class=\"br0\">}</span><br/>            <span class=\"kw1\">else</span> <span class=\"kw1\">if</span> <span class=\"br0\">(</span>calcCounter <span class=\"sy0\">==</span> <span class=\"nu0\">3</span><span class=\"br0\">)</span><br/>            <span class=\"br0\">{</span><br/>                s1 <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>                s2 <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>                s3 <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>            <span class=\"br0\">}</span><br/>            <span class=\"kw1\">else</span> <span class=\"kw1\">if</span> <span class=\"br0\">(</span>calcCounter <span class=\"sy0\">==</span> <span class=\"nu0\">4</span><span class=\"br0\">)</span><br/>            <span class=\"br0\">{</span><br/>                s1 <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>                s2 <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>                s3 <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>            <span class=\"br0\">}</span><br/>            <span class=\"kw1\">else</span> <span class=\"kw1\">if</span> <span class=\"br0\">(</span>calcCounter <span class=\"sy0\">==</span> <span class=\"nu0\">5</span><span class=\"br0\">)</span><br/>            <span class=\"br0\">{</span><br/>                s1 <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>                s2 <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>                s3 <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>            <span class=\"br0\">}</span><br/>            <span class=\"kw1\">else</span> <span class=\"kw1\">if</span> <span class=\"br0\">(</span>calcCounter <span class=\"sy0\">==</span> <span class=\"nu0\">6</span><span class=\"br0\">)</span><br/>            <span class=\"br0\">{</span><br/>                s1 <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>                s2 <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>                s3 <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>            <span class=\"br0\">}</span><br/>            <span class=\"kw1\">else</span> <span class=\"kw1\">if</span> <span class=\"br0\">(</span>calcCounter <span class=\"sy0\">==</span> <span class=\"nu0\">7</span><span class=\"br0\">)</span><br/>            <span class=\"br0\">{</span><br/>                s1 <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>                s2 <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>                s3 <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>            <span class=\"br0\">}</span><br/>            <span class=\"kw1\">else</span> <span class=\"kw1\">if</span> <span class=\"br0\">(</span>calcCounter <span class=\"sy0\">==</span> <span class=\"nu0\">8</span><span class=\"br0\">)</span><br/>            <span class=\"br0\">{</span><br/>                s1 <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>                s2 <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>                s3 <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>            <span class=\"br0\">}</span><br/>\u00a0<br/>            <span class=\"co1\">//This calculation to solve for the solution circles is cited from the Java version </span><br/>            <span class=\"kw4\">float</span> v11 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> x2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> x1<span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> v12 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> y2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> y1<span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> v13 <span class=\"sy0\">=</span> x1 <span class=\"sy0\">*</span> x1 <span class=\"sy0\">-</span> x2 <span class=\"sy0\">*</span> x2 <span class=\"sy0\">+</span> y1 <span class=\"sy0\">*</span> y1 <span class=\"sy0\">-</span> y2 <span class=\"sy0\">*</span> y2 <span class=\"sy0\">-</span> r1 <span class=\"sy0\">*</span> r1 <span class=\"sy0\">+</span> r2 <span class=\"sy0\">*</span> r2<span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> v14 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s2 <span class=\"sy0\">*</span> r2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s1 <span class=\"sy0\">*</span> r1<span class=\"sy0\">;</span><br/>\u00a0<br/>            <span class=\"kw4\">float</span> v21 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> x3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> x2<span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> v22 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> y3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> y2<span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> v23 <span class=\"sy0\">=</span> x2 <span class=\"sy0\">*</span> x2 <span class=\"sy0\">-</span> x3 <span class=\"sy0\">*</span> x3 <span class=\"sy0\">+</span> y2 <span class=\"sy0\">*</span> y2 <span class=\"sy0\">-</span> y3 <span class=\"sy0\">*</span> y3 <span class=\"sy0\">-</span> r2 <span class=\"sy0\">*</span> r2 <span class=\"sy0\">+</span> r3 <span class=\"sy0\">*</span> r3<span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> v24 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s3 <span class=\"sy0\">*</span> r3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s2 <span class=\"sy0\">*</span> r2<span class=\"sy0\">;</span><br/>\u00a0<br/>            <span class=\"kw4\">float</span> w12 <span class=\"sy0\">=</span> v12 <span class=\"sy0\">/</span> v11<span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> w13 <span class=\"sy0\">=</span> v13 <span class=\"sy0\">/</span> v11<span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> w14 <span class=\"sy0\">=</span> v14 <span class=\"sy0\">/</span> v11<span class=\"sy0\">;</span><br/>\u00a0<br/>            <span class=\"kw4\">float</span> w22 <span class=\"sy0\">=</span> v22 <span class=\"sy0\">/</span> v21 <span class=\"sy0\">-</span> w12<span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> w23 <span class=\"sy0\">=</span> v23 <span class=\"sy0\">/</span> v21 <span class=\"sy0\">-</span> w13<span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> w24 <span class=\"sy0\">=</span> v24 <span class=\"sy0\">/</span> v21 <span class=\"sy0\">-</span> w14<span class=\"sy0\">;</span><br/>\u00a0<br/>            <span class=\"kw4\">float</span> P <span class=\"sy0\">=</span> <span class=\"sy0\">-</span>w23 <span class=\"sy0\">/</span> w22<span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> Q <span class=\"sy0\">=</span> w24 <span class=\"sy0\">/</span> w22<span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> M <span class=\"sy0\">=</span> <span class=\"sy0\">-</span>w12 <span class=\"sy0\">*</span> P <span class=\"sy0\">-</span> w13<span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> N <span class=\"sy0\">=</span> w14 <span class=\"sy0\">-</span> w12 <span class=\"sy0\">*</span> Q<span class=\"sy0\">;</span><br/>\u00a0<br/>            <span class=\"kw4\">float</span> a <span class=\"sy0\">=</span> N <span class=\"sy0\">*</span> N <span class=\"sy0\">+</span> Q <span class=\"sy0\">*</span> Q <span class=\"sy0\">-</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> b <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> M <span class=\"sy0\">*</span> N <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> N <span class=\"sy0\">*</span> x1 <span class=\"sy0\">+</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> P <span class=\"sy0\">*</span> Q <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> Q <span class=\"sy0\">*</span> y1 <span class=\"sy0\">+</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s1 <span class=\"sy0\">*</span> r1<span class=\"sy0\">;</span><br/>            <span class=\"kw4\">float</span> c <span class=\"sy0\">=</span> x1 <span class=\"sy0\">*</span> x1 <span class=\"sy0\">+</span> M <span class=\"sy0\">*</span> M <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> M <span class=\"sy0\">*</span> x1 <span class=\"sy0\">+</span> P <span class=\"sy0\">*</span> P <span class=\"sy0\">+</span> y1 <span class=\"sy0\">*</span> y1 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> P <span class=\"sy0\">*</span> y1 <span class=\"sy0\">-</span> r1 <span class=\"sy0\">*</span> r1<span class=\"sy0\">;</span><br/>\u00a0<br/>            <span class=\"kw4\">float</span> D <span class=\"sy0\">=</span> b <span class=\"sy0\">*</span> b <span class=\"sy0\">-</span> <span class=\"nu0\">4</span> <span class=\"sy0\">*</span> a <span class=\"sy0\">*</span> c<span class=\"sy0\">;</span><br/>\u00a0<br/>            rs <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"sy0\">-</span>b <span class=\"sy0\">-</span> <span class=\"kw4\">float</span><span class=\"sy0\">.</span><span class=\"me1\">Parse</span><span class=\"br0\">(</span>Math<span class=\"sy0\">.</span><span class=\"me1\">Sqrt</span><span class=\"br0\">(</span>D<span class=\"br0\">)</span><span class=\"sy0\">.</span><span class=\"me1\">ToString</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"sy0\">/</span> <span class=\"br0\">(</span><span class=\"nu0\">2</span> <span class=\"sy0\">*</span> <span class=\"kw4\">float</span><span class=\"sy0\">.</span><span class=\"me1\">Parse</span><span class=\"br0\">(</span>a<span class=\"sy0\">.</span><span class=\"me1\">ToString</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            xs <span class=\"sy0\">=</span> M <span class=\"sy0\">+</span> N <span class=\"sy0\">*</span> rs<span class=\"sy0\">;</span><br/>            ys <span class=\"sy0\">=</span> P <span class=\"sy0\">+</span> Q <span class=\"sy0\">*</span> rs<span class=\"sy0\">;</span><br/>        <span class=\"br0\">}</span><br/>    <span class=\"br0\">}</span><br/><span class=\"br0\">}</span><br/>\u00a0</pre>"}, {"lang": "CoffeeScript", "loc": 54, "block": "<pre class=\"coffeescript highlighted_source\">\u00a0<br/><span class=\"kw3\">class</span> Circle<br/>  constructor<span class=\"sy0\">:</span> <span class=\"br0\">(</span><span class=\"sy0\">@</span>x<span class=\"sy0\">,</span> <span class=\"sy0\">@</span>y<span class=\"sy0\">,</span> <span class=\"sy0\">@</span>r<span class=\"br0\">)</span> <span class=\"sy0\">-&gt;</span><br/>\u00a0<br/>apollonius = <span class=\"br0\">(</span>c1<span class=\"sy0\">,</span> c2<span class=\"sy0\">,</span> c3<span class=\"sy0\">,</span> s1=<span class=\"nu0\">1</span><span class=\"sy0\">,</span> s2=<span class=\"nu0\">1</span><span class=\"sy0\">,</span> s3=<span class=\"nu0\">1</span><span class=\"br0\">)</span> <span class=\"sy0\">-&gt;</span><br/>  <span class=\"br0\">[</span>x1<span class=\"sy0\">,</span> y1<span class=\"sy0\">,</span> r1<span class=\"br0\">]</span> = <span class=\"br0\">[</span>c1.<span class=\"me1\">x</span><span class=\"sy0\">,</span> c1.<span class=\"me1\">y</span><span class=\"sy0\">,</span> c1.<span class=\"me1\">r</span><span class=\"br0\">]</span><br/>  <span class=\"br0\">[</span>x2<span class=\"sy0\">,</span> y2<span class=\"sy0\">,</span> r2<span class=\"br0\">]</span> = <span class=\"br0\">[</span>c2.<span class=\"me1\">x</span><span class=\"sy0\">,</span> c2.<span class=\"me1\">y</span><span class=\"sy0\">,</span> c2.<span class=\"me1\">r</span><span class=\"br0\">]</span><br/>  <span class=\"br0\">[</span>x3<span class=\"sy0\">,</span> y3<span class=\"sy0\">,</span> r3<span class=\"br0\">]</span> = <span class=\"br0\">[</span>c3.<span class=\"me1\">x</span><span class=\"sy0\">,</span> c3.<span class=\"me1\">y</span><span class=\"sy0\">,</span> c3.<span class=\"me1\">r</span><span class=\"br0\">]</span><br/>\u00a0<br/>  sq = <span class=\"br0\">(</span>n<span class=\"br0\">)</span> <span class=\"sy0\">-&gt;</span> n<span class=\"sy0\">*</span>n<br/>\u00a0<br/>  v11 = <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x1<br/>  v12 = <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y1<br/>  v13 = sq<span class=\"br0\">(</span>x1<span class=\"br0\">)</span> <span class=\"sy0\">-</span> sq<span class=\"br0\">(</span>x2<span class=\"br0\">)</span> <span class=\"sy0\">+</span> sq<span class=\"br0\">(</span>y1<span class=\"br0\">)</span> <span class=\"sy0\">-</span> sq<span class=\"br0\">(</span>y2<span class=\"br0\">)</span> <span class=\"sy0\">-</span> sq<span class=\"br0\">(</span>r1<span class=\"br0\">)</span> <span class=\"sy0\">+</span> sq<span class=\"br0\">(</span>r2<span class=\"br0\">)</span><br/>  v14 = <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s2<span class=\"sy0\">*</span>r2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s1<span class=\"sy0\">*</span>r1<br/>\u00a0<br/>  v21 = <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x2<br/>  v22 = <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y2<br/>  v23 = sq<span class=\"br0\">(</span>x2<span class=\"br0\">)</span> <span class=\"sy0\">-</span> sq<span class=\"br0\">(</span>x3<span class=\"br0\">)</span> <span class=\"sy0\">+</span> sq<span class=\"br0\">(</span>y2<span class=\"br0\">)</span> <span class=\"sy0\">-</span> sq<span class=\"br0\">(</span>y3<span class=\"br0\">)</span> <span class=\"sy0\">-</span> sq<span class=\"br0\">(</span>r2<span class=\"br0\">)</span> <span class=\"sy0\">+</span> sq<span class=\"br0\">(</span>r3<span class=\"br0\">)</span><br/>  v24 = <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s3<span class=\"sy0\">*</span>r3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s2<span class=\"sy0\">*</span>r2<br/>\u00a0<br/>  w12 = v12<span class=\"sy0\">/</span>v11<br/>  w13 = v13<span class=\"sy0\">/</span>v11<br/>  w14 = v14<span class=\"sy0\">/</span>v11<br/>\u00a0<br/>  w22 = v22<span class=\"sy0\">/</span>v21 <span class=\"sy0\">-</span> w12<br/>  w23 = v23<span class=\"sy0\">/</span>v21 <span class=\"sy0\">-</span> w13<br/>  w24 = v24<span class=\"sy0\">/</span>v21 <span class=\"sy0\">-</span> w14<br/>\u00a0<br/>  p = <span class=\"sy0\">-</span>w23<span class=\"sy0\">/</span>w22<br/>  q = w24<span class=\"sy0\">/</span>w22<br/>  m = <span class=\"sy0\">-</span>w12<span class=\"sy0\">*</span>p <span class=\"sy0\">-</span> w13<br/>  n = w14 <span class=\"sy0\">-</span> w12<span class=\"sy0\">*</span>q<br/>\u00a0<br/>  a = sq<span class=\"br0\">(</span>n<span class=\"br0\">)</span> <span class=\"sy0\">+</span> sq<span class=\"br0\">(</span>q<span class=\"br0\">)</span> <span class=\"sy0\">-</span> <span class=\"nu0\">1</span><br/>  b = <span class=\"nu0\">2</span><span class=\"sy0\">*</span>m<span class=\"sy0\">*</span>n <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>n<span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>p<span class=\"sy0\">*</span>q <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>q<span class=\"sy0\">*</span>y1 <span class=\"sy0\">+</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s1<span class=\"sy0\">*</span>r1<br/>  c = sq<span class=\"br0\">(</span>x1<span class=\"br0\">)</span> <span class=\"sy0\">+</span> sq<span class=\"br0\">(</span>m<span class=\"br0\">)</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>m<span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span> sq<span class=\"br0\">(</span>p<span class=\"br0\">)</span> <span class=\"sy0\">+</span> sq<span class=\"br0\">(</span>y1<span class=\"br0\">)</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>p<span class=\"sy0\">*</span>y1 <span class=\"sy0\">-</span> sq<span class=\"br0\">(</span>r1<span class=\"br0\">)</span><br/>\u00a0<br/>  d = sq<span class=\"br0\">(</span>b<span class=\"br0\">)</span> <span class=\"sy0\">-</span> <span class=\"nu0\">4</span><span class=\"sy0\">*</span>a<span class=\"sy0\">*</span>c<br/>  rs = <span class=\"br0\">(</span><span class=\"sy0\">-</span>b <span class=\"sy0\">-</span> Math.<span class=\"me1\">sqrt</span><span class=\"br0\">(</span>d<span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"sy0\">/</span> <span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>a<span class=\"br0\">)</span><br/>  xs = m <span class=\"sy0\">+</span> n<span class=\"sy0\">*</span>rs<br/>  ys = p <span class=\"sy0\">+</span> q<span class=\"sy0\">*</span>rs<br/>\u00a0<br/>  <span class=\"kw3\">new</span> Circle<span class=\"br0\">(</span>xs<span class=\"sy0\">,</span> ys<span class=\"sy0\">,</span> rs<span class=\"br0\">)</span><br/>\u00a0<br/>\u00a0<br/>console.<span class=\"me1\">log</span> c1 = <span class=\"kw3\">new</span> Circle<span class=\"br0\">(</span><span class=\"nu0\">0</span><span class=\"sy0\">,</span> <span class=\"nu0\">0</span><span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span><br/>console.<span class=\"me1\">log</span> c2 = <span class=\"kw3\">new</span> Circle<span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">,</span> <span class=\"nu0\">4</span><span class=\"sy0\">,</span> <span class=\"nu0\">2</span><span class=\"br0\">)</span><br/>console.<span class=\"me1\">log</span> c3 = <span class=\"kw3\">new</span> Circle<span class=\"br0\">(</span><span class=\"nu0\">4</span><span class=\"sy0\">,</span> <span class=\"nu0\">0</span><span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span><br/>\u00a0<br/>console.<span class=\"me1\">log</span> apollonius<span class=\"br0\">(</span>c1<span class=\"sy0\">,</span> c2<span class=\"sy0\">,</span> c3<span class=\"br0\">)</span><br/>console.<span class=\"me1\">log</span> apollonius<span class=\"br0\">(</span>c1<span class=\"sy0\">,</span> c2<span class=\"sy0\">,</span> c3<span class=\"sy0\">,</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">,</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">,</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><br/>\u00a0<br/>\u00a0</pre>"}, {"lang": "D", "loc": 80, "block": "<pre class=\"d highlighted_source\"><span class=\"kw2\">import</span> std.<span class=\"me1\">stdio</span><span class=\"sy0\">,</span> std.<span class=\"me1\">math</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"kw4\">immutable</span> <span class=\"kw4\">struct</span> Circle <span class=\"br0\">{</span> <span class=\"kw4\">double</span> x<span class=\"sy0\">,</span> y<span class=\"sy0\">,</span> r<span class=\"sy0\">;</span> <span class=\"br0\">}</span><br/><span class=\"kw4\">enum</span> Tangent <span class=\"br0\">{</span> externally<span class=\"sy0\">,</span> internally <span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"co3\">/**<br/>Solves the Problem of Apollonius (finding a circle tangent to three<br/>other circles in the plane).<br/>\u00a0<br/>Params:<br/>  c1 = First circle of the problem.<br/>  c2 = Second circle of the problem.<br/>  c3 = Third circle of the problem.<br/>  t1 = How is the solution tangent (externally or internally) to c1.<br/>  t2 = How is the solution tangent (externally or internally) to c2.<br/>  t3 = How is the solution tangent (externally or internally) to c3.<br/>\u00a0<br/>Returns: The Circle that is tangent to c1, c2 and c3.<br/>*/</span><br/>Circle solveApollonius<span class=\"br0\">(</span><span class=\"kw2\">in</span> Circle c1<span class=\"sy0\">,</span> <span class=\"kw2\">in</span> Circle c2<span class=\"sy0\">,</span> <span class=\"kw2\">in</span> Circle c3<span class=\"sy0\">,</span><br/>                       <span class=\"kw2\">in</span> Tangent t1<span class=\"sy0\">,</span> <span class=\"kw2\">in</span> Tangent t2<span class=\"sy0\">,</span> <span class=\"kw2\">in</span> Tangent t3<span class=\"br0\">)</span><br/><span class=\"kw4\">pure</span> <span class=\"kw4\">nothrow</span> @<span class=\"kw4\">safe</span> @nogc <span class=\"br0\">{</span><br/>    <span class=\"kw2\">alias</span> Imd <span class=\"sy0\">=</span> <span class=\"kw4\">immutable</span><span class=\"br0\">(</span><span class=\"kw4\">double</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    Imd s1 <span class=\"sy0\">=</span> <span class=\"br0\">(</span>t1 <span class=\"sy0\">==</span> Tangent.<span class=\"me1\">externally</span><span class=\"br0\">)</span> <span class=\"sy0\">?</span> <span class=\"nu16\">1.0</span> <span class=\"sy0\">:</span> <span class=\"sy0\">-</span><span class=\"nu16\">1.0</span><span class=\"sy0\">;</span><br/>    Imd s2 <span class=\"sy0\">=</span> <span class=\"br0\">(</span>t2 <span class=\"sy0\">==</span> Tangent.<span class=\"me1\">externally</span><span class=\"br0\">)</span> <span class=\"sy0\">?</span> <span class=\"nu16\">1.0</span> <span class=\"sy0\">:</span> <span class=\"sy0\">-</span><span class=\"nu16\">1.0</span><span class=\"sy0\">;</span><br/>    Imd s3 <span class=\"sy0\">=</span> <span class=\"br0\">(</span>t3 <span class=\"sy0\">==</span> Tangent.<span class=\"me1\">externally</span><span class=\"br0\">)</span> <span class=\"sy0\">?</span> <span class=\"nu16\">1.0</span> <span class=\"sy0\">:</span> <span class=\"sy0\">-</span><span class=\"nu16\">1.0</span><span class=\"sy0\">;</span><br/>\u00a0<br/>    Imd v11 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> c2.<span class=\"me1\">x</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> c1.<span class=\"me1\">x</span><span class=\"sy0\">;</span><br/>    Imd v12 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> c2.<span class=\"me1\">y</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> c1.<span class=\"me1\">y</span><span class=\"sy0\">;</span><br/>    Imd v13 <span class=\"sy0\">=</span> c1.<span class=\"me1\">x</span> <span class=\"sy0\">^^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">-</span> c2.<span class=\"me1\">x</span> <span class=\"sy0\">^^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">+</span><br/>              c1.<span class=\"me1\">y</span> <span class=\"sy0\">^^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">-</span> c2.<span class=\"me1\">y</span> <span class=\"sy0\">^^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">-</span><br/>              c1.<span class=\"me1\">r</span> <span class=\"sy0\">^^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">+</span> c2.<span class=\"me1\">r</span> <span class=\"sy0\">^^</span> <span class=\"nu0\">2</span><span class=\"sy0\">;</span><br/>    Imd v14 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s2 <span class=\"sy0\">*</span> c2.<span class=\"me1\">r</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s1 <span class=\"sy0\">*</span> c1.<span class=\"me1\">r</span><span class=\"sy0\">;</span><br/>\u00a0<br/>    Imd v21 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> c3.<span class=\"me1\">x</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> c2.<span class=\"me1\">x</span><span class=\"sy0\">;</span><br/>    Imd v22 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> c3.<span class=\"me1\">y</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> c2.<span class=\"me1\">y</span><span class=\"sy0\">;</span><br/>    Imd v23 <span class=\"sy0\">=</span> c2.<span class=\"me1\">x</span> <span class=\"sy0\">^^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">-</span> c3.<span class=\"me1\">x</span> <span class=\"sy0\">^^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">+</span><br/>              c2.<span class=\"me1\">y</span> <span class=\"sy0\">^^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">-</span> c3.<span class=\"me1\">y</span> <span class=\"sy0\">^^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">-</span><br/>              c2.<span class=\"me1\">r</span> <span class=\"sy0\">^^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">+</span> c3.<span class=\"me1\">r</span> <span class=\"sy0\">^^</span> <span class=\"nu0\">2</span><span class=\"sy0\">;</span><br/>    Imd v24 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s3 <span class=\"sy0\">*</span> c3.<span class=\"me1\">r</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s2 <span class=\"sy0\">*</span> c2.<span class=\"me1\">r</span><span class=\"sy0\">;</span><br/>\u00a0<br/>    Imd w12 <span class=\"sy0\">=</span> v12 <span class=\"sy0\">/</span> v11<span class=\"sy0\">;</span><br/>    Imd w13 <span class=\"sy0\">=</span> v13 <span class=\"sy0\">/</span> v11<span class=\"sy0\">;</span><br/>    Imd w14 <span class=\"sy0\">=</span> v14 <span class=\"sy0\">/</span> v11<span class=\"sy0\">;</span><br/>\u00a0<br/>    Imd w22 <span class=\"sy0\">=</span> v22 <span class=\"sy0\">/</span> v21 <span class=\"sy0\">-</span> w12<span class=\"sy0\">;</span><br/>    Imd w23 <span class=\"sy0\">=</span> v23 <span class=\"sy0\">/</span> v21 <span class=\"sy0\">-</span> w13<span class=\"sy0\">;</span><br/>    Imd w24 <span class=\"sy0\">=</span> v24 <span class=\"sy0\">/</span> v21 <span class=\"sy0\">-</span> w14<span class=\"sy0\">;</span><br/>\u00a0<br/>    Imd P <span class=\"sy0\">=</span> <span class=\"sy0\">-</span>w23 <span class=\"sy0\">/</span> w22<span class=\"sy0\">;</span><br/>    Imd Q <span class=\"sy0\">=</span>  w24 <span class=\"sy0\">/</span> w22<span class=\"sy0\">;</span><br/>    Imd M <span class=\"sy0\">=</span> <span class=\"sy0\">-</span>w12 <span class=\"sy0\">*</span> P <span class=\"sy0\">-</span> w13<span class=\"sy0\">;</span><br/>    Imd N <span class=\"sy0\">=</span>  w14 <span class=\"sy0\">-</span> w12 <span class=\"sy0\">*</span> Q<span class=\"sy0\">;</span><br/>\u00a0<br/>    Imd a <span class=\"sy0\">=</span> N <span class=\"sy0\">*</span> N <span class=\"sy0\">+</span> Q <span class=\"sy0\">^^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>    Imd b <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> M <span class=\"sy0\">*</span> N <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> N <span class=\"sy0\">*</span> c1.<span class=\"me1\">x</span> <span class=\"sy0\">+</span><br/>            <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> P <span class=\"sy0\">*</span> Q <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> Q <span class=\"sy0\">*</span> c1.<span class=\"me1\">y</span> <span class=\"sy0\">+</span><br/>            <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s1 <span class=\"sy0\">*</span> c1.<span class=\"me1\">r</span><span class=\"sy0\">;</span><br/>    Imd c <span class=\"sy0\">=</span> c1.<span class=\"me1\">x</span> <span class=\"sy0\">^^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">+</span> M <span class=\"sy0\">^^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> M <span class=\"sy0\">*</span> c1.<span class=\"me1\">x</span> <span class=\"sy0\">+</span><br/>            P <span class=\"sy0\">^^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">+</span> c1.<span class=\"me1\">y</span> <span class=\"sy0\">^^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> P <span class=\"sy0\">*</span> c1.<span class=\"me1\">y</span> <span class=\"sy0\">-</span> c1.<span class=\"me1\">r</span> <span class=\"sy0\">^^</span> <span class=\"nu0\">2</span><span class=\"sy0\">;</span><br/>\u00a0<br/>    <span class=\"co1\">// find a root of a quadratic equation.</span><br/>    <span class=\"co1\">// This requires the circle centers not to be e.g. colinear</span><br/>    Imd D <span class=\"sy0\">=</span> b <span class=\"sy0\">^^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">4</span> <span class=\"sy0\">*</span> a <span class=\"sy0\">*</span> c<span class=\"sy0\">;</span><br/>    Imd rs <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"sy0\">-</span>b <span class=\"sy0\">-</span> D.<span class=\"me1\">sqrt</span><span class=\"br0\">)</span> <span class=\"sy0\">/</span> <span class=\"br0\">(</span><span class=\"nu0\">2</span> <span class=\"sy0\">*</span> a<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>    <span class=\"kw1\">return</span> Circle<span class=\"br0\">(</span>M <span class=\"sy0\">+</span> N <span class=\"sy0\">*</span> rs<span class=\"sy0\">,</span> P <span class=\"sy0\">+</span> Q <span class=\"sy0\">*</span> rs<span class=\"sy0\">,</span> rs<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw4\">void</span> main<span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>    <span class=\"kw4\">immutable</span> c1 <span class=\"sy0\">=</span> Circle<span class=\"br0\">(</span><span class=\"nu16\">0.0</span><span class=\"sy0\">,</span> <span class=\"nu16\">0.0</span><span class=\"sy0\">,</span> <span class=\"nu16\">1.0</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    <span class=\"kw4\">immutable</span> c2 <span class=\"sy0\">=</span> Circle<span class=\"br0\">(</span><span class=\"nu16\">4.0</span><span class=\"sy0\">,</span> <span class=\"nu16\">0.0</span><span class=\"sy0\">,</span> <span class=\"nu16\">1.0</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    <span class=\"kw4\">immutable</span> c3 <span class=\"sy0\">=</span> Circle<span class=\"br0\">(</span><span class=\"nu16\">2.0</span><span class=\"sy0\">,</span> <span class=\"nu16\">4.0</span><span class=\"sy0\">,</span> <span class=\"nu16\">2.0</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>    <span class=\"kw2\">alias</span> Te <span class=\"sy0\">=</span> Tangent.<span class=\"me1\">externally</span><span class=\"sy0\">;</span><br/>    solveApollonius<span class=\"br0\">(</span>c1<span class=\"sy0\">,</span> c2<span class=\"sy0\">,</span> c3<span class=\"sy0\">,</span> Te<span class=\"sy0\">,</span> Te<span class=\"sy0\">,</span> Te<span class=\"br0\">)</span>.<span class=\"me1\">writeln</span><span class=\"sy0\">;</span><br/>\u00a0<br/>    <span class=\"kw2\">alias</span> Ti <span class=\"sy0\">=</span> Tangent.<span class=\"me1\">internally</span><span class=\"sy0\">;</span><br/>    solveApollonius<span class=\"br0\">(</span>c1<span class=\"sy0\">,</span> c2<span class=\"sy0\">,</span> c3<span class=\"sy0\">,</span> Ti<span class=\"sy0\">,</span> Ti<span class=\"sy0\">,</span> Ti<span class=\"br0\">)</span>.<span class=\"me1\">writeln</span><span class=\"sy0\">;</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "Elixir", "loc": 33, "block": "<pre class=\"text highlighted_source\">defmodule Circle do<br/>  def apollonius(c1, c2, c3, s1, s2, s3) do<br/>    {x1, y1, r1} = c1<br/>    {w12, w13, w14} = calc(c1, c2, s1, s2)<br/>    {u22, u23, u24} = calc(c2, c3, s2, s3)<br/>    {w22, w23, w24} = {u22 - w12, u23 - w13, u24 - w14}<br/>\u00a0<br/>    p = -w23 / w22<br/>    q = w24 / w22<br/>    m = -w12 * p - w13<br/>    n = w14 - w12 * q<br/>\u00a0<br/>    a = n*n + q*q - 1<br/>    b = 2*m*n - 2*n*x1 + 2*p*q - 2*q*y1 + 2*s1*r1<br/>    c = x1*x1 + m*m - 2*m*x1 + p*p + y1*y1 - 2*p*y1 - r1*r1<br/>\u00a0<br/>    d = b*b - 4*a*c<br/>    rs = (-b -\u00a0:math.sqrt(d)) / (2*a)<br/>    {m + n*rs, p + q*rs, rs}<br/>  end<br/>\u00a0<br/>  defp calc({x1, y1, r1}, {x2, y2, r2}, s1, s2) do<br/>    v1 = x2 - x1<br/>    {(y2 - y1) / v1, (x1*x1 - x2*x2 + y1*y1 - y2*y2 - r1*r1 + r2*r2) / (2*v1), (s2*r2 - s1*r1) / v1}<br/>  end<br/>end<br/>\u00a0<br/>c1 = {0, 0, 1}<br/>c2 = {2, 4, 2}<br/>c3 = {4, 0, 1}<br/>\u00a0<br/>IO.inspect Circle.apollonius(c1, c2, c3, 1, 1, 1)<br/>IO.inspect Circle.apollonius(c1, c2, c3, -1, -1, -1)</pre>"}, {"lang": "F#", "loc": 67, "block": "<pre class=\"fsharp highlighted_source\"><span class=\"kw1\">type</span> point <span class=\"sy0\">=</span> <span class=\"br0\">{</span> x:float<span class=\"sy0\">;</span> y:<span class=\"kw4\">float</span> <span class=\"br0\">}</span><br/><span class=\"kw1\">type</span> circle <span class=\"sy0\">=</span> <span class=\"br0\">{</span> center: point<span class=\"sy0\">;</span> radius: float<span class=\"sy0\">;</span> <span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw1\">let</span> new_circle x y r <span class=\"sy0\">=</span><br/>   <span class=\"br0\">{</span> center <span class=\"sy0\">=</span> <span class=\"br0\">{</span> x<span class=\"sy0\">=</span>x<span class=\"sy0\">;</span> y<span class=\"sy0\">=</span>y <span class=\"br0\">}</span><span class=\"sy0\">;</span> radius <span class=\"sy0\">=</span> r <span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw1\">let</span> print_circle c <span class=\"sy0\">=</span><br/>   printfn <span class=\"st0\">\"Circle(x=%.2f, y=%.2f, r=%.2f)\"</span><br/>     c.<span class=\"me1\">center</span>.<span class=\"me1\">x</span> c.<span class=\"me1\">center</span>.<span class=\"me1\">y</span> c.<span class=\"me1\">radius</span><br/>\u00a0<br/><span class=\"kw1\">let</span> xyr c <span class=\"sy0\">=</span> c.<span class=\"me1\">center</span>.<span class=\"me1\">x</span>, c.<span class=\"me1\">center</span>.<span class=\"me1\">y</span>, c.<span class=\"me1\">radius</span><br/>\u00a0<br/><span class=\"kw1\">let</span> solve_apollonius c1 c2 c3<br/>                     s1 s2 s3 <span class=\"sy0\">=</span><br/>\u00a0<br/>   <span class=\"kw1\">let</span> x1, y1, r1 <span class=\"sy0\">=</span> xyr c1<br/>   <span class=\"kw1\">let</span> x2, y2, r2 <span class=\"sy0\">=</span> xyr c2<br/>   <span class=\"kw1\">let</span> x3, y3, r3 <span class=\"sy0\">=</span> xyr c3<br/>\u00a0<br/>   <span class=\"kw1\">let</span> v11 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span>. <span class=\"sy0\">*</span> x2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span>. <span class=\"sy0\">*</span> x1<br/>   <span class=\"kw1\">let</span> v12 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span>. <span class=\"sy0\">*</span> y2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span>. <span class=\"sy0\">*</span> y1<br/>   <span class=\"kw1\">let</span> v13 <span class=\"sy0\">=</span> x1<span class=\"sy0\">*</span>x1 <span class=\"sy0\">-</span> x2<span class=\"sy0\">*</span>x2 <span class=\"sy0\">+</span> y1<span class=\"sy0\">*</span>y1 <span class=\"sy0\">-</span> y2<span class=\"sy0\">*</span>y2 <span class=\"sy0\">-</span> r1<span class=\"sy0\">*</span>r1 <span class=\"sy0\">+</span> r2<span class=\"sy0\">*</span>r2<br/>   <span class=\"kw1\">let</span> v14 <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"nu0\">2</span>. <span class=\"sy0\">*</span> s2 <span class=\"sy0\">*</span> r2<span class=\"br0\">)</span> <span class=\"sy0\">-</span> <span class=\"br0\">(</span><span class=\"nu0\">2</span>. <span class=\"sy0\">*</span> s1 <span class=\"sy0\">*</span> r1<span class=\"br0\">)</span><br/>\u00a0<br/>   <span class=\"kw1\">let</span> v21 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span>. <span class=\"sy0\">*</span> x3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span>. <span class=\"sy0\">*</span> x2<br/>   <span class=\"kw1\">let</span> v22 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span>. <span class=\"sy0\">*</span> y3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span>. <span class=\"sy0\">*</span> y2<br/>   <span class=\"kw1\">let</span> v23 <span class=\"sy0\">=</span> x2<span class=\"sy0\">*</span>x2 <span class=\"sy0\">-</span> x3<span class=\"sy0\">*</span>x3 <span class=\"sy0\">+</span> y2<span class=\"sy0\">*</span>y2 <span class=\"sy0\">-</span> y3<span class=\"sy0\">*</span>y3 <span class=\"sy0\">-</span> r2<span class=\"sy0\">*</span>r2 <span class=\"sy0\">+</span> r3<span class=\"sy0\">*</span>r3<br/>   <span class=\"kw1\">let</span> v24 <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"nu0\">2</span>. <span class=\"sy0\">*</span> s3 <span class=\"sy0\">*</span> r3<span class=\"br0\">)</span> <span class=\"sy0\">-</span> <span class=\"br0\">(</span><span class=\"nu0\">2</span>. <span class=\"sy0\">*</span> s2 <span class=\"sy0\">*</span> r2<span class=\"br0\">)</span><br/>\u00a0<br/>   <span class=\"kw1\">let</span> w12 <span class=\"sy0\">=</span> v12 <span class=\"sy0\">/</span> v11<br/>   <span class=\"kw1\">let</span> w13 <span class=\"sy0\">=</span> v13 <span class=\"sy0\">/</span> v11<br/>   <span class=\"kw1\">let</span> w14 <span class=\"sy0\">=</span> v14 <span class=\"sy0\">/</span> v11<br/>\u00a0<br/>   <span class=\"kw1\">let</span> w22 <span class=\"sy0\">=</span> v22 <span class=\"sy0\">/</span> v21 <span class=\"sy0\">-</span> w12<br/>   <span class=\"kw1\">let</span> w23 <span class=\"sy0\">=</span> v23 <span class=\"sy0\">/</span> v21 <span class=\"sy0\">-</span> w13<br/>   <span class=\"kw1\">let</span> w24 <span class=\"sy0\">=</span> v24 <span class=\"sy0\">/</span> v21 <span class=\"sy0\">-</span> w14<br/>\u00a0<br/>   <span class=\"kw1\">let</span> p <span class=\"sy0\">=</span> <span class=\"sy0\">-</span> w23 <span class=\"sy0\">/</span> w22<br/>   <span class=\"kw1\">let</span> q <span class=\"sy0\">=</span> w24 <span class=\"sy0\">/</span> w22<br/>   <span class=\"kw1\">let</span> m <span class=\"sy0\">=</span> <span class=\"sy0\">-</span> w12 <span class=\"sy0\">*</span> p <span class=\"sy0\">-</span> w13<br/>   <span class=\"kw1\">let</span> n <span class=\"sy0\">=</span> w14 <span class=\"sy0\">-</span> w12 <span class=\"sy0\">*</span> q<br/>\u00a0<br/>   <span class=\"kw1\">let</span> a <span class=\"sy0\">=</span> n<span class=\"sy0\">*</span>n <span class=\"sy0\">+</span> q<span class=\"sy0\">*</span>q <span class=\"sy0\">-</span> <span class=\"nu0\">1</span>.<br/>   <span class=\"kw1\">let</span> b <span class=\"sy0\">=</span> <span class=\"nu0\">2</span>.<span class=\"sy0\">*</span>m<span class=\"sy0\">*</span>n <span class=\"sy0\">-</span> <span class=\"nu0\">2</span>.<span class=\"sy0\">*</span>n<span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span> <span class=\"nu0\">2</span>.<span class=\"sy0\">*</span>p<span class=\"sy0\">*</span>q <span class=\"sy0\">-</span> <span class=\"nu0\">2</span>.<span class=\"sy0\">*</span>q<span class=\"sy0\">*</span>y1 <span class=\"sy0\">+</span> <span class=\"nu0\">2</span>.<span class=\"sy0\">*</span>s1<span class=\"sy0\">*</span>r1<br/>   <span class=\"kw1\">let</span> c <span class=\"sy0\">=</span> x1<span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span> m<span class=\"sy0\">*</span>m <span class=\"sy0\">-</span> <span class=\"nu0\">2</span>.<span class=\"sy0\">*</span>m<span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span> p<span class=\"sy0\">*</span>p <span class=\"sy0\">+</span> y1<span class=\"sy0\">*</span>y1 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span>.<span class=\"sy0\">*</span>p<span class=\"sy0\">*</span>y1 <span class=\"sy0\">-</span> r1<span class=\"sy0\">*</span>r1<br/>\u00a0<br/>   <span class=\"kw1\">let</span> d <span class=\"sy0\">=</span> b <span class=\"sy0\">*</span> b <span class=\"sy0\">-</span> <span class=\"nu0\">4</span>. <span class=\"sy0\">*</span> a <span class=\"sy0\">*</span> c<br/>   <span class=\"kw1\">let</span> rs <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"sy0\">-</span> b <span class=\"sy0\">-</span> <span class=\"br0\">(</span><span class=\"kw3\">sqrt</span> d<span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"sy0\">/</span> <span class=\"br0\">(</span><span class=\"nu0\">2</span>. <span class=\"sy0\">*</span> a<span class=\"br0\">)</span><br/>\u00a0<br/>   <span class=\"kw1\">let</span> xs <span class=\"sy0\">=</span> m <span class=\"sy0\">+</span> n <span class=\"sy0\">*</span> rs<br/>   <span class=\"kw1\">let</span> ys <span class=\"sy0\">=</span> p <span class=\"sy0\">+</span> q <span class=\"sy0\">*</span> rs<br/>\u00a0<br/>   new_circle xs ys rs<br/>\u00a0<br/>\u00a0<br/><span class=\"br0\">[</span><span class=\"sy0\">&lt;</span>EntryPoint<span class=\"sy0\">&gt;</span><span class=\"br0\">]</span><br/><span class=\"kw1\">let</span> main argv <span class=\"sy0\">=</span> <br/>  <span class=\"kw1\">let</span> c1 <span class=\"sy0\">=</span> new_circle <span class=\"nu0\">0</span>. <span class=\"nu0\">0</span>. <span class=\"nu0\">1</span>.<br/>  <span class=\"kw1\">let</span> c2 <span class=\"sy0\">=</span> new_circle <span class=\"nu0\">4</span>. <span class=\"nu0\">0</span>. <span class=\"nu0\">1</span>.<br/>  <span class=\"kw1\">let</span> c3 <span class=\"sy0\">=</span> new_circle <span class=\"nu0\">2</span>. <span class=\"nu0\">4</span>. <span class=\"nu0\">2</span>.<br/>\u00a0<br/>  <span class=\"kw1\">let</span> r1 <span class=\"sy0\">=</span> solve_apollonius c1 c2 c3 <span class=\"nu0\">1</span>. <span class=\"nu0\">1</span>. <span class=\"nu0\">1</span>.<br/>  <span class=\"me1\">print_circle</span> r1<br/>\u00a0<br/>  <span class=\"kw1\">let</span> r2 <span class=\"sy0\">=</span> solve_apollonius c1 c2 c3 <span class=\"br0\">(</span><span class=\"sy0\">-</span><span class=\"nu0\">1</span>.<span class=\"br0\">)</span> <span class=\"br0\">(</span><span class=\"sy0\">-</span><span class=\"nu0\">1</span>.<span class=\"br0\">)</span> <span class=\"br0\">(</span><span class=\"sy0\">-</span><span class=\"nu0\">1</span>.<span class=\"br0\">)</span><br/>  print_circle r2<br/>  <span class=\"nu0\">0</span></pre>"}, {"lang": "Fortran", "loc": 72, "block": "<pre class=\"fortran highlighted_source\"><span class=\"kw1\">program</span> Apollonius<br/>  <span class=\"kw3\">implicit</span> <span class=\"kw3\">none</span><br/>\u00a0<br/>  <span class=\"kw3\">integer</span>, <span class=\"kw3\">parameter</span> <span class=\"sy0\">::</span> <span class=\"me2\">dp</span> <span class=\"sy0\">=</span> <span class=\"kw4\">selected_real_kind</span><span class=\"br0\">(</span><span class=\"nu0\">15</span><span class=\"br0\">)</span><br/>\u00a0<br/>  <span class=\"kw3\">type</span> circle<br/>    <span class=\"kw3\">real</span><span class=\"br0\">(</span>dp<span class=\"br0\">)</span> <span class=\"sy0\">::</span> <span class=\"me2\">x</span><br/>    <span class=\"kw3\">real</span><span class=\"br0\">(</span>dp<span class=\"br0\">)</span> <span class=\"sy0\">::</span> <span class=\"me2\">y</span><br/>    <span class=\"kw3\">real</span><span class=\"br0\">(</span>dp<span class=\"br0\">)</span> <span class=\"sy0\">::</span> <span class=\"me2\">radius</span><br/>  <span class=\"kw1\">end</span> <span class=\"kw3\">type</span><br/>\u00a0<br/>  <span class=\"kw3\">type</span><span class=\"br0\">(</span>circle<span class=\"br0\">)</span> <span class=\"sy0\">::</span> <span class=\"me2\">c1</span> , c2, c3, r<br/>\u00a0<br/>  c1 <span class=\"sy0\">=</span> circle<span class=\"br0\">(</span><span class=\"nu0\">0.0</span>, <span class=\"nu0\">0.0</span>, <span class=\"nu0\">1.0</span><span class=\"br0\">)</span><br/>  c2 <span class=\"sy0\">=</span> circle<span class=\"br0\">(</span><span class=\"nu0\">4.0</span>, <span class=\"nu0\">0.0</span>, <span class=\"nu0\">1.0</span><span class=\"br0\">)</span><br/>  c3 <span class=\"sy0\">=</span> circle<span class=\"br0\">(</span><span class=\"nu0\">2.0</span>, <span class=\"nu0\">4.0</span>, <span class=\"nu0\">2.0</span><span class=\"br0\">)</span><br/>\u00a0<br/>  write<span class=\"br0\">(</span><span class=\"sy0\">*</span>, <span class=\"st0\">\"(a,3f12.8))\"</span><span class=\"br0\">)</span> <span class=\"st0\">\"External tangent:\"</span>, SolveApollonius<span class=\"br0\">(</span>c1, c2, c3, <span class=\"nu0\">1</span>, <span class=\"nu0\">1</span>, <span class=\"nu0\">1</span><span class=\"br0\">)</span><br/>  write<span class=\"br0\">(</span><span class=\"sy0\">*</span>, <span class=\"st0\">\"(a,3f12.8))\"</span><span class=\"br0\">)</span> <span class=\"st0\">\"Internal tangent:\"</span>, SolveApollonius<span class=\"br0\">(</span>c1, c2, c3, <span class=\"sy0\">-</span><span class=\"nu0\">1</span>, <span class=\"sy0\">-</span><span class=\"nu0\">1</span>, <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><br/>\u00a0<br/><span class=\"co1\">contains</span><br/>\u00a0<br/><span class=\"kw1\">function</span> SolveApollonius<span class=\"br0\">(</span>c1, c2, c3, s1, s2, s3<span class=\"br0\">)</span> <span class=\"kw3\">result</span><span class=\"br0\">(</span>res<span class=\"br0\">)</span><br/>  <span class=\"kw3\">type</span><span class=\"br0\">(</span>circle<span class=\"br0\">)</span> <span class=\"sy0\">::</span> <span class=\"me2\">res</span><br/>  <span class=\"kw3\">type</span><span class=\"br0\">(</span>circle<span class=\"br0\">)</span>, <span class=\"kw3\">intent</span><span class=\"br0\">(</span><span class=\"kw3\">in</span><span class=\"br0\">)</span> <span class=\"sy0\">::</span> <span class=\"me2\">c1</span>, c2, c3<br/>  <span class=\"kw3\">integer</span>, <span class=\"kw3\">intent</span><span class=\"br0\">(</span><span class=\"kw3\">in</span><span class=\"br0\">)</span> <span class=\"sy0\">::</span> <span class=\"me2\">s1</span>, s2, s3<br/>\u00a0<br/>  <span class=\"kw3\">real</span><span class=\"br0\">(</span>dp<span class=\"br0\">)</span> <span class=\"sy0\">::</span> <span class=\"me2\">x1</span>, x2, x3, y1, y2, y3, r1, r2, r3<br/>  <span class=\"kw3\">real</span><span class=\"br0\">(</span>dp<span class=\"br0\">)</span> <span class=\"sy0\">::</span> <span class=\"me2\">v11</span>, v12, v13, v14<br/>  <span class=\"kw3\">real</span><span class=\"br0\">(</span>dp<span class=\"br0\">)</span> <span class=\"sy0\">::</span> <span class=\"me2\">v21</span>, v22, v23, v24<br/>  <span class=\"kw3\">real</span><span class=\"br0\">(</span>dp<span class=\"br0\">)</span> <span class=\"sy0\">::</span> <span class=\"me2\">w12</span>, w13, w14<br/>  <span class=\"kw3\">real</span><span class=\"br0\">(</span>dp<span class=\"br0\">)</span> <span class=\"sy0\">::</span> <span class=\"me2\">w22</span>, w23, w24<br/>  <span class=\"kw3\">real</span><span class=\"br0\">(</span>dp<span class=\"br0\">)</span> <span class=\"sy0\">::</span> <span class=\"me2\">p</span>, q, m, n, a, b, c, det<br/>\u00a0<br/>  x1 <span class=\"sy0\">=</span> c1<span class=\"sy0\">%</span>x; x2 <span class=\"sy0\">=</span> c2<span class=\"sy0\">%</span>x; x3 <span class=\"sy0\">=</span> c3<span class=\"sy0\">%</span>x<br/>  y1 <span class=\"sy0\">=</span> c1<span class=\"sy0\">%</span>y; y2 <span class=\"sy0\">=</span> c2<span class=\"sy0\">%</span>y; y3 <span class=\"sy0\">=</span> c3<span class=\"sy0\">%</span>y<br/>  r1 <span class=\"sy0\">=</span> c1<span class=\"sy0\">%</span>radius; r2 <span class=\"sy0\">=</span> c2<span class=\"sy0\">%</span>radius; r3 <span class=\"sy0\">=</span> c3<span class=\"sy0\">%</span>radius<br/>\u00a0<br/>  v11 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x1<br/>  v12 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y1<br/>  v13 <span class=\"sy0\">=</span> x1<span class=\"sy0\">*</span>x1 <span class=\"sy0\">-</span> x2<span class=\"sy0\">*</span>x2 <span class=\"sy0\">+</span> y1<span class=\"sy0\">*</span>y1 <span class=\"sy0\">-</span> y2<span class=\"sy0\">*</span>y2 <span class=\"sy0\">-</span> r1<span class=\"sy0\">*</span>r1 <span class=\"sy0\">+</span> r2<span class=\"sy0\">*</span>r2<br/>  v14 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s2<span class=\"sy0\">*</span>r2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s1<span class=\"sy0\">*</span>r1<br/>\u00a0<br/>  v21 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x2<br/>  v22 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y2<br/>  v23 <span class=\"sy0\">=</span> x2<span class=\"sy0\">*</span>x2 <span class=\"sy0\">-</span> x3<span class=\"sy0\">*</span>x3 <span class=\"sy0\">+</span> y2<span class=\"sy0\">*</span>y2 <span class=\"sy0\">-</span> y3<span class=\"sy0\">*</span>y3 <span class=\"sy0\">-</span> r2<span class=\"sy0\">*</span>r2 <span class=\"sy0\">+</span> r3<span class=\"sy0\">*</span>r3<br/>  v24 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s3<span class=\"sy0\">*</span>r3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s2<span class=\"sy0\">*</span>r2<br/>\u00a0<br/>  w12 <span class=\"sy0\">=</span> v12<span class=\"sy0\">/</span>v11<br/>  w13 <span class=\"sy0\">=</span> v13<span class=\"sy0\">/</span>v11<br/>  w14 <span class=\"sy0\">=</span> v14<span class=\"sy0\">/</span>v11<br/>\u00a0<br/>  w22 <span class=\"sy0\">=</span> v22<span class=\"sy0\">/</span>v21<span class=\"sy0\">-</span>w12<br/>  w23 <span class=\"sy0\">=</span> v23<span class=\"sy0\">/</span>v21<span class=\"sy0\">-</span>w13<br/>  w24 <span class=\"sy0\">=</span> v24<span class=\"sy0\">/</span>v21<span class=\"sy0\">-</span>w14<br/>\u00a0<br/>  p <span class=\"sy0\">=</span> <span class=\"sy0\">-</span>w23<span class=\"sy0\">/</span>w22<br/>  q <span class=\"sy0\">=</span> w24<span class=\"sy0\">/</span>w22<br/>  m <span class=\"sy0\">=</span> <span class=\"sy0\">-</span>w12<span class=\"sy0\">*</span>P <span class=\"sy0\">-</span> w13<br/>  n <span class=\"sy0\">=</span> w14 <span class=\"sy0\">-</span> w12<span class=\"sy0\">*</span>q<br/>\u00a0<br/>  a <span class=\"sy0\">=</span> n<span class=\"sy0\">*</span>n <span class=\"sy0\">+</span> q<span class=\"sy0\">*</span>q <span class=\"sy0\">-</span> <span class=\"nu0\">1</span><br/>  b <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>m<span class=\"sy0\">*</span>n <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>n<span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>p<span class=\"sy0\">*</span>q <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>q<span class=\"sy0\">*</span>y1 <span class=\"sy0\">+</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s1<span class=\"sy0\">*</span>r1<br/>  c <span class=\"sy0\">=</span> x1<span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span> m<span class=\"sy0\">*</span>m <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>m<span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span> p<span class=\"sy0\">*</span>p <span class=\"sy0\">+</span> y1<span class=\"sy0\">*</span>y1 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>p<span class=\"sy0\">*</span>y1 <span class=\"sy0\">-</span> r1<span class=\"sy0\">*</span>r1<br/>\u00a0<br/>  det <span class=\"sy0\">=</span> b<span class=\"sy0\">*</span>b <span class=\"sy0\">-</span> <span class=\"nu0\">4</span><span class=\"sy0\">*</span>a<span class=\"sy0\">*</span>c<br/>  res<span class=\"sy0\">%</span>radius <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"sy0\">-</span>b<span class=\"sy0\">-</span><span class=\"kw4\">sqrt</span><span class=\"br0\">(</span>det<span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"sy0\">/</span> <span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>a<span class=\"br0\">)</span><br/>  res<span class=\"sy0\">%</span>x <span class=\"sy0\">=</span> m <span class=\"sy0\">+</span> n<span class=\"sy0\">*</span>res<span class=\"sy0\">%</span>radius<br/>  res<span class=\"sy0\">%</span>y <span class=\"sy0\">=</span> p <span class=\"sy0\">+</span> q<span class=\"sy0\">*</span>res<span class=\"sy0\">%</span>radius<br/>\u00a0<br/><span class=\"kw1\">end</span> <span class=\"kw1\">function</span><br/><span class=\"kw1\">end</span> <span class=\"kw1\">program</span></pre>"}, {"lang": "Go", "loc": 64, "block": "<pre class=\"go highlighted_source\"><span class=\"kw1\">package</span> main<br/>\u00a0<br/><span class=\"kw1\">import</span> <span class=\"sy1\">(</span><br/>    <span class=\"st0\">\"fmt\"</span><br/>    <span class=\"st0\">\"math\"</span><br/><span class=\"sy1\">)</span><br/>\u00a0<br/><span class=\"kw1\">type</span> circle <span class=\"kw4\">struct</span> <span class=\"sy1\">{</span><br/>    x<span class=\"sy1\">,</span> y<span class=\"sy1\">,</span> r <span class=\"kw4\">float64</span><br/><span class=\"sy1\">}</span><br/>\u00a0<br/><span class=\"kw4\">func</span> main<span class=\"sy1\">()</span> <span class=\"sy1\">{</span><br/>    c1 <span class=\"sy2\">:=</span> circle<span class=\"sy1\">{</span><span class=\"nu0\">0</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy1\">,</span> <span class=\"nu0\">1</span><span class=\"sy1\">}</span><br/>    c2 <span class=\"sy2\">:=</span> circle<span class=\"sy1\">{</span><span class=\"nu0\">4</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy1\">,</span> <span class=\"nu0\">1</span><span class=\"sy1\">}</span><br/>    c3 <span class=\"sy2\">:=</span> circle<span class=\"sy1\">{</span><span class=\"nu0\">2</span><span class=\"sy1\">,</span> <span class=\"nu0\">4</span><span class=\"sy1\">,</span> <span class=\"nu0\">2</span><span class=\"sy1\">}</span><br/>    fmt<span class=\"sy3\">.</span>Println<span class=\"sy1\">(</span>ap<span class=\"sy1\">(</span>c1<span class=\"sy1\">,</span> c2<span class=\"sy1\">,</span> c3<span class=\"sy1\">,</span> <span class=\"kw2\">true</span><span class=\"sy1\">))</span><br/>    fmt<span class=\"sy3\">.</span>Println<span class=\"sy1\">(</span>ap<span class=\"sy1\">(</span>c1<span class=\"sy1\">,</span> c2<span class=\"sy1\">,</span> c3<span class=\"sy1\">,</span> <span class=\"kw2\">false</span><span class=\"sy1\">))</span><br/><span class=\"sy1\">}</span><br/>\u00a0<br/><span class=\"kw4\">func</span> ap<span class=\"sy1\">(</span>c1<span class=\"sy1\">,</span> c2<span class=\"sy1\">,</span> c3 circle<span class=\"sy1\">,</span> s <span class=\"kw4\">bool</span><span class=\"sy1\">)</span> circle <span class=\"sy1\">{</span><br/>    x1sq <span class=\"sy2\">:=</span> c1<span class=\"sy3\">.</span>x <span class=\"sy3\">*</span> c1<span class=\"sy3\">.</span>x<br/>    y1sq <span class=\"sy2\">:=</span> c1<span class=\"sy3\">.</span>y <span class=\"sy3\">*</span> c1<span class=\"sy3\">.</span>y<br/>    r1sq <span class=\"sy2\">:=</span> c1<span class=\"sy3\">.</span>r <span class=\"sy3\">*</span> c1<span class=\"sy3\">.</span>r<br/>    x2sq <span class=\"sy2\">:=</span> c2<span class=\"sy3\">.</span>x <span class=\"sy3\">*</span> c2<span class=\"sy3\">.</span>x<br/>    y2sq <span class=\"sy2\">:=</span> c2<span class=\"sy3\">.</span>y <span class=\"sy3\">*</span> c2<span class=\"sy3\">.</span>y<br/>    r2sq <span class=\"sy2\">:=</span> c2<span class=\"sy3\">.</span>r <span class=\"sy3\">*</span> c2<span class=\"sy3\">.</span>r<br/>    x3sq <span class=\"sy2\">:=</span> c3<span class=\"sy3\">.</span>x <span class=\"sy3\">*</span> c3<span class=\"sy3\">.</span>x<br/>    y3sq <span class=\"sy2\">:=</span> c3<span class=\"sy3\">.</span>y <span class=\"sy3\">*</span> c3<span class=\"sy3\">.</span>y<br/>    r3sq <span class=\"sy2\">:=</span> c3<span class=\"sy3\">.</span>r <span class=\"sy3\">*</span> c3<span class=\"sy3\">.</span>r<br/>    v11 <span class=\"sy2\">:=</span> <span class=\"nu0\">2</span> <span class=\"sy3\">*</span> <span class=\"sy1\">(</span>c2<span class=\"sy3\">.</span>x <span class=\"sy3\">-</span> c1<span class=\"sy3\">.</span>x<span class=\"sy1\">)</span><br/>    v12 <span class=\"sy2\">:=</span> <span class=\"nu0\">2</span> <span class=\"sy3\">*</span> <span class=\"sy1\">(</span>c2<span class=\"sy3\">.</span>y <span class=\"sy3\">-</span> c1<span class=\"sy3\">.</span>y<span class=\"sy1\">)</span><br/>    v13 <span class=\"sy2\">:=</span> x1sq <span class=\"sy3\">-</span> x2sq <span class=\"sy3\">+</span> y1sq <span class=\"sy3\">-</span> y2sq <span class=\"sy3\">-</span> r1sq <span class=\"sy3\">+</span> r2sq<br/>    v14 <span class=\"sy2\">:=</span> <span class=\"nu0\">2</span> <span class=\"sy3\">*</span> <span class=\"sy1\">(</span>c2<span class=\"sy3\">.</span>r <span class=\"sy3\">-</span> c1<span class=\"sy3\">.</span>r<span class=\"sy1\">)</span><br/>    v21 <span class=\"sy2\">:=</span> <span class=\"nu0\">2</span> <span class=\"sy3\">*</span> <span class=\"sy1\">(</span>c3<span class=\"sy3\">.</span>x <span class=\"sy3\">-</span> c2<span class=\"sy3\">.</span>x<span class=\"sy1\">)</span><br/>    v22 <span class=\"sy2\">:=</span> <span class=\"nu0\">2</span> <span class=\"sy3\">*</span> <span class=\"sy1\">(</span>c3<span class=\"sy3\">.</span>y <span class=\"sy3\">-</span> c2<span class=\"sy3\">.</span>y<span class=\"sy1\">)</span><br/>    v23 <span class=\"sy2\">:=</span> x2sq <span class=\"sy3\">-</span> x3sq <span class=\"sy3\">+</span> y2sq <span class=\"sy3\">-</span> y3sq <span class=\"sy3\">-</span> r2sq <span class=\"sy3\">+</span> r3sq<br/>    v24 <span class=\"sy2\">:=</span> <span class=\"nu0\">2</span> <span class=\"sy3\">*</span> <span class=\"sy1\">(</span>c3<span class=\"sy3\">.</span>r <span class=\"sy3\">-</span> c2<span class=\"sy3\">.</span>r<span class=\"sy1\">)</span><br/>    <span class=\"kw1\">if</span> s <span class=\"sy1\">{</span><br/>        v14 <span class=\"sy2\">=</span> <span class=\"sy3\">-</span>v14<br/>        v24 <span class=\"sy2\">=</span> <span class=\"sy3\">-</span>v24<br/>    <span class=\"sy1\">}</span><br/>    w12 <span class=\"sy2\">:=</span> v12 <span class=\"sy3\">/</span> v11<br/>    w13 <span class=\"sy2\">:=</span> v13 <span class=\"sy3\">/</span> v11<br/>    w14 <span class=\"sy2\">:=</span> v14 <span class=\"sy3\">/</span> v11<br/>    w22 <span class=\"sy2\">:=</span> v22<span class=\"sy3\">/</span>v21 <span class=\"sy3\">-</span> w12<br/>    w23 <span class=\"sy2\">:=</span> v23<span class=\"sy3\">/</span>v21 <span class=\"sy3\">-</span> w13<br/>    w24 <span class=\"sy2\">:=</span> v24<span class=\"sy3\">/</span>v21 <span class=\"sy3\">-</span> w14<br/>    p <span class=\"sy2\">:=</span> <span class=\"sy3\">-</span>w23 <span class=\"sy3\">/</span> w22<br/>    q <span class=\"sy2\">:=</span> w24 <span class=\"sy3\">/</span> w22<br/>    m <span class=\"sy2\">:=</span> <span class=\"sy3\">-</span>w12<span class=\"sy3\">*</span>p <span class=\"sy3\">-</span> w13<br/>    n <span class=\"sy2\">:=</span> w14 <span class=\"sy3\">-</span> w12<span class=\"sy3\">*</span>q<br/>    a <span class=\"sy2\">:=</span> n<span class=\"sy3\">*</span>n <span class=\"sy3\">+</span> q<span class=\"sy3\">*</span>q <span class=\"sy3\">-</span> <span class=\"nu0\">1</span><br/>    b <span class=\"sy2\">:=</span> m<span class=\"sy3\">*</span>n <span class=\"sy3\">-</span> n<span class=\"sy3\">*</span>c1<span class=\"sy3\">.</span>x <span class=\"sy3\">+</span> p<span class=\"sy3\">*</span>q <span class=\"sy3\">-</span> q<span class=\"sy3\">*</span>c1<span class=\"sy3\">.</span>y<br/>    <span class=\"kw1\">if</span> s <span class=\"sy1\">{</span><br/>        b <span class=\"sy2\">-=</span> c1<span class=\"sy3\">.</span>r<br/>    <span class=\"sy1\">}</span> <span class=\"kw1\">else</span> <span class=\"sy1\">{</span><br/>        b <span class=\"sy2\">+=</span> c1<span class=\"sy3\">.</span>r<br/>    <span class=\"sy1\">}</span><br/>    b <span class=\"sy2\">*=</span> <span class=\"nu0\">2</span><br/>    c <span class=\"sy2\">:=</span> x1sq <span class=\"sy3\">+</span> m<span class=\"sy3\">*</span>m <span class=\"sy3\">-</span> <span class=\"nu0\">2</span><span class=\"sy3\">*</span>m<span class=\"sy3\">*</span>c1<span class=\"sy3\">.</span>x <span class=\"sy3\">+</span> p<span class=\"sy3\">*</span>p <span class=\"sy3\">+</span> y1sq <span class=\"sy3\">-</span> <span class=\"nu0\">2</span><span class=\"sy3\">*</span>p<span class=\"sy3\">*</span>c1<span class=\"sy3\">.</span>y <span class=\"sy3\">-</span> r1sq<br/>    d <span class=\"sy2\">:=</span> b<span class=\"sy3\">*</span>b <span class=\"sy3\">-</span> <span class=\"nu0\">4</span><span class=\"sy3\">*</span>a<span class=\"sy3\">*</span>c<br/>    rs <span class=\"sy2\">:=</span> <span class=\"sy1\">(</span><span class=\"sy3\">-</span>b <span class=\"sy3\">-</span> math<span class=\"sy3\">.</span>Sqrt<span class=\"sy1\">(</span>d<span class=\"sy1\">))</span> <span class=\"sy3\">/</span> <span class=\"sy1\">(</span><span class=\"nu0\">2</span> <span class=\"sy3\">*</span> a<span class=\"sy1\">)</span><br/>    <span class=\"kw1\">return</span> circle<span class=\"sy1\">{</span>m <span class=\"sy3\">+</span> n<span class=\"sy3\">*</span>rs<span class=\"sy1\">,</span> p <span class=\"sy3\">+</span> q<span class=\"sy3\">*</span>rs<span class=\"sy1\">,</span> rs<span class=\"sy1\">}</span><br/><span class=\"sy1\">}</span></pre>"}, {"lang": "Haskell", "loc": 75, "block": "<pre class=\"haskell highlighted_source\"><span class=\"kw1\">data</span> Circle <span class=\"sy0\">=</span> Circle <span class=\"br0\">{</span> x<span class=\"sy0\">,</span> y<span class=\"sy0\">,</span> r <span class=\"sy0\">::</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:Double\"><span class=\"kw4\">Double</span></a> <span class=\"br0\">}</span> <span class=\"kw1\">deriving</span> <span class=\"br0\">(</span><a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:Show\"><span class=\"kw4\">Show</span></a><span class=\"sy0\">,</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:Eq\"><span class=\"kw4\">Eq</span></a><span class=\"br0\">)</span><br/><span class=\"kw1\">data</span> Tangent <span class=\"sy0\">=</span> Externally <span class=\"sy0\">|</span> Internally <span class=\"kw1\">deriving</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:Eq\"><span class=\"kw4\">Eq</span></a><br/>\u00a0<br/><span class=\"coMULTI\">{--<br/>Solves the Problem of Apollonius (finding a circle tangent to three<br/>other circles in the plane).<br/>\u00a0<br/>Params:<br/>  c1 = First circle of the problem.<br/>  c2 = Second circle of the problem.<br/>  c3 = Third circle of the problem.<br/>  t1 = How is the solution tangent (externally or internally) to c1.<br/>  t2 = How is the solution tangent (externally or internally) to c2.<br/>  t3 = How is the solution tangent (externally or internally) to c3.<br/>\u00a0<br/>Returns: The Circle that is tangent to c1, c2 and c3.<br/>--}</span><br/>solveApollonius <span class=\"sy0\">::</span> Circle <span class=\"sy0\">-&gt;</span> Circle <span class=\"sy0\">-&gt;</span> Circle <span class=\"sy0\">-&gt;</span><br/>                   Tangent <span class=\"sy0\">-&gt;</span> Tangent <span class=\"sy0\">-&gt;</span> Tangent <span class=\"sy0\">-&gt;</span><br/>                   Circle<br/>solveApollonius c1 c2 c3 t1 t2 t3 <span class=\"sy0\">=</span><br/>    Circle <span class=\"br0\">(</span>m <span class=\"sy0\">+</span> n <span class=\"sy0\">*</span> rs<span class=\"br0\">)</span> <span class=\"br0\">(</span>p <span class=\"sy0\">+</span> q <span class=\"sy0\">*</span> rs<span class=\"br0\">)</span> rs<br/>    <span class=\"kw1\">where</span><br/>        s1 <span class=\"sy0\">=</span> <span class=\"kw1\">if</span> t1 <span class=\"sy0\">==</span> Externally <span class=\"kw1\">then</span> <span class=\"nu0\">1.0</span> <span class=\"kw1\">else</span> <span class=\"sy0\">-</span><span class=\"nu0\">1.0</span><br/>        s2 <span class=\"sy0\">=</span> <span class=\"kw1\">if</span> t2 <span class=\"sy0\">==</span> Externally <span class=\"kw1\">then</span> <span class=\"nu0\">1.0</span> <span class=\"kw1\">else</span> <span class=\"sy0\">-</span><span class=\"nu0\">1.0</span><br/>        s3 <span class=\"sy0\">=</span> <span class=\"kw1\">if</span> t3 <span class=\"sy0\">==</span> Externally <span class=\"kw1\">then</span> <span class=\"nu0\">1.0</span> <span class=\"kw1\">else</span> <span class=\"sy0\">-</span><span class=\"nu0\">1.0</span><br/>\u00a0<br/>        v11 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> x c2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> x c1<br/>        v12 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> y c2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> y c1<br/>        v13 <span class=\"sy0\">=</span> x c1 <span class=\"sy0\">^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">-</span> x c2 <span class=\"sy0\">^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">+</span><br/>              y c1 <span class=\"sy0\">^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">-</span> y c2 <span class=\"sy0\">^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">-</span><br/>              r c1 <span class=\"sy0\">^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">+</span> r c2 <span class=\"sy0\">^</span> <span class=\"nu0\">2</span><br/>        v14 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s2 <span class=\"sy0\">*</span> r c2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s1 <span class=\"sy0\">*</span> r c1<br/>\u00a0<br/>        v21 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> x c3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> x c2<br/>        v22 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> y c3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> y c2<br/>        v23 <span class=\"sy0\">=</span> x c2 <span class=\"sy0\">^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">-</span> x c3 <span class=\"sy0\">^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">+</span><br/>              y c2 <span class=\"sy0\">^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">-</span> y c3 <span class=\"sy0\">^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">-</span><br/>              r c2 <span class=\"sy0\">^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">+</span> r c3 <span class=\"sy0\">^</span> <span class=\"nu0\">2</span>;<br/>        v24 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s3 <span class=\"sy0\">*</span> r c3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s2 <span class=\"sy0\">*</span> r c2<br/>\u00a0<br/>        w12 <span class=\"sy0\">=</span> v12 <span class=\"sy0\">/</span> v11<br/>        w13 <span class=\"sy0\">=</span> v13 <span class=\"sy0\">/</span> v11<br/>        w14 <span class=\"sy0\">=</span> v14 <span class=\"sy0\">/</span> v11<br/>\u00a0<br/>        w22 <span class=\"sy0\">=</span> v22 <span class=\"sy0\">/</span> v21 <span class=\"sy0\">-</span> w12<br/>        w23 <span class=\"sy0\">=</span> v23 <span class=\"sy0\">/</span> v21 <span class=\"sy0\">-</span> w13<br/>        w24 <span class=\"sy0\">=</span> v24 <span class=\"sy0\">/</span> v21 <span class=\"sy0\">-</span> w14<br/>\u00a0<br/>        p <span class=\"sy0\">=</span> <span class=\"sy0\">-</span>w23 <span class=\"sy0\">/</span> w22<br/>        q <span class=\"sy0\">=</span>  w24 <span class=\"sy0\">/</span> w22<br/>        m <span class=\"sy0\">=</span> <span class=\"sy0\">-</span>w12 <span class=\"sy0\">*</span> p <span class=\"sy0\">-</span> w13<br/>        n <span class=\"sy0\">=</span>  w14 <span class=\"sy0\">-</span> w12 <span class=\"sy0\">*</span> q<br/>\u00a0<br/>        a <span class=\"sy0\">=</span> n <span class=\"sy0\">*</span> n <span class=\"sy0\">+</span> q <span class=\"sy0\">^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">1</span><br/>        b <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> m <span class=\"sy0\">*</span> n <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> n <span class=\"sy0\">*</span> x c1 <span class=\"sy0\">+</span><br/>            <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> p <span class=\"sy0\">*</span> q <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> q <span class=\"sy0\">*</span> y c1 <span class=\"sy0\">+</span><br/>            <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s1 <span class=\"sy0\">*</span> r c1<br/>        c <span class=\"sy0\">=</span> x c1 <span class=\"sy0\">^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">+</span> m <span class=\"sy0\">^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> m <span class=\"sy0\">*</span> x c1 <span class=\"sy0\">+</span><br/>            p <span class=\"sy0\">^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">+</span> y c1 <span class=\"sy0\">^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> p <span class=\"sy0\">*</span> y c1 <span class=\"sy0\">-</span> r c1 <span class=\"sy0\">^</span> <span class=\"nu0\">2</span><br/>\u00a0<br/>        <span class=\"co1\">-- Find a root of a quadratic equation.</span><br/>        <span class=\"co1\">-- This requires the circle centers not to be e.g. colinear.</span><br/>        d <span class=\"sy0\">=</span> b <span class=\"sy0\">^</span> <span class=\"nu0\">2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">4</span> <span class=\"sy0\">*</span> a <span class=\"sy0\">*</span> c<br/>        rs <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"sy0\">-</span>b <span class=\"sy0\">-</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:sqrt\"><span class=\"kw3\">sqrt</span></a> d<span class=\"br0\">)</span> <span class=\"sy0\">/</span> <span class=\"br0\">(</span><span class=\"nu0\">2</span> <span class=\"sy0\">*</span> a<span class=\"br0\">)</span><br/>\u00a0<br/>main <span class=\"sy0\">=</span> <span class=\"kw1\">do</span><br/>    <span class=\"kw1\">let</span> c1 <span class=\"sy0\">=</span> Circle <span class=\"nu0\">0.0</span> <span class=\"nu0\">0.0</span> <span class=\"nu0\">1.0</span><br/>    <span class=\"kw1\">let</span> c2 <span class=\"sy0\">=</span> Circle <span class=\"nu0\">4.0</span> <span class=\"nu0\">0.0</span> <span class=\"nu0\">1.0</span><br/>    <span class=\"kw1\">let</span> c3 <span class=\"sy0\">=</span> Circle <span class=\"nu0\">2.0</span> <span class=\"nu0\">4.0</span> <span class=\"nu0\">2.0</span><br/>    <span class=\"kw1\">let</span> te <span class=\"sy0\">=</span> Externally<br/>    <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:print\"><span class=\"kw3\">print</span></a> <span class=\"sy0\">$</span> solveApollonius c1 c2 c3 te te te<br/>\u00a0<br/>    <span class=\"kw1\">let</span> ti <span class=\"sy0\">=</span> Internally<br/>    <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:print\"><span class=\"kw3\">print</span></a> <span class=\"sy0\">$</span> solveApollonius c1 c2 c3 ti ti ti</pre>"}, {"lang": "Icon and Unicon", "loc": 68, "block": "<pre class=\"icon highlighted_source\"><span class=\"kw1\">link</span> graphics<br/>\u00a0<br/><span class=\"kw1\">record</span> circle<span class=\"br0\">(</span>x<span class=\"sy1\">,</span>y<span class=\"sy1\">,</span>r<span class=\"br0\">)</span><br/><span class=\"kw2\">global</span> scale<span class=\"sy1\">,</span>xoffset<span class=\"sy1\">,</span>yoffset<span class=\"sy1\">,</span>yadjust<br/>\u00a0<br/><span class=\"kw1\">procedure</span> main<span class=\"br0\">(</span><span class=\"br0\">)</span><br/>\u00a0<br/>WOpen<span class=\"br0\">(</span><span class=\"st0\">\"size=400,400\"</span><span class=\"br0\">)</span> <span class=\"sy1\">|</span> <span class=\"kw4\">stop</span><span class=\"br0\">(</span><span class=\"st0\">\"Unable to open Window\"</span><span class=\"br0\">)</span><br/>scale <span class=\"sy1\">:=</span> <span class=\"nu0\">28</span><br/>xoffset <span class=\"sy1\">:=</span> <span class=\"kw5\">WAttrib</span><span class=\"br0\">(</span><span class=\"st0\">\"width\"</span><span class=\"br0\">)</span> <span class=\"sy1\">/</span> <span class=\"nu0\">2</span><br/>yoffset <span class=\"sy1\">:=</span> <span class=\"br0\">(</span> yadjust <span class=\"sy1\">:=</span> <span class=\"kw5\">WAttrib</span><span class=\"br0\">(</span><span class=\"st0\">\"height\"</span><span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"sy1\">/</span> <span class=\"nu0\">2</span><br/>\u00a0<br/>\u00a0<br/>WC<span class=\"br0\">(</span>c1 <span class=\"sy1\">:=</span> circle<span class=\"br0\">(</span><span class=\"nu0\">0</span><span class=\"sy1\">,</span><span class=\"nu0\">0</span><span class=\"sy1\">,</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy1\">,</span><span class=\"st0\">\"black\"</span><span class=\"br0\">)</span><br/>WC<span class=\"br0\">(</span>c2 <span class=\"sy1\">:=</span> circle<span class=\"br0\">(</span><span class=\"nu0\">4</span><span class=\"sy1\">,</span><span class=\"nu0\">0</span><span class=\"sy1\">,</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy1\">,</span><span class=\"st0\">\"black\"</span><span class=\"br0\">)</span><br/>WC<span class=\"br0\">(</span>c3 <span class=\"sy1\">:=</span> circle<span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy1\">,</span><span class=\"nu0\">4</span><span class=\"sy1\">,</span><span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"sy1\">,</span><span class=\"st0\">\"black\"</span><span class=\"br0\">)</span><br/>WC<span class=\"br0\">(</span>c4 <span class=\"sy1\">:=</span> Apollonius<span class=\"br0\">(</span>c1<span class=\"sy1\">,</span>c2<span class=\"sy1\">,</span>c3<span class=\"sy1\">,</span><span class=\"nu0\">1</span><span class=\"sy1\">,</span><span class=\"nu0\">1</span><span class=\"sy1\">,</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy1\">,</span><span class=\"st0\">\"green\"</span><span class=\"br0\">)</span>    <span class=\"co1\">#/ Expects \"Circle[x=2.00,y=2.10,r=3.90]\" (green circle in image)</span><br/>WC<span class=\"br0\">(</span>c5 <span class=\"sy1\">:=</span> Apollonius<span class=\"br0\">(</span>c1<span class=\"sy1\">,</span>c2<span class=\"sy1\">,</span>c3<span class=\"sy1\">,-</span><span class=\"nu0\">1</span><span class=\"sy1\">,-</span><span class=\"nu0\">1</span><span class=\"sy1\">,-</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy1\">,</span><span class=\"st0\">\"red\"</span><span class=\"br0\">)</span>   <span class=\"co1\">#/ Expects \"Circle[x=2.00,y=0.83,r=1.17]\" (red circle in image)</span><br/>\u00a0<br/>\u00a0<br/><span class=\"kw5\">WAttrib</span><span class=\"br0\">(</span><span class=\"st0\">\"fg=blue\"</span><span class=\"br0\">)</span><br/><span class=\"kw5\">DrawLine</span><span class=\"br0\">(</span> <span class=\"nu0\">0</span><span class=\"sy1\">*</span>scale<span class=\"sy1\">+</span>xoffset<span class=\"sy1\">,</span> yadjust<span class=\"sy1\">-</span><span class=\"br0\">(</span><span class=\"sy1\">-</span><span class=\"nu0\">1</span><span class=\"sy1\">*</span>scale<span class=\"sy1\">+</span>yoffset<span class=\"br0\">)</span><span class=\"sy1\">,</span>  <span class=\"nu0\">0</span><span class=\"sy1\">*</span>scale<span class=\"sy1\">+</span>xoffset<span class=\"sy1\">,</span> yadjust<span class=\"sy1\">-</span><span class=\"br0\">(</span><span class=\"nu0\">4</span><span class=\"sy1\">*</span>scale<span class=\"sy1\">+</span>yoffset<span class=\"br0\">)</span> <span class=\"br0\">)</span><br/><span class=\"kw5\">DrawLine</span><span class=\"br0\">(</span> <span class=\"sy1\">-</span><span class=\"nu0\">1</span><span class=\"sy1\">*</span>scale<span class=\"sy1\">+</span>xoffset<span class=\"sy1\">,</span> yadjust<span class=\"sy1\">-</span><span class=\"br0\">(</span><span class=\"nu0\">0</span><span class=\"sy1\">*</span>scale<span class=\"sy1\">+</span>yoffset<span class=\"br0\">)</span><span class=\"sy1\">,</span>  <span class=\"nu0\">4</span><span class=\"sy1\">*</span>scale<span class=\"sy1\">+</span>xoffset<span class=\"sy1\">,</span> yadjust<span class=\"sy1\">-</span><span class=\"br0\">(</span><span class=\"nu0\">0</span><span class=\"sy1\">*</span>scale<span class=\"sy1\">+</span>yoffset<span class=\"br0\">)</span> <span class=\"br0\">)</span><br/>WDone<span class=\"br0\">(</span><span class=\"br0\">)</span><br/><span class=\"kw1\">end</span><br/>\u00a0<br/><span class=\"kw1\">procedure</span> WC<span class=\"br0\">(</span>c<span class=\"sy1\">,</span>fg<span class=\"br0\">)</span>  <span class=\"co1\"># write and plot circle</span><br/><span class=\"kw5\">WAttrib</span><span class=\"br0\">(</span><span class=\"st0\">\"fg=\"</span><span class=\"sy1\">||</span>fg<span class=\"br0\">)</span> <br/><span class=\"kw5\">DrawCircle</span><span class=\"br0\">(</span>c<span class=\"sy1\">.</span><span class=\"me1\">x</span><span class=\"sy1\">*</span>scale<span class=\"sy1\">+</span>xoffset<span class=\"sy1\">,</span> yadjust<span class=\"sy1\">-</span><span class=\"br0\">(</span>c<span class=\"sy1\">.</span><span class=\"me1\">y</span><span class=\"sy1\">*</span>scale<span class=\"sy1\">+</span>yoffset<span class=\"br0\">)</span><span class=\"sy1\">,</span> c<span class=\"sy1\">.</span><span class=\"me1\">r</span><span class=\"sy1\">*</span>scale<span class=\"br0\">)</span><br/><span class=\"kw1\">return</span> <span class=\"kw4\">write</span><span class=\"br0\">(</span><span class=\"st0\">\"Circle(x,y,r)\u00a0:= (\"</span><span class=\"sy1\">,</span>c<span class=\"sy1\">.</span><span class=\"me1\">x</span><span class=\"sy1\">,</span><span class=\"st0\">\", \"</span><span class=\"sy1\">,</span>c<span class=\"sy1\">.</span><span class=\"me1\">y</span><span class=\"sy1\">,</span><span class=\"st0\">\", \"</span><span class=\"sy1\">,</span>c<span class=\"sy1\">.</span><span class=\"me1\">r</span><span class=\"sy1\">,</span><span class=\"st0\">\")\"</span><span class=\"br0\">)</span><br/><span class=\"kw1\">end</span><br/>\u00a0<br/><span class=\"kw1\">procedure</span> Apollonius<span class=\"br0\">(</span>c1<span class=\"sy1\">,</span>c2<span class=\"sy1\">,</span>c3<span class=\"sy1\">,</span>s1<span class=\"sy1\">,</span>s2<span class=\"sy1\">,</span>s3<span class=\"br0\">)</span>  <span class=\"co1\"># solve Apollonius</span><br/>\u00a0<br/>  v11 <span class=\"sy1\">:=</span> <span class=\"nu0\">2</span><span class=\"sy1\">.*</span><span class=\"br0\">(</span>c2<span class=\"sy1\">.</span><span class=\"me1\">x</span> <span class=\"sy1\">-</span> c1<span class=\"sy1\">.</span><span class=\"me1\">x</span><span class=\"br0\">)</span><br/>  v12 <span class=\"sy1\">:=</span> <span class=\"nu0\">2</span><span class=\"sy1\">.*</span><span class=\"br0\">(</span>c2<span class=\"sy1\">.</span><span class=\"me1\">y</span> <span class=\"sy1\">-</span> c1<span class=\"sy1\">.</span><span class=\"me1\">y</span><span class=\"br0\">)</span><br/>  v13 <span class=\"sy1\">:=</span> c1<span class=\"sy1\">.</span><span class=\"me1\">x</span><span class=\"sy1\">^</span><span class=\"nu0\">2</span> <span class=\"sy1\">-</span> c2<span class=\"sy1\">.</span><span class=\"me1\">x</span><span class=\"sy1\">^</span><span class=\"nu0\">2</span> <span class=\"sy1\">+</span> c1<span class=\"sy1\">.</span><span class=\"me1\">y</span><span class=\"sy1\">^</span><span class=\"nu0\">2</span> <span class=\"sy1\">-</span> c2<span class=\"sy1\">.</span><span class=\"me1\">y</span><span class=\"sy1\">^</span><span class=\"nu0\">2</span> <span class=\"sy1\">-</span> c1<span class=\"sy1\">.</span><span class=\"me1\">r</span><span class=\"sy1\">^</span><span class=\"nu0\">2</span> <span class=\"sy1\">+</span> c2<span class=\"sy1\">.</span><span class=\"me1\">r</span><span class=\"sy1\">^</span><span class=\"nu0\">2</span><br/>  v14 <span class=\"sy1\">:=</span> <span class=\"nu0\">2</span><span class=\"sy1\">.*</span><span class=\"br0\">(</span>s2<span class=\"sy1\">*</span>c2<span class=\"sy1\">.</span><span class=\"me1\">r</span> <span class=\"sy1\">-</span> s1<span class=\"sy1\">*</span>c1<span class=\"sy1\">.</span><span class=\"me1\">r</span><span class=\"br0\">)</span><br/>\u00a0<br/>  v21 <span class=\"sy1\">:=</span> <span class=\"nu0\">2</span><span class=\"sy1\">.*</span><span class=\"br0\">(</span>c3<span class=\"sy1\">.</span><span class=\"me1\">x</span> <span class=\"sy1\">-</span> c2<span class=\"sy1\">.</span><span class=\"me1\">x</span><span class=\"br0\">)</span><br/>  v22 <span class=\"sy1\">:=</span> <span class=\"nu0\">2</span><span class=\"sy1\">.*</span><span class=\"br0\">(</span>c3<span class=\"sy1\">.</span><span class=\"me1\">y</span> <span class=\"sy1\">-</span> c2<span class=\"sy1\">.</span><span class=\"me1\">y</span><span class=\"br0\">)</span><br/>  v23 <span class=\"sy1\">:=</span> c2<span class=\"sy1\">.</span><span class=\"me1\">x</span><span class=\"sy1\">^</span><span class=\"nu0\">2</span> <span class=\"sy1\">-</span> c3<span class=\"sy1\">.</span><span class=\"me1\">x</span><span class=\"sy1\">^</span><span class=\"nu0\">2</span> <span class=\"sy1\">+</span> c2<span class=\"sy1\">.</span><span class=\"me1\">y</span><span class=\"sy1\">^</span><span class=\"nu0\">2</span> <span class=\"sy1\">-</span> c3<span class=\"sy1\">.</span><span class=\"me1\">y</span><span class=\"sy1\">^</span><span class=\"nu0\">2</span> <span class=\"sy1\">-</span> c2<span class=\"sy1\">.</span><span class=\"me1\">r</span><span class=\"sy1\">^</span><span class=\"nu0\">2</span> <span class=\"sy1\">+</span> c3<span class=\"sy1\">.</span><span class=\"me1\">r</span><span class=\"sy1\">^</span><span class=\"nu0\">2</span><br/>  v24 <span class=\"sy1\">:=</span> <span class=\"nu0\">2</span><span class=\"sy1\">.*</span><span class=\"br0\">(</span>s3<span class=\"sy1\">*</span>c3<span class=\"sy1\">.</span><span class=\"me1\">r</span> <span class=\"sy1\">-</span> s2<span class=\"sy1\">*</span>c2<span class=\"sy1\">.</span><span class=\"me1\">r</span><span class=\"br0\">)</span><br/>\u00a0<br/>  w12 <span class=\"sy1\">:=</span> v12<span class=\"sy1\">/</span>v11<br/>  w13 <span class=\"sy1\">:=</span> v13<span class=\"sy1\">/</span>v11<br/>  w14 <span class=\"sy1\">:=</span> v14<span class=\"sy1\">/</span>v11<br/>\u00a0<br/>  w22 <span class=\"sy1\">:=</span> v22<span class=\"sy1\">/</span>v21<span class=\"sy1\">-</span>w12<br/>  w23 <span class=\"sy1\">:=</span> v23<span class=\"sy1\">/</span>v21<span class=\"sy1\">-</span>w13<br/>  w24 <span class=\"sy1\">:=</span> v24<span class=\"sy1\">/</span>v21<span class=\"sy1\">-</span>w14<br/>\u00a0<br/>  P <span class=\"sy1\">:=</span> <span class=\"sy1\">-</span>w23<span class=\"sy1\">/</span>w22<br/>  Q <span class=\"sy1\">:=</span> w24<span class=\"sy1\">/</span>w22<br/>  M <span class=\"sy1\">:=</span> <span class=\"sy1\">-</span>w12<span class=\"sy1\">*</span>P<span class=\"sy1\">-</span>w13<br/>  N <span class=\"sy1\">:=</span> w14 <span class=\"sy1\">-</span> w12<span class=\"sy1\">*</span>Q<br/>\u00a0<br/>  a <span class=\"sy1\">:=</span> N<span class=\"sy1\">*</span>N <span class=\"sy1\">+</span> Q<span class=\"sy1\">*</span>Q <span class=\"sy1\">-</span> <span class=\"nu0\">1</span><br/>  b <span class=\"sy1\">:=</span> <span class=\"nu0\">2</span><span class=\"sy1\">*</span>M<span class=\"sy1\">*</span>N <span class=\"sy1\">-</span> <span class=\"nu0\">2</span><span class=\"sy1\">*</span>N<span class=\"sy1\">*</span>c1<span class=\"sy1\">.</span><span class=\"me1\">x</span> <span class=\"sy1\">+</span> <span class=\"nu0\">2</span><span class=\"sy1\">*</span>P<span class=\"sy1\">*</span>Q <span class=\"sy1\">-</span> <span class=\"nu0\">2</span><span class=\"sy1\">*</span>Q<span class=\"sy1\">*</span>c1<span class=\"sy1\">.</span><span class=\"me1\">y</span> <span class=\"sy1\">+</span> <span class=\"nu0\">2</span><span class=\"sy1\">*</span>s1<span class=\"sy1\">*</span>c1<span class=\"sy1\">.</span><span class=\"me1\">r</span><br/>  c <span class=\"sy1\">:=</span> c1<span class=\"sy1\">.</span><span class=\"me1\">x</span><span class=\"sy1\">*</span>c1<span class=\"sy1\">.</span><span class=\"me1\">x</span> <span class=\"sy1\">+</span> M<span class=\"sy1\">*</span>M <span class=\"sy1\">-</span> <span class=\"nu0\">2</span><span class=\"sy1\">*</span>M<span class=\"sy1\">*</span>c1<span class=\"sy1\">.</span><span class=\"me1\">x</span> <span class=\"sy1\">+</span> P<span class=\"sy1\">*</span>P <span class=\"sy1\">+</span> c1<span class=\"sy1\">.</span><span class=\"me1\">y</span><span class=\"sy1\">*</span>c1<span class=\"sy1\">.</span><span class=\"me1\">y</span> <span class=\"sy1\">-</span> <span class=\"nu0\">2</span><span class=\"sy1\">*</span>P<span class=\"sy1\">*</span>c1<span class=\"sy1\">.</span><span class=\"me1\">y</span> <span class=\"sy1\">-</span> c1<span class=\"sy1\">.</span><span class=\"me1\">r</span><span class=\"sy1\">*</span>c1<span class=\"sy1\">.</span><span class=\"me1\">r</span><br/>\u00a0<br/>  <span class=\"co1\">#// Find a root of a quadratic equation. This requires the circle centers not to be e.g. colinear</span><br/>  D <span class=\"sy1\">:=</span> b<span class=\"sy1\">*</span>b<span class=\"sy1\">-</span><span class=\"nu0\">4</span><span class=\"sy1\">*</span>a<span class=\"sy1\">*</span>c<br/>  rs <span class=\"sy1\">:=</span> <span class=\"br0\">(</span><span class=\"sy1\">-</span>b<span class=\"sy1\">-</span><span class=\"kw4\">sqrt</span><span class=\"br0\">(</span>D<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy1\">/</span><span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy1\">*</span>a<span class=\"br0\">)</span><br/>  xs <span class=\"sy1\">:=</span> M <span class=\"sy1\">+</span> N <span class=\"sy1\">*</span> rs<br/>  ys <span class=\"sy1\">:=</span> P <span class=\"sy1\">+</span> Q <span class=\"sy1\">*</span> rs<br/>  <span class=\"kw1\">return</span> circle<span class=\"br0\">(</span>xs<span class=\"sy1\">,</span>ys<span class=\"sy1\">,</span>rs<span class=\"br0\">)</span><br/><span class=\"kw1\">end</span></pre>"}, {"lang": "J", "loc": 19, "block": "<pre class=\"j highlighted_source\">require <span class=\"st_h\">'math/misc/amoeba'</span><br/>\u00a0<br/><span class=\"co1\">NB.*apollonius v solves Apollonius problems</span><br/><span class=\"co1\">NB. y is Cx0 Cy0 R0,  Cx1 Cy1 R1,:  Cx2 Cy2 R2 </span><br/><span class=\"co1\">NB. x are radius scale factors to control which circles are included</span><br/><span class=\"co1\">NB.   in the common tangent circle.  1 to surround, _1 to exclude.</span><br/><span class=\"co1\">NB. returns Cxs Cys Rs</span><br/>apollonius =: verb define\"<span class=\"nu0\">1</span> <span class=\"nu0\">_</span><br/> <span class=\"nu0\">1</span> apollonius <span class=\"kw2\">y</span><br/>:<br/> centers=. <span class=\"nu0\">2</span>{.\"<span class=\"nu0\">1</span> <span class=\"kw2\">y</span><br/> radii=. <span class=\"kw2\">x</span> * {:\"<span class=\"nu0\">1</span> <span class=\"kw2\">y</span><br/> goal=. <span class=\"nu0\">1e_20</span>                               <span class=\"co1\">NB. goal simplex volume</span><br/> dist=. radii + [: +/\"<span class=\"nu0\">1</span>&amp;.:*: centers -\"<span class=\"nu0\">1</span> ]  <span class=\"co1\">NB. distances to tangents</span><br/> <span class=\"st_h\">'soln err'</span>=. <span class=\"sy0\">(</span>[: +/@:*:@, -/<a class=\"__cf_email__\" data-cfemail=\"403e0024293334\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a><span class=\"sy0\">)</span> f. amoeba goal centers<br/> <span class=\"kw1\">if.</span> err &gt; <span class=\"nu0\">10</span> * goal <span class=\"kw1\">do.</span> <span class=\"st_h\">''</span> <span class=\"kw1\">return.</span> <span class=\"kw1\">end.</span>    <span class=\"co1\">NB. no solution found</span><br/> avg=. +/\u00a0% #<br/> <span class=\"sy0\">(</span>, <a class=\"__cf_email__\" data-cfemail=\"8eeff8e9ceeae7fdfa\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a><span class=\"sy0\">)</span> soln<br/><span class=\"sy0\">)</span></pre>"}, {"lang": "Java", "loc": 93, "block": "<pre class=\"java highlighted_source\"><span class=\"kw1\">public</span> <span class=\"kw1\">class</span> Circle<br/><span class=\"br0\">{</span><br/> <span class=\"kw1\">public</span> <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> center<span class=\"sy0\">;</span><br/> <span class=\"kw1\">public</span> <span class=\"kw4\">double</span> radius<span class=\"sy0\">;</span><br/> <span class=\"kw1\">public</span> Circle<span class=\"br0\">(</span><span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> center, <span class=\"kw4\">double</span> radius<span class=\"br0\">)</span><br/> <span class=\"br0\">{</span><br/>  <span class=\"kw1\">this</span>.<span class=\"me1\">center</span> <span class=\"sy0\">=</span> center<span class=\"sy0\">;</span><br/>  <span class=\"kw1\">this</span>.<span class=\"me1\">radius</span> <span class=\"sy0\">=</span> radius<span class=\"sy0\">;</span><br/> <span class=\"br0\">}</span><br/> <span class=\"kw1\">public</span> <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">String</span></a> toString<span class=\"br0\">(</span><span class=\"br0\">)</span><br/> <span class=\"br0\">{</span><br/>  <span class=\"kw1\">return</span> <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">String</span></a>.<span class=\"me1\">format</span><span class=\"br0\">(</span><span class=\"st0\">\"Circle[x=%.2f,y=%.2f,r=%.2f]\"</span>,center<span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span>,center<span class=\"br0\">[</span><span class=\"nu0\">1</span><span class=\"br0\">]</span>,<br/>\t\t       radius<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/> <span class=\"br0\">}</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw1\">public</span> <span class=\"kw1\">class</span> ApolloniusSolver<br/><span class=\"br0\">{</span><br/><span class=\"co3\">/** Solves the Problem of Apollonius (finding a circle tangent to three other<br/>  * circles in the plane). The method uses approximately 68 heavy operations<br/>  * (multiplication, division, square-roots). <br/>  * @param c1 One of the circles in the problem<br/>  * @param c2 One of the circles in the problem<br/>  * @param c3 One of the circles in the problem<br/>  * @param s1 An indication if the solution should be externally or internally<br/>  *           tangent (+1/-1) to c1<br/>  * @param s2 An indication if the solution should be externally or internally<br/>  *           tangent (+1/-1) to c2<br/>  * @param s3 An indication if the solution should be externally or internally<br/>  *           tangent (+1/-1) to c3<br/>  * @return The circle that is tangent to c1, c2 and c3. <br/>  */</span><br/> <span class=\"kw1\">public</span> <span class=\"kw1\">static</span> Circle solveApollonius<span class=\"br0\">(</span>Circle c1, Circle c2, Circle c3, <span class=\"kw4\">int</span> s1,<br/>\t\t\t\t      <span class=\"kw4\">int</span> s2, <span class=\"kw4\">int</span> s3<span class=\"br0\">)</span><br/> <span class=\"br0\">{</span><br/>  <span class=\"kw4\">float</span> x1 <span class=\"sy0\">=</span> c1.<span class=\"me1\">center</span><span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> y1 <span class=\"sy0\">=</span> c1.<span class=\"me1\">center</span><span class=\"br0\">[</span><span class=\"nu0\">1</span><span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> r1 <span class=\"sy0\">=</span> c1.<span class=\"me1\">radius</span><span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> x2 <span class=\"sy0\">=</span> c2.<span class=\"me1\">center</span><span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> y2 <span class=\"sy0\">=</span> c2.<span class=\"me1\">center</span><span class=\"br0\">[</span><span class=\"nu0\">1</span><span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> r2 <span class=\"sy0\">=</span> c2.<span class=\"me1\">radius</span><span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> x3 <span class=\"sy0\">=</span> c3.<span class=\"me1\">center</span><span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> y3 <span class=\"sy0\">=</span> c3.<span class=\"me1\">center</span><span class=\"br0\">[</span><span class=\"nu0\">1</span><span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> r3 <span class=\"sy0\">=</span> c3.<span class=\"me1\">radius</span><span class=\"sy0\">;</span><br/>\u00a0<br/>  <span class=\"co1\">//Currently optimized for fewest multiplications. Should be optimized for</span><br/>  <span class=\"co1\">//readability</span><br/>  <span class=\"kw4\">float</span> v11 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x1<span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> v12 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y1<span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> v13 <span class=\"sy0\">=</span> x1<span class=\"sy0\">*</span>x1 <span class=\"sy0\">-</span> x2<span class=\"sy0\">*</span>x2 <span class=\"sy0\">+</span> y1<span class=\"sy0\">*</span>y1 <span class=\"sy0\">-</span> y2<span class=\"sy0\">*</span>y2 <span class=\"sy0\">-</span> r1<span class=\"sy0\">*</span>r1 <span class=\"sy0\">+</span> r2<span class=\"sy0\">*</span>r2<span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> v14 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s2<span class=\"sy0\">*</span>r2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s1<span class=\"sy0\">*</span>r1<span class=\"sy0\">;</span><br/>\u00a0<br/>  <span class=\"kw4\">float</span> v21 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x2<span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> v22 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y2<span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> v23 <span class=\"sy0\">=</span> x2<span class=\"sy0\">*</span>x2 <span class=\"sy0\">-</span> x3<span class=\"sy0\">*</span>x3 <span class=\"sy0\">+</span> y2<span class=\"sy0\">*</span>y2 <span class=\"sy0\">-</span> y3<span class=\"sy0\">*</span>y3 <span class=\"sy0\">-</span> r2<span class=\"sy0\">*</span>r2 <span class=\"sy0\">+</span> r3<span class=\"sy0\">*</span>r3<span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> v24 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s3<span class=\"sy0\">*</span>r3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s2<span class=\"sy0\">*</span>r2<span class=\"sy0\">;</span><br/>\u00a0<br/>  <span class=\"kw4\">float</span> w12 <span class=\"sy0\">=</span> v12<span class=\"sy0\">/</span>v11<span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> w13 <span class=\"sy0\">=</span> v13<span class=\"sy0\">/</span>v11<span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> w14 <span class=\"sy0\">=</span> v14<span class=\"sy0\">/</span>v11<span class=\"sy0\">;</span><br/>\u00a0<br/>  <span class=\"kw4\">float</span> w22 <span class=\"sy0\">=</span> v22<span class=\"sy0\">/</span>v21<span class=\"sy0\">-</span>w12<span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> w23 <span class=\"sy0\">=</span> v23<span class=\"sy0\">/</span>v21<span class=\"sy0\">-</span>w13<span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> w24 <span class=\"sy0\">=</span> v24<span class=\"sy0\">/</span>v21<span class=\"sy0\">-</span>w14<span class=\"sy0\">;</span><br/>\u00a0<br/>  <span class=\"kw4\">float</span> P <span class=\"sy0\">=</span> <span class=\"sy0\">-</span>w23<span class=\"sy0\">/</span>w22<span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> Q <span class=\"sy0\">=</span> w24<span class=\"sy0\">/</span>w22<span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> M <span class=\"sy0\">=</span> <span class=\"sy0\">-</span>w12<span class=\"sy0\">*</span>P<span class=\"sy0\">-</span>w13<span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> N <span class=\"sy0\">=</span> w14 <span class=\"sy0\">-</span> w12<span class=\"sy0\">*</span>Q<span class=\"sy0\">;</span><br/>\u00a0<br/>  <span class=\"kw4\">float</span> a <span class=\"sy0\">=</span> N<span class=\"sy0\">*</span>N <span class=\"sy0\">+</span> Q<span class=\"sy0\">*</span>Q <span class=\"sy0\">-</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> b <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>M<span class=\"sy0\">*</span>N <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>N<span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>P<span class=\"sy0\">*</span>Q <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>Q<span class=\"sy0\">*</span>y1 <span class=\"sy0\">+</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s1<span class=\"sy0\">*</span>r1<span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> c <span class=\"sy0\">=</span> x1<span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span> M<span class=\"sy0\">*</span>M <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>M<span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span> P<span class=\"sy0\">*</span>P <span class=\"sy0\">+</span> y1<span class=\"sy0\">*</span>y1 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>P<span class=\"sy0\">*</span>y1 <span class=\"sy0\">-</span> r1<span class=\"sy0\">*</span>r1<span class=\"sy0\">;</span><br/>\u00a0<br/>  <span class=\"co1\">// Find a root of a quadratic equation. This requires the circle centers not</span><br/>  <span class=\"co1\">// to be e.g. colinear</span><br/>  <span class=\"kw4\">float</span> D <span class=\"sy0\">=</span> b<span class=\"sy0\">*</span>b<span class=\"sy0\">-</span><span class=\"nu0\">4</span><span class=\"sy0\">*</span>a<span class=\"sy0\">*</span>c<span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> rs <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"sy0\">-</span>b<span class=\"sy0\">-</span><a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Amath+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">Math</span></a>.<span class=\"me1\">sqrt</span><span class=\"br0\">(</span>D<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">/</span><span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>a<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> xs <span class=\"sy0\">=</span> M <span class=\"sy0\">+</span> N <span class=\"sy0\">*</span> rs<span class=\"sy0\">;</span><br/>  <span class=\"kw4\">float</span> ys <span class=\"sy0\">=</span> P <span class=\"sy0\">+</span> Q <span class=\"sy0\">*</span> rs<span class=\"sy0\">;</span><br/>  <span class=\"kw1\">return</span> <span class=\"kw1\">new</span> Circle<span class=\"br0\">(</span><span class=\"kw1\">new</span> <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span><span class=\"br0\">{</span>xs,ys<span class=\"br0\">}</span>, rs<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/> <span class=\"br0\">}</span><br/> <span class=\"kw1\">public</span> <span class=\"kw1\">static</span> <span class=\"kw4\">void</span> main<span class=\"br0\">(</span><span class=\"kw1\">final</span> <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">String</span></a><span class=\"br0\">[</span><span class=\"br0\">]</span> args<span class=\"br0\">)</span><br/> <span class=\"br0\">{</span><br/>  Circle c1 <span class=\"sy0\">=</span> <span class=\"kw1\">new</span> Circle<span class=\"br0\">(</span><span class=\"kw1\">new</span> <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span><span class=\"br0\">{</span><span class=\"nu0\">0</span>,<span class=\"nu0\">0</span><span class=\"br0\">}</span>, <span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>  Circle c2 <span class=\"sy0\">=</span> <span class=\"kw1\">new</span> Circle<span class=\"br0\">(</span><span class=\"kw1\">new</span> <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span><span class=\"br0\">{</span><span class=\"nu0\">4</span>,<span class=\"nu0\">0</span><span class=\"br0\">}</span>, <span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>  Circle c3 <span class=\"sy0\">=</span> <span class=\"kw1\">new</span> Circle<span class=\"br0\">(</span><span class=\"kw1\">new</span> <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span><span class=\"br0\">{</span><span class=\"nu0\">2</span>,<span class=\"nu0\">4</span><span class=\"br0\">}</span>, <span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>  <span class=\"co1\">// Expects \"Circle[x=2.00,y=2.10,r=3.90]\" (green circle in image)</span><br/>  <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">println</span><span class=\"br0\">(</span>solveApollonius<span class=\"br0\">(</span>c1,c2,c3,<span class=\"nu0\">1</span>,<span class=\"nu0\">1</span>,<span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>  <span class=\"co1\">// Expects \"Circle[x=2.00,y=0.83,r=1.17]\" (red circle in image)</span><br/>  <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">println</span><span class=\"br0\">(</span>solveApollonius<span class=\"br0\">(</span>c1,c2,c3,<span class=\"sy0\">-</span><span class=\"nu0\">1</span>,<span class=\"sy0\">-</span><span class=\"nu0\">1</span>,<span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/> <span class=\"br0\">}</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "jq", "loc": 51, "block": "<pre class=\"text highlighted_source\">def circle:<br/>  {\"x\": .[0], \"y\": .[1], \"r\": .[2]};<br/>\u00a0<br/># Find the interior or exterior Apollonius circle of three circles:<br/># ap(circle, circle, circle, boolean)<br/># Specify s as true for interior; false for exterior<br/>def ap(c1; c2; c3; s):<br/>  def sign: if s then -. else . end;<br/>    (c1.x * c1.x) as $x1sq<br/>  | (c1.y * c1.y) as $y1sq<br/>  | (c1.r * c1.r) as $r1sq<br/>  | (c2.x * c2.x) as $x2sq<br/>  | (c2.y * c2.y) as $y2sq<br/>  | (c2.r * c2.r) as $r2sq<br/>  | (c3.x * c3.x) as $x3sq<br/>  | (c3.y * c3.y) as $y3sq<br/>  | (c3.r * c3.r) as $r3sq<br/>\u00a0<br/>  | (2 * (c2.x - c1.x)) as $v11<br/>  | (2 * (c2.y - c1.y)) as $v12<br/>  | ($x1sq - $x2sq + $y1sq - $y2sq - $r1sq + $r2sq) as $v13<br/>\u00a0<br/>  | (2 * (c2.r - c1.r) | sign) as $v14<br/>  | (2 * (c3.x - c2.x)) as $v21<br/>  | (2 * (c3.y - c2.y)) as $v22<br/>\u00a0<br/>  | ($x2sq - $x3sq + $y2sq - $y3sq - $r2sq + $r3sq) as $v23<br/>  | ( 2 * c3.r - c2.r | sign) as $v24<br/>  | ($v12 / $v11) as $w12<br/>  | ($v13 / $v11) as $w13<br/>  | ($v14 / $v11) as $w14<br/>\u00a0<br/>  | (($v22 / $v21) - $w12) as $w22<br/>  | (($v23 / $v21) - $w13) as $w23<br/>  | (($v24 / $v21) - $w14) as $w24<br/>\u00a0<br/>  | (-$w23 / $w22) as $p<br/>  | ( $w24 / $w22) as $q<br/>  | ((-$w12*$p) - $w13) as $m<br/>  | ( $w14 - ($w12*$q)) as $n<br/>\u00a0<br/>  | ( $n*$n + $q*$q - 1 ) as $a<br/>  | (2 * (($m*$n - $n*c1.x + $p*$q - $q*c1.y) + (c1.r|sign))) as $b<br/>  | ($x1sq + $m*$m - 2*$m*c1.x + $p*$p + $y1sq - 2*$p*c1.y - $r1sq) as $c<br/>\u00a0<br/>  | ( $b*$b - 4*$a*$c ) as $d                   # discriminant<br/>  | (( -$b - (($d|sqrt))) / (2 * $a)) as $rs    # root<br/>\u00a0<br/>  | [$m + ($n*$rs),  $p + ($q*$rs),  $rs]<br/>  | circle <br/>;</pre>"}, {"lang": "Julia", "loc": 51, "block": "<pre class=\"text highlighted_source\">module ApolloniusProblems<br/>\u00a0<br/>using Polynomials<br/>export Circle<br/>\u00a0<br/>struct Point{T&lt;:Real}<br/>    x::T<br/>    y::T<br/>end<br/>\u00a0<br/>xcoord(p::Point) = p.x<br/>ycoord(p::Point) = p.y<br/>\u00a0<br/>struct Circle{T&lt;:Real}<br/>    c::Point{T}<br/>    r::T<br/>end<br/>Circle(x::T, y::T, r::T) where T&lt;:Real = Circle(Point(x, y), r)<br/>\u00a0<br/>radius(c::Circle) = c.r<br/>center(c::Circle) = c.c<br/>xcenter(c::Circle) = xcoord(center(c))<br/>ycenter(c::Circle) = ycoord(center(c))<br/>\u00a0<br/>Base.show(io::IO, c::Circle) =<br/>    @printf(io, \"centered at (%0.4f,\u00a0%0.4f) with radius\u00a0%0.4f\",<br/>        xcenter(c), ycenter(c), radius(c))<br/>\u00a0<br/>function solve(ap::Vector{Circle{T}}, enc=()) where T&lt;:Real<br/>    length(ap) == 3 || error(\"This Apollonius problem needs 3 circles.\")<br/>    x = @. xcenter(ap)<br/>    y = @. ycenter(ap)<br/>    r = map(u -&gt; ifelse(u \u2208 enc, -1, 1), 1:3) .* radius.(ap)<br/>    @views begin<br/>        a = 2x[1] .- 2x[2:3]<br/>        b = 2y[1] .- 2y[2:3]<br/>        c = 2r[1] .- 2r[2:3]<br/>        d = (x[1] ^ 2 + y[1] ^ 2 - r[1] ^ 2) .- (x[2:3] .^ 2 .+ y[2:3] .^ 2 .- r[2:3] .^ 2)<br/>    end<br/>    u = Poly([-det([b d]), det([b c])] ./ det([a b]))<br/>    v = Poly([det([a d]), -det([a c])] ./ det([a b]))<br/>    w = Poly([r[1], 1.0]) ^ 2<br/>    s = (u - x[1]) ^ 2 + (v - y[1]) ^ 2 - w<br/>    r = filter(x -&gt; iszero(imag(x)) &amp;&amp; x &gt; zero(x), roots(s))<br/>    length(r) &lt;  2 || error(\"The solution is not unique.\")<br/>    length(r) == 1 || error(\"There is no solution.\")<br/>    r = r[1]<br/>    return Circle(polyval(u, r), polyval(v, r), r)<br/>end<br/>\u00a0<br/>end  # module ApolloniusProblem</pre>"}, {"lang": "Kotlin", "loc": 53, "block": "<pre class=\"scala highlighted_source\"><span class=\"co1\">// version 1.1.3</span><br/>\u00a0<br/>data <a href=\"http://scala-lang.org\"><span class=\"kw1\">class</span></a> Circle<span class=\"br0\">(</span><a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> x<span class=\"sy0\">:</span> Double, <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> y<span class=\"sy0\">:</span> Double, <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> r<span class=\"sy0\">:</span> Double<span class=\"br0\">)</span><br/>\u00a0<br/><a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> Double.<span class=\"me1\">sq</span> get<span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"sy0\">=</span> <a href=\"http://scala-lang.org\"><span class=\"kw1\">this</span></a> <span class=\"sy0\">*</span> <a href=\"http://scala-lang.org\"><span class=\"kw1\">this</span></a><br/>\u00a0<br/>fun solveApollonius<span class=\"br0\">(</span>c1<span class=\"sy0\">:</span> Circle, c2<span class=\"sy0\">:</span> Circle, c3<span class=\"sy0\">:</span> Circle, <br/>                    s1<span class=\"sy0\">:</span> Int, s2<span class=\"sy0\">:</span> Int, s3<span class=\"sy0\">:</span> Int<span class=\"br0\">)</span><span class=\"sy0\">:</span> Circle <span class=\"br0\">{</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> <span class=\"br0\">(</span>x1, y1, r1<span class=\"br0\">)</span> <span class=\"sy0\">=</span> c1<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> <span class=\"br0\">(</span>x2, y2, r2<span class=\"br0\">)</span> <span class=\"sy0\">=</span> c2<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> <span class=\"br0\">(</span>x3, y3, r3<span class=\"br0\">)</span> <span class=\"sy0\">=</span> c3<br/>\u00a0<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> v11 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> x2 - <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> x1<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> v12 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> y2 - <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> y1<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> v13 <span class=\"sy0\">=</span> x1.<span class=\"me1\">sq</span> - x2.<span class=\"me1\">sq</span> + y1.<span class=\"me1\">sq</span> - y2.<span class=\"me1\">sq</span> - r1.<span class=\"me1\">sq</span> + r2.<span class=\"me1\">sq</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> v14 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s2 <span class=\"sy0\">*</span> r2 - <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s1 <span class=\"sy0\">*</span> r1<br/>\u00a0<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> v21 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> x3 - <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> x2<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> v22 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> y3 - <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> y2<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> v23 <span class=\"sy0\">=</span> x2.<span class=\"me1\">sq</span> - x3.<span class=\"me1\">sq</span> + y2.<span class=\"me1\">sq</span> - y3.<span class=\"me1\">sq</span> - r2.<span class=\"me1\">sq</span> + r3.<span class=\"me1\">sq</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> v24 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s3 <span class=\"sy0\">*</span> r3 - <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s2 <span class=\"sy0\">*</span> r2<br/>\u00a0<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> w12 <span class=\"sy0\">=</span> v12 / v11<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> w13 <span class=\"sy0\">=</span> v13 / v11<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> w14 <span class=\"sy0\">=</span> v14 / v11<br/>\u00a0<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> w22 <span class=\"sy0\">=</span> v22 / v21 - w12<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> w23 <span class=\"sy0\">=</span> v23 / v21 - w13<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> w24 <span class=\"sy0\">=</span> v24 / v21 - w14<br/>\u00a0<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> p <span class=\"sy0\">=</span> -w23 / w22<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> q <span class=\"sy0\">=</span>  w24 / w22<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> m <span class=\"sy0\">=</span> -w12 <span class=\"sy0\">*</span> p - w13<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> n <span class=\"sy0\">=</span>  w14 - w12 <span class=\"sy0\">*</span> q<br/>\u00a0<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> a <span class=\"sy0\">=</span> n.<span class=\"me1\">sq</span> +  q.<span class=\"me1\">sq</span> - <span class=\"nu0\">1</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> b <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> m <span class=\"sy0\">*</span> n - <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> n <span class=\"sy0\">*</span> x1 + <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> p <span class=\"sy0\">*</span> q - <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> q <span class=\"sy0\">*</span> y1 + <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s1 <span class=\"sy0\">*</span> r1<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> c <span class=\"sy0\">=</span> x1.<span class=\"me1\">sq</span> + m.<span class=\"me1\">sq</span> - <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> m <span class=\"sy0\">*</span> x1 + p.<span class=\"me1\">sq</span> + y1.<span class=\"me1\">sq</span> - <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> p <span class=\"sy0\">*</span> y1 - r1.<span class=\"me1\">sq</span><br/>\u00a0<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> d <span class=\"sy0\">=</span> b.<span class=\"me1\">sq</span> - <span class=\"nu0\">4</span> <span class=\"sy0\">*</span> a <span class=\"sy0\">*</span> c<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> rs <span class=\"sy0\">=</span> <span class=\"br0\">(</span>-b - Math.<span class=\"me1\">sqrt</span><span class=\"br0\">(</span>d<span class=\"br0\">)</span><span class=\"br0\">)</span> / <span class=\"br0\">(</span><span class=\"nu0\">2</span> <span class=\"sy0\">*</span> a<span class=\"br0\">)</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> xs <span class=\"sy0\">=</span> m + n <span class=\"sy0\">*</span> rs<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> ys <span class=\"sy0\">=</span> p + q <span class=\"sy0\">*</span> rs<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">return</span></a> Circle<span class=\"br0\">(</span>xs, ys, rs<span class=\"br0\">)</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/>fun main<span class=\"br0\">(</span>args<span class=\"sy0\">:</span> Array<span class=\"sy0\">&lt;</span>String<span class=\"sy0\">&gt;</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> c1 <span class=\"sy0\">=</span> Circle<span class=\"br0\">(</span><span class=\"nu0\">0.0</span>, <span class=\"nu0\">0.0</span>, <span class=\"nu0\">1.0</span><span class=\"br0\">)</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> c2 <span class=\"sy0\">=</span> Circle<span class=\"br0\">(</span><span class=\"nu0\">4.0</span>, <span class=\"nu0\">0.0</span>, <span class=\"nu0\">1.0</span><span class=\"br0\">)</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> c3 <span class=\"sy0\">=</span> Circle<span class=\"br0\">(</span><span class=\"nu0\">2.0</span>, <span class=\"nu0\">4.0</span>, <span class=\"nu0\">2.0</span><span class=\"br0\">)</span><br/>    println<span class=\"br0\">(</span>solveApollonius<span class=\"br0\">(</span>c1, c2, c3, <span class=\"nu0\">1</span>, <span class=\"nu0\">1</span>, <span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>    println<span class=\"br0\">(</span>solveApollonius<span class=\"br0\">(</span>c1, c2, c3,-<span class=\"nu0\">1</span>,-<span class=\"nu0\">1</span>,-<span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "Lasso", "loc": 60, "block": "<pre class=\"text highlighted_source\">define solveApollonius(c1, c2, c3, s1, s2, s3) =&gt; {<br/>\tlocal(<br/>\t\tx1 = decimal(#c1-&gt;get(1)), <br/>\t\ty1 = decimal(#c1-&gt;get(2)), <br/>\t\tr1 = decimal(#c1-&gt;get(3))<br/>\t)<br/>\tlocal(<br/>\t\tx2 = decimal(#c2-&gt;get(1)), <br/>\t\ty2 = decimal(#c2-&gt;get(2)), <br/>\t\tr2 = decimal(#c2-&gt;get(3))<br/>\t)<br/>\tlocal(<br/>\t\tx3 = decimal(#c3-&gt;get(1)), <br/>\t\ty3 = decimal(#c3-&gt;get(2)), <br/>\t\tr3 = decimal(#c3-&gt;get(3))<br/>\t)<br/>    local(<br/>    \tv11 = 2*#x2 - 2*#x1,<br/>    \tv12 = 2*#y2 - 2*#y1,<br/>    \tv13 = #x1*#x1 - #x2*#x2 + #y1*#y1 - #y2*#y2 - #r1*#r1 + #r2*#r2,<br/>    \tv14 = 2*#s2*#r2 - 2*#s1*#r1,<br/>\u00a0<br/>\t\tv21 = 2*#x3 - 2*#x2,<br/>\t\tv22 = 2*#y3 - 2*#y2,<br/>\t\tv23 = #x2*#x2 - #x3*#x3 + #y2*#y2 - #y3*#y3 - #r2*#r2 + #r3*#r3,<br/>\t\tv24 = 2*#s3*#r3 - 2*#s2*#r2,<br/>\u00a0<br/>\t\tw12 = #v12/#v11,<br/>\t\tw13 = #v13/#v11,<br/>\t\tw14 = #v14/#v11,<br/>\u00a0<br/>\t\tw22 = #v22/#v21-#w12,<br/>\t\tw23 = #v23/#v21-#w13,<br/>\t\tw24 = #v24/#v21-#w14,<br/>\u00a0<br/>\t\tP = -#w23/#w22,<br/>\t\tQ = #w24/#w22,<br/>\t\tM = -#w12*#P-#w13,<br/>\t\tN = #w14 - #w12*#Q,<br/>\u00a0<br/>\t\ta = #N*#N + #Q*#Q - 1,<br/>\t\tb = 2*#M*#N - 2*#N*#x1 + 2*#P*#Q - 2*#Q*#y1 + 2*#s1*#r1,<br/>\t\tc = #x1*#x1 + #M*#M - 2*#M*#x1 + #P*#P + #y1*#y1 - 2*#P*#y1 - #r1*#r1<br/>\u00a0<br/>\t)<br/>\u00a0<br/>\t// Find a root of a quadratic equation. This requires the circle centers not to be e.g. colinear<br/>\tlocal(<br/>\t\tD = #b*#b-4*#a*#c,<br/>\t\trs = (-#b - #D-&gt;sqrt)/(2*#a),<br/>\u00a0<br/>\t\txs = #M+#N*#rs,<br/>\t\tys = #P+#Q*#rs<br/>\t)<br/>\treturn (:#xs, #ys, #rs)<br/>}<br/>// Tests:<br/>solveApollonius((:0, 0, 1), (:4, 0, 1), (:2, 4, 2), 1,1,1)<br/>solveApollonius((:0, 0, 1), (:4, 0, 1), (:2, 4, 2), -1,-1,-1)<br/>\u00a0</pre>"}, {"lang": "Liberty BASIC", "loc": 56, "block": "<pre class=\"lb highlighted_source\">\u00a0<br/>  circle1$ <span class=\"sy0\">=</span><span class=\"st0\">\"  0.000,  0.000,  1.000\"</span><br/>  circle2$ <span class=\"sy0\">=</span><span class=\"st0\">\"  4.000,  0.000,  1.000\"</span><br/>  circle3$ <span class=\"sy0\">=</span><span class=\"st0\">\"  2.000,  4.000,  2.000\"</span><br/>\u00a0<br/>  <span class=\"kw1\">print</span> <span class=\"st0\">\"  x_pos   y_pos   radius\"</span><br/>  <span class=\"kw1\">print</span> circle1$<br/>  <span class=\"kw1\">print</span> circle2$<br/>  <span class=\"kw1\">print</span> circle3$<br/>  <span class=\"kw1\">print</span><br/>  <span class=\"kw1\">print</span> ApolloniusSolver$<span class=\"br0\">(</span> circle1$<span class=\"sy0\">,</span> circle2$<span class=\"sy0\">,</span> circle3$<span class=\"sy0\">,</span>  <span class=\"nu0\">1</span><span class=\"sy0\">,</span>  <span class=\"nu0\">1</span><span class=\"sy0\">,</span>  <span class=\"nu0\">1</span><span class=\"br0\">)</span><br/>  <span class=\"kw1\">print</span> ApolloniusSolver$<span class=\"br0\">(</span> circle1$<span class=\"sy0\">,</span> circle2$<span class=\"sy0\">,</span> circle3$<span class=\"sy0\">,</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">,</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">,</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><br/>\u00a0<br/>  <span class=\"kw1\">end</span><br/>\u00a0<br/><span class=\"kw1\">function</span> ApolloniusSolver$<span class=\"br0\">(</span> c1$<span class=\"sy0\">,</span> c2$<span class=\"sy0\">,</span> c3$<span class=\"sy0\">,</span> s1<span class=\"sy0\">,</span> s2<span class=\"sy0\">,</span> s3<span class=\"br0\">)</span><br/>  x1     <span class=\"sy0\">=</span><span class=\"kw2\">val</span><span class=\"br0\">(</span> <span class=\"kw1\">word</span>$<span class=\"br0\">(</span> c1$<span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"sy0\">,</span> <span class=\"st0\">\",\"</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">:</span> y1 <span class=\"sy0\">=</span><span class=\"kw2\">val</span><span class=\"br0\">(</span> <span class=\"kw1\">word</span>$<span class=\"br0\">(</span> c1$<span class=\"sy0\">,</span> <span class=\"nu0\">2</span><span class=\"sy0\">,</span> <span class=\"st0\">\",\"</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">:</span> r1 <span class=\"sy0\">=</span><span class=\"kw2\">val</span><span class=\"br0\">(</span> <span class=\"kw1\">word</span>$<span class=\"br0\">(</span> c1$<span class=\"sy0\">,</span> <span class=\"nu0\">3</span><span class=\"sy0\">,</span> <span class=\"st0\">\",\"</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>  x2     <span class=\"sy0\">=</span><span class=\"kw2\">val</span><span class=\"br0\">(</span> <span class=\"kw1\">word</span>$<span class=\"br0\">(</span> c2$<span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"sy0\">,</span> <span class=\"st0\">\",\"</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">:</span> y2 <span class=\"sy0\">=</span><span class=\"kw2\">val</span><span class=\"br0\">(</span> <span class=\"kw1\">word</span>$<span class=\"br0\">(</span> c2$<span class=\"sy0\">,</span> <span class=\"nu0\">2</span><span class=\"sy0\">,</span> <span class=\"st0\">\",\"</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">:</span> r2 <span class=\"sy0\">=</span><span class=\"kw2\">val</span><span class=\"br0\">(</span> <span class=\"kw1\">word</span>$<span class=\"br0\">(</span> c2$<span class=\"sy0\">,</span> <span class=\"nu0\">3</span><span class=\"sy0\">,</span> <span class=\"st0\">\",\"</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>  x3     <span class=\"sy0\">=</span><span class=\"kw2\">val</span><span class=\"br0\">(</span> <span class=\"kw1\">word</span>$<span class=\"br0\">(</span> c3$<span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"sy0\">,</span> <span class=\"st0\">\",\"</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">:</span> y3 <span class=\"sy0\">=</span><span class=\"kw2\">val</span><span class=\"br0\">(</span> <span class=\"kw1\">word</span>$<span class=\"br0\">(</span> c3$<span class=\"sy0\">,</span> <span class=\"nu0\">2</span><span class=\"sy0\">,</span> <span class=\"st0\">\",\"</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">:</span> r3 <span class=\"sy0\">=</span><span class=\"kw2\">val</span><span class=\"br0\">(</span> <span class=\"kw1\">word</span>$<span class=\"br0\">(</span> c3$<span class=\"sy0\">,</span> <span class=\"nu0\">3</span><span class=\"sy0\">,</span> <span class=\"st0\">\",\"</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>\u00a0<br/>  v11     <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span>x2 <span class=\"sy0\">-</span><span class=\"nu0\">2</span> <span class=\"sy0\">*</span>x1<br/>  v12     <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span>y2 <span class=\"sy0\">-</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>y1<br/>  v13     <span class=\"sy0\">=</span> x1 <span class=\"sy0\">*</span>x1 <span class=\"sy0\">-</span> x2 <span class=\"sy0\">*</span>x2 <span class=\"sy0\">+</span> y1 <span class=\"sy0\">*</span>y1 <span class=\"sy0\">-</span> y2 <span class=\"sy0\">*</span>y2  <span class=\"sy0\">-</span>r1 <span class=\"sy0\">*</span>r1 <span class=\"sy0\">+</span>r2 <span class=\"sy0\">*</span>r2<br/>  v14     <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span>s2 <span class=\"sy0\">*</span>r2 <span class=\"sy0\">-</span><span class=\"nu0\">2</span> <span class=\"sy0\">*</span>s1 <span class=\"sy0\">*</span>r1<br/>\u00a0<br/>  v21     <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span>x3 <span class=\"sy0\">-</span><span class=\"nu0\">2</span> <span class=\"sy0\">*</span>x2<br/>  v22     <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span>y3 <span class=\"sy0\">-</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>y2<br/>  v23     <span class=\"sy0\">=</span> x2 <span class=\"sy0\">*</span>x2 <span class=\"sy0\">-</span>x3 <span class=\"sy0\">*</span>x3 <span class=\"sy0\">+</span> y2 <span class=\"sy0\">*</span>y2 <span class=\"sy0\">-</span>y3 <span class=\"sy0\">*</span>y3 <span class=\"sy0\">-</span>r2 <span class=\"sy0\">*</span>r2 <span class=\"sy0\">+</span>r3 <span class=\"sy0\">*</span>r3<br/>  v24     <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span>s3 <span class=\"sy0\">*</span>r3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span>s2 <span class=\"sy0\">*</span>r2<br/>\u00a0<br/>  w12     <span class=\"sy0\">=</span> v12 <span class=\"sy0\">/</span>v11<br/>  w13     <span class=\"sy0\">=</span> v13 <span class=\"sy0\">/</span>v11<br/>  w14     <span class=\"sy0\">=</span> v14 <span class=\"sy0\">/</span>v11<br/>\u00a0<br/>  w22     <span class=\"sy0\">=</span> v22 <span class=\"sy0\">/</span>v21 <span class=\"sy0\">-</span>w12<br/>  w23     <span class=\"sy0\">=</span> v23 <span class=\"sy0\">/</span>v21 <span class=\"sy0\">-</span>w13<br/>  w24     <span class=\"sy0\">=</span> v24 <span class=\"sy0\">/</span>v21 <span class=\"sy0\">-</span>w14<br/>\u00a0<br/>  P       <span class=\"sy0\">=</span> <span class=\"nu0\">0</span> <span class=\"sy0\">-</span>w23 <span class=\"sy0\">/</span>w22<br/>  Q       <span class=\"sy0\">=</span>    w24 <span class=\"sy0\">/</span>w22<br/>  M       <span class=\"sy0\">=</span> <span class=\"nu0\">0</span> <span class=\"sy0\">-</span>w12 <span class=\"sy0\">*</span>P <span class=\"sy0\">-</span>w13<br/>  N       <span class=\"sy0\">=</span>    w14 <span class=\"sy0\">-</span>w12 <span class=\"sy0\">*</span>Q<br/>\u00a0<br/>  a       <span class=\"sy0\">=</span> N <span class=\"sy0\">*</span>N <span class=\"sy0\">+</span> Q <span class=\"sy0\">*</span>Q <span class=\"sy0\">-</span><span class=\"nu0\">1</span><br/>  b       <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span>M <span class=\"sy0\">*</span>N <span class=\"sy0\">-</span><span class=\"nu0\">2</span> <span class=\"sy0\">*</span>N <span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span>P <span class=\"sy0\">*</span>Q <span class=\"sy0\">-</span><span class=\"nu0\">2</span> <span class=\"sy0\">*</span>Q <span class=\"sy0\">*</span>y1 <span class=\"sy0\">+</span><span class=\"nu0\">2</span> <span class=\"sy0\">*</span>s1 <span class=\"sy0\">*</span>r1<br/>  c       <span class=\"sy0\">=</span> x1 <span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span>M <span class=\"sy0\">*</span>M <span class=\"sy0\">-</span><span class=\"nu0\">2</span> <span class=\"sy0\">*</span>M <span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span>P <span class=\"sy0\">*</span>P <span class=\"sy0\">+</span>y1 <span class=\"sy0\">*</span>y1 <span class=\"sy0\">-</span><span class=\"nu0\">2</span> <span class=\"sy0\">*</span>P <span class=\"sy0\">*</span>y1 <span class=\"sy0\">-</span>r1 <span class=\"sy0\">*</span>r1<br/>\u00a0<br/>  D       <span class=\"sy0\">=</span> b <span class=\"sy0\">*</span>b <span class=\"sy0\">-</span><span class=\"nu0\">4</span> <span class=\"sy0\">*</span>a <span class=\"sy0\">*</span>c<br/>\u00a0<br/>  Radius  <span class=\"sy0\">=</span><span class=\"br0\">(</span> <span class=\"nu0\">0</span> <span class=\"sy0\">-</span>b <span class=\"sy0\">-</span><span class=\"kw2\">Sqr</span><span class=\"br0\">(</span> D<span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"sy0\">/</span><span class=\"br0\">(</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span>a<span class=\"br0\">)</span><br/>  XPos    <span class=\"sy0\">=</span>M <span class=\"sy0\">+</span>N <span class=\"sy0\">*</span>Radius<br/>  YPos    <span class=\"sy0\">=</span>P <span class=\"sy0\">+</span>Q <span class=\"sy0\">*</span>Radius<br/>\u00a0<br/>  ApolloniusSolver$ <span class=\"sy0\">=</span><span class=\"kw2\">using</span><span class=\"br0\">(</span> <span class=\"st0\">\"###.###\"</span><span class=\"sy0\">,</span> XPos<span class=\"br0\">)</span> <span class=\"sy0\">+</span><span class=\"st0\">\",\"</span> <span class=\"sy0\">+</span><span class=\"kw2\">using</span><span class=\"br0\">(</span> <span class=\"st0\">\"###.###\"</span><span class=\"sy0\">,</span> YPos<span class=\"br0\">)</span> <span class=\"sy0\">+</span><span class=\"kw2\">using</span><span class=\"br0\">(</span> <span class=\"st0\">\"###.###\"</span><span class=\"sy0\">,</span> Radius<span class=\"br0\">)</span><br/><span class=\"kw1\">end</span> <span class=\"kw1\">function</span><br/>\u00a0</pre>"}, {"lang": "Mathematica", "loc": 27, "block": "<pre class=\"text highlighted_source\">Apolonius[a1_,b1_,c1_,a2_,b2_,c2_,a3_,b3_,c3_,S1_,S2_ ,S3_ ]:=<br/>Module[{x1=a1,y1=b1,r1=c1,x2=a2,y2=b2,r2=c2,x3=a3,y3=b3,r3=c3,s1=S1,s2=S2,s3=S3},<br/>v11 = 2*x2 - 2*x1; v12 = 2*y2 - 2*y1;<br/>v13 = x1^2 - x2^2 + y1^2 - y2^2 - r1^2 + r2^2;<br/>v14 = 2*s2*r2 - 2*s1*r1;<br/>\u00a0<br/>v21 = 2*x3-2*x2\u00a0; v22 = 2*y3 - 2*y2;<br/>v23 = x2^2 - x3^2 + y2^2 - y3^2 - r2^2 + r3^2;<br/>v24 = 2*s3*r3 - 2*s2*r2;<br/>\u00a0<br/>w12 = v12/v11; w13 = v13/v11; w14 = v14/v11;<br/>\u00a0<br/>w22 = v22/v21 - w12;<br/>w23 = v23/v21 - w13;<br/>w24 = v24/v21 - w14;<br/>\u00a0<br/>p = -w23/w22; q=w24/w22;<br/>m = -w12*p - w13; n=w14 - w12*q;<br/>\u00a0<br/>a = n^2 + q^2-1;<br/>b = 2*m*n - 2*n*x1 + 2*p*q - 2*q*y1 + 2*s1*r1;<br/>c = x1^2+m^2 - 2*m*x1 + p^2+y1^2 - 2*p*y1 - r1^2;<br/>\u00a0<br/>d= b^2 - 4*a*c;<br/>rs = (-b -Sqrt[d])/(2*a);<br/>xs = m + n*rs; ys = p + q*rs;<br/>Map[N,{xs, ys, rs} ]]</pre>"}, {"lang": "MUMPS", "loc": 42, "block": "<pre class=\"text highlighted_source\">APOLLONIUS(CIR1,CIR2,CIR3,S1,S2,S3)<br/>\u00a0;Circles are passed in as strings with three parts with a \"^\" separator in the order x^y^r<br/>\u00a0;The three circles are CIR1, CIR2, and CIR3<br/>\u00a0;The S1, S2, and S3 parameters determine if the solution will be internally or externally<br/>\u00a0;tangent to the circle. (+1 external, -1 internal)<br/>\u00a0;CIRR is the circle returned in the same format as the input circles<br/>\u00a0;<br/>\u00a0;Xn, Yn, and Rn are the values for a circle n - following the precedents from the<br/>\u00a0;other examples because doing $Pieces would make this confusing to read<br/> NEW X1,X2,X3,Y1,Y2,Y3,R1,R2,R3,RS,V11,V12,V13,V14,V21,V22,V23,V24,W12,W13,W14,W22,W23,W24,P,M,N,Q,A,B,C,D<br/> NEW CIRR<br/> SET X1=$PIECE(CIR1,\"^\",1),X2=$PIECE(CIR2,\"^\",1),X3=$PIECE(CIR3,\"^\",1)<br/> SET Y1=$PIECE(CIR1,\"^\",2),Y2=$PIECE(CIR2,\"^\",2),Y3=$PIECE(CIR3,\"^\",2)<br/> SET R1=$PIECE(CIR1,\"^\",3),R2=$PIECE(CIR2,\"^\",3),R3=$PIECE(CIR3,\"^\",3)<br/> SET V11=(2*X2)-(2*X1)<br/> SET V12=(2*Y2)-(2*Y1)<br/> SET V13=(X1*X1)-(X2*X2)+(Y1*Y1)-(Y2*Y2)-(R1*R1)+(R2*R2)<br/> SET V14=(2*S2*R2)-(2*S1*R1)<br/> SET V21=(2*X3)-(2*X2)<br/> SET V22=(2*Y3)-(2*Y2)<br/> SET V23=(X2*X2)-(X3*X3)+(Y2*Y2)-(Y3*Y3)-(R2*R2)+(R3*R3)<br/> SET V24=(2*S3*R3)-(2*S2*R2)<br/> SET W12=V12/V11<br/> SET W13=V13/V11<br/> SET W14=V14/V11<br/> SET W22=(V22/V21)-W12\u00a0;Parentheses for insurance - MUMPS evaluates left to right<br/> SET W23=(V23/V21)-W13<br/> SET W24=(V24/V21)-W14<br/> SET P=-W23/W22<br/> SET Q=W24/W22<br/> SET M=-(W12*P)-W13<br/> SET N=W14-(W12*Q)<br/> SET A=(N*N)+(Q*Q)-1<br/> SET B=(2*M*N)-(2*N*X1)+(2*P*Q)-(2*Q*Y1)+(2*S1*R1)<br/> SET C=(X1*X1)+(M*M)+(2*M*X1)+(P*P)+(Y1*Y1)-(2*P*Y1)-(R1*R1)<br/> SET D=(B*B)-(4*A*C)<br/> SET RS=(-B-(D**.5))/(2*A)<br/> SET $PIECE(CIRR,\"^\",1)=M+(N*RS)<br/> SET $PIECE(CIRR,\"^\",2)=P+(Q*RS)<br/> SET $PIECE(CIRR,\"^\",3)=RS<br/> KILL X1,X2,X3,Y1,Y2,Y3,R1,R2,R3,RS,V11,V12,V13,V14,V21,V22,V23,V24,W12,W13,W14,W22,W23,W24,P,M,N,Q,A,B,C,D<br/> QUIT CIRR</pre>"}, {"lang": "Nim", "loc": 48, "block": "<pre class=\"text highlighted_source\">import math<br/>\u00a0<br/>type Circle = tuple[x, y, r: float]<br/>\u00a0<br/>proc solveApollonius(c1, c2, c3: Circle; s1, s2, s3: float): Circle =<br/>  let<br/>    v11 = 2*c2.x - 2*c1.x<br/>    v12 = 2*c2.y - 2*c1.y<br/>    v13 = c1.x*c1.x - c2.x*c2.x + c1.y*c1.y - c2.y*c2.y - c1.r*c1.r + c2.r*c2.r<br/>    v14 = 2*s2*c2.r - 2*s1*c1.r<br/>\u00a0<br/>    v21 = 2*c3.x - 2*c2.x<br/>    v22 = 2*c3.y - 2*c2.y<br/>    v23 = c2.x*c2.x - c3.x*c3.x + c2.y*c2.y - c3.y*c3.y - c2.r*c2.r + c3.r*c3.r<br/>    v24 = 2*s3*c3.r - 2*s2*c2.r<br/>\u00a0<br/>    w12 = v12/v11<br/>    w13 = v13/v11<br/>    w14 = v14/v11<br/>\u00a0<br/>    w22 = v22/v21-w12<br/>    w23 = v23/v21-w13<br/>    w24 = v24/v21-w14<br/>\u00a0<br/>    p = -w23/w22<br/>    q = w24/w22<br/>    m = -w12*p-w13<br/>    n = w14 - w12*q<br/>\u00a0<br/>    a = n*n + q*q - 1<br/>    b = 2*m*n - 2*n*c1.x + 2*p*q - 2*q*c1.y + 2*s1*c1.r<br/>    c = c1.x*c1.x + m*m - 2*m*c1.x + p*p + c1.y*c1.y - 2*p*c1.y - c1.r*c1.r<br/>\u00a0<br/>    d = b*b-4*a*c<br/>    rs = (-b-sqrt(d))/(2*a)<br/>\u00a0<br/>    xs = m+n*rs<br/>    ys = p+q*rs<br/>\u00a0<br/>  return (xs, ys, rs)<br/>\u00a0<br/>let<br/>  c1: Circle = (0.0, 0.0, 1.0)<br/>  c2: Circle = (4.0, 0.0, 1.0)<br/>  c3: Circle = (2.0, 4.0, 2.0)<br/>\u00a0<br/>echo solveApollonius(c1, c2, c3, 1.0, 1.0, 1.0)<br/>echo solveApollonius(c1, c2, c3, -1.0, -1.0, -1.0)</pre>"}, {"lang": "OCaml", "loc": 76, "block": "<pre class=\"ocaml highlighted_source\"><span class=\"kw1\">type</span> point <span class=\"sy0\">=</span> <span class=\"br0\">{</span> x<span class=\"sy0\">:</span><a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALfloat\"><span class=\"kw3\">float</span></a><span class=\"sy0\">;</span> y<span class=\"sy0\">:</span><a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALfloat\"><span class=\"kw3\">float</span></a> <span class=\"br0\">}</span><br/><span class=\"kw1\">type</span> circle <span class=\"sy0\">=</span> <span class=\"br0\">{</span><br/>  center<span class=\"sy0\">:</span> point<span class=\"sy0\">;</span><br/>  radius<span class=\"sy0\">:</span> <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALfloat\"><span class=\"kw3\">float</span></a><span class=\"sy0\">;</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw1\">let</span> new_circle <span class=\"re1\">~x</span> <span class=\"re1\">~y</span> <span class=\"re1\">~r</span> <span class=\"sy0\">=</span><br/>  <span class=\"br0\">{</span> center <span class=\"sy0\">=</span> <span class=\"br0\">{</span> x<span class=\"sy0\">=</span>x<span class=\"sy0\">;</span> y<span class=\"sy0\">=</span>y <span class=\"br0\">}</span><span class=\"sy0\">;</span><br/>    radius <span class=\"sy0\">=</span> r <span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw1\">let</span> print_circle <span class=\"re1\">~c</span> <span class=\"sy0\">=</span><br/>  <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Printf.html\"><span class=\"kw2\">Printf</span></a><span class=\"sy0\">.</span>printf <span class=\"st0\">\"Circle(x=%.2f, y=%.2f, r=%.2f)\\n\"</span><br/>    c<span class=\"sy0\">.</span>center<span class=\"sy0\">.</span>x c<span class=\"sy0\">.</span>center<span class=\"sy0\">.</span>y c<span class=\"sy0\">.</span>radius<br/>\u00a0<br/><span class=\"kw1\">let</span> defxyr c <span class=\"sy0\">=</span><br/>  <span class=\"br0\">(</span>c<span class=\"sy0\">.</span>center<span class=\"sy0\">.</span>x,<br/>   c<span class=\"sy0\">.</span>center<span class=\"sy0\">.</span>y,<br/>   c<span class=\"sy0\">.</span>radius<span class=\"br0\">)</span><br/>\u00a0<br/><span class=\"kw1\">let</span> solve_apollonius <span class=\"re1\">~c1</span> <span class=\"re1\">~c2</span> <span class=\"re1\">~c3</span><br/>                     <span class=\"re1\">~s1</span> <span class=\"re1\">~s2</span> <span class=\"re1\">~s3</span> <span class=\"sy0\">=</span><br/>  <span class=\"kw1\">let</span> <span class=\"br0\">(</span> <span class=\"sy0\">*</span> <span class=\"br0\">)</span> <span class=\"sy0\">=</span> <span class=\"br0\">(</span> <span class=\"sy0\">*.</span> <span class=\"br0\">)</span> <span class=\"kw1\">in</span><br/>  <span class=\"kw1\">let</span> <span class=\"br0\">(</span> <span class=\"sy0\">/</span> <span class=\"br0\">)</span> <span class=\"sy0\">=</span> <span class=\"br0\">(</span> <span class=\"sy0\">/.</span> <span class=\"br0\">)</span> <span class=\"kw1\">in</span><br/>  <span class=\"kw1\">let</span> <span class=\"br0\">(</span> <span class=\"sy0\">+</span> <span class=\"br0\">)</span> <span class=\"sy0\">=</span> <span class=\"br0\">(</span> <span class=\"sy0\">+.</span> <span class=\"br0\">)</span> <span class=\"kw1\">in</span><br/>  <span class=\"kw1\">let</span> <span class=\"br0\">(</span> <span class=\"sy0\">-</span> <span class=\"br0\">)</span> <span class=\"sy0\">=</span> <span class=\"br0\">(</span> <span class=\"sy0\">-.</span> <span class=\"br0\">)</span> <span class=\"kw1\">in</span><br/>\u00a0<br/>  <span class=\"kw1\">let</span> x1, y1, r1 <span class=\"sy0\">=</span> defxyr c1<br/>  <span class=\"kw1\">and</span> x2, y2, r2 <span class=\"sy0\">=</span> defxyr c2<br/>  <span class=\"kw1\">and</span> x3, y3, r3 <span class=\"sy0\">=</span> defxyr c3 <span class=\"kw1\">in</span><br/>\u00a0<br/>  <span class=\"kw1\">let</span> v11 <span class=\"sy0\">=</span> <span class=\"nu0\">2.0</span> <span class=\"sy0\">*</span> x2 <span class=\"sy0\">-</span> <span class=\"nu0\">2.0</span> <span class=\"sy0\">*</span> x1<br/>  <span class=\"kw1\">and</span> v12 <span class=\"sy0\">=</span> <span class=\"nu0\">2.0</span> <span class=\"sy0\">*</span> y2 <span class=\"sy0\">-</span> <span class=\"nu0\">2.0</span> <span class=\"sy0\">*</span> y1<br/>  <span class=\"kw1\">and</span> v13 <span class=\"sy0\">=</span> x1<span class=\"sy0\">*</span>x1 <span class=\"sy0\">-</span> x2<span class=\"sy0\">*</span>x2 <span class=\"sy0\">+</span> y1<span class=\"sy0\">*</span>y1 <span class=\"sy0\">-</span> y2<span class=\"sy0\">*</span>y2 <span class=\"sy0\">-</span> r1<span class=\"sy0\">*</span>r1 <span class=\"sy0\">+</span> r2<span class=\"sy0\">*</span>r2<br/>  <span class=\"kw1\">and</span> v14 <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"nu0\">2.0</span> <span class=\"sy0\">*</span> s2 <span class=\"sy0\">*</span> r2<span class=\"br0\">)</span> <span class=\"sy0\">-</span> <span class=\"br0\">(</span><span class=\"nu0\">2.0</span> <span class=\"sy0\">*</span> s1 <span class=\"sy0\">*</span> r1<span class=\"br0\">)</span><br/>\u00a0<br/>  <span class=\"kw1\">and</span> v21 <span class=\"sy0\">=</span> <span class=\"nu0\">2.0</span> <span class=\"sy0\">*</span> x3 <span class=\"sy0\">-</span> <span class=\"nu0\">2.0</span> <span class=\"sy0\">*</span> x2<br/>  <span class=\"kw1\">and</span> v22 <span class=\"sy0\">=</span> <span class=\"nu0\">2.0</span> <span class=\"sy0\">*</span> y3 <span class=\"sy0\">-</span> <span class=\"nu0\">2.0</span> <span class=\"sy0\">*</span> y2<br/>  <span class=\"kw1\">and</span> v23 <span class=\"sy0\">=</span> x2<span class=\"sy0\">*</span>x2 <span class=\"sy0\">-</span> x3<span class=\"sy0\">*</span>x3 <span class=\"sy0\">+</span> y2<span class=\"sy0\">*</span>y2 <span class=\"sy0\">-</span> y3<span class=\"sy0\">*</span>y3 <span class=\"sy0\">-</span> r2<span class=\"sy0\">*</span>r2 <span class=\"sy0\">+</span> r3<span class=\"sy0\">*</span>r3<br/>  <span class=\"kw1\">and</span> v24 <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"nu0\">2.0</span> <span class=\"sy0\">*</span> s3 <span class=\"sy0\">*</span> r3<span class=\"br0\">)</span> <span class=\"sy0\">-</span> <span class=\"br0\">(</span><span class=\"nu0\">2.0</span> <span class=\"sy0\">*</span> s2 <span class=\"sy0\">*</span> r2<span class=\"br0\">)</span> <span class=\"kw1\">in</span><br/>\u00a0<br/>  <span class=\"kw1\">let</span> w12 <span class=\"sy0\">=</span> v12 <span class=\"sy0\">/</span> v11<br/>  <span class=\"kw1\">and</span> w13 <span class=\"sy0\">=</span> v13 <span class=\"sy0\">/</span> v11<br/>  <span class=\"kw1\">and</span> w14 <span class=\"sy0\">=</span> v14 <span class=\"sy0\">/</span> v11 <span class=\"kw1\">in</span><br/>\u00a0<br/>  <span class=\"kw1\">let</span> w22 <span class=\"sy0\">=</span> v22 <span class=\"sy0\">/</span> v21 <span class=\"sy0\">-</span> w12<br/>  <span class=\"kw1\">and</span> w23 <span class=\"sy0\">=</span> v23 <span class=\"sy0\">/</span> v21 <span class=\"sy0\">-</span> w13<br/>  <span class=\"kw1\">and</span> w24 <span class=\"sy0\">=</span> v24 <span class=\"sy0\">/</span> v21 <span class=\"sy0\">-</span> w14 <span class=\"kw1\">in</span><br/>\u00a0<br/>  <span class=\"kw1\">let</span> p <span class=\"sy0\">=</span> <span class=\"sy0\">-.</span> w23 <span class=\"sy0\">/</span> w22<br/>  <span class=\"kw1\">and</span> q <span class=\"sy0\">=</span> w24 <span class=\"sy0\">/</span> w22 <span class=\"kw1\">in</span><br/>  <span class=\"kw1\">let</span> m <span class=\"sy0\">=</span> <span class=\"sy0\">-.</span> w12 <span class=\"sy0\">*</span> p <span class=\"sy0\">-</span> w13<br/>  <span class=\"kw1\">and</span> n <span class=\"sy0\">=</span> w14 <span class=\"sy0\">-</span> w12 <span class=\"sy0\">*</span> q <span class=\"kw1\">in</span><br/>\u00a0<br/>  <span class=\"kw1\">let</span> a <span class=\"sy0\">=</span> n<span class=\"sy0\">*</span>n <span class=\"sy0\">+</span> q<span class=\"sy0\">*</span>q <span class=\"sy0\">-</span> <span class=\"nu0\">1.0</span><br/>  <span class=\"kw1\">and</span> b <span class=\"sy0\">=</span> <span class=\"nu0\">2.0</span><span class=\"sy0\">*</span>m<span class=\"sy0\">*</span>n <span class=\"sy0\">-</span> <span class=\"nu0\">2.0</span><span class=\"sy0\">*</span>n<span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span> <span class=\"nu0\">2.0</span><span class=\"sy0\">*</span>p<span class=\"sy0\">*</span>q <span class=\"sy0\">-</span> <span class=\"nu0\">2.0</span><span class=\"sy0\">*</span>q<span class=\"sy0\">*</span>y1 <span class=\"sy0\">+</span> <span class=\"nu0\">2.0</span><span class=\"sy0\">*</span>s1<span class=\"sy0\">*</span>r1<br/>  <span class=\"kw1\">and</span> c <span class=\"sy0\">=</span> x1<span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span> m<span class=\"sy0\">*</span>m <span class=\"sy0\">-</span> <span class=\"nu0\">2.0</span><span class=\"sy0\">*</span>m<span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span> p<span class=\"sy0\">*</span>p <span class=\"sy0\">+</span> y1<span class=\"sy0\">*</span>y1 <span class=\"sy0\">-</span> <span class=\"nu0\">2.0</span><span class=\"sy0\">*</span>p<span class=\"sy0\">*</span>y1 <span class=\"sy0\">-</span> r1<span class=\"sy0\">*</span>r1 <span class=\"kw1\">in</span><br/>\u00a0<br/>  <span class=\"kw1\">let</span> d <span class=\"sy0\">=</span> b <span class=\"sy0\">*</span> b <span class=\"sy0\">-</span> <span class=\"nu0\">4.0</span> <span class=\"sy0\">*</span> a <span class=\"sy0\">*</span> c <span class=\"kw1\">in</span><br/>  <span class=\"kw1\">let</span> rs <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"sy0\">-.</span> b <span class=\"sy0\">-</span> <span class=\"br0\">(</span><a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALsqrt\"><span class=\"kw3\">sqrt</span></a> d<span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"sy0\">/</span> <span class=\"br0\">(</span><span class=\"nu0\">2.0</span> <span class=\"sy0\">*</span> a<span class=\"br0\">)</span> <span class=\"kw1\">in</span><br/>\u00a0<br/>  <span class=\"kw1\">let</span> xs <span class=\"sy0\">=</span> m <span class=\"sy0\">+</span> n <span class=\"sy0\">*</span> rs<br/>  <span class=\"kw1\">and</span> ys <span class=\"sy0\">=</span> p <span class=\"sy0\">+</span> q <span class=\"sy0\">*</span> rs <span class=\"kw1\">in</span><br/>\u00a0<br/>  <span class=\"br0\">(</span>new_circle xs ys rs<span class=\"br0\">)</span><br/>\u00a0<br/><span class=\"kw1\">let</span> <span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"sy0\">=</span><br/>  <span class=\"kw1\">let</span> c1 <span class=\"sy0\">=</span> new_circle <span class=\"nu0\">0.0</span> <span class=\"nu0\">0.0</span> <span class=\"nu0\">1.0</span><br/>  <span class=\"kw1\">and</span> c2 <span class=\"sy0\">=</span> new_circle <span class=\"nu0\">4.0</span> <span class=\"nu0\">0.0</span> <span class=\"nu0\">1.0</span><br/>  <span class=\"kw1\">and</span> c3 <span class=\"sy0\">=</span> new_circle <span class=\"nu0\">2.0</span> <span class=\"nu0\">4.0</span> <span class=\"nu0\">2.0</span> <span class=\"kw1\">in</span><br/>\u00a0<br/>  <span class=\"kw1\">let</span> r1 <span class=\"sy0\">=</span> solve_apollonius c1 c2 c3 <span class=\"nu0\">1.0</span> <span class=\"nu0\">1.0</span> <span class=\"nu0\">1.0</span> <span class=\"kw1\">in</span><br/>  print_circle r1<span class=\"sy0\">;</span><br/>\u00a0<br/>  <span class=\"kw1\">let</span> r2 <span class=\"sy0\">=</span> solve_apollonius c1 c2 c3 <span class=\"br0\">(</span><span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">.</span><span class=\"br0\">)</span> <span class=\"br0\">(</span><span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">.</span><span class=\"br0\">)</span> <span class=\"br0\">(</span><span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">.</span><span class=\"br0\">)</span> <span class=\"kw1\">in</span><br/>  print_circle r2<span class=\"sy0\">;</span><br/><span class=\"sy0\">;;</span></pre>"}, {"lang": "Perl 6", "loc": 53, "block": "<pre class=\"perl6 highlighted_source\"><span class=\"kw2\">class</span> Circle <span class=\"br0\">{</span><br/>   <span class=\"kw1\">has</span> <span class=\"re0\">$</span><span class=\"sy0\">.</span><span class=\"kw1\">x</span><span class=\"sy0\">;</span><br/>   <span class=\"kw1\">has</span> <span class=\"re0\">$</span><span class=\"sy0\">.</span><span class=\"me1\">y</span><span class=\"sy0\">;</span><br/>   <span class=\"kw1\">has</span> <span class=\"re0\">$</span><span class=\"sy0\">.</span><span class=\"me1\">r</span><span class=\"sy0\">;</span><br/>   <span class=\"kw2\">method</span> gist <span class=\"br0\">{</span> <span class=\"st0\">\"circle($!x, $!y, $!r)\"</span> <span class=\"br0\">}</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw2\">sub</span> circle<span class=\"br0\">(</span><span class=\"re0\">$x</span><span class=\"sy0\">,</span><span class=\"re0\">$y</span><span class=\"sy0\">,</span><span class=\"re0\">$r</span><span class=\"br0\">)</span> <span class=\"br0\">{</span> Circle<span class=\"sy0\">.</span><span class=\"kw2\">new</span><span class=\"sy0\">:</span> <span class=\"sy0\">:</span><span class=\"re0\">$x</span><span class=\"sy0\">,</span> <span class=\"sy0\">:</span><span class=\"re0\">$y</span><span class=\"sy0\">,</span> <span class=\"sy0\">:</span><span class=\"re0\">$r</span> <span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw2\">sub</span> postfix<span class=\"sy0\">:&lt;</span>\u00b2<span class=\"sy0\">&gt;</span><span class=\"br0\">(</span><span class=\"re0\">$x</span><span class=\"br0\">)</span> <span class=\"br0\">{</span> <span class=\"re0\">$x</span> <span class=\"sy0\">*</span> <span class=\"re0\">$x</span> <span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw2\">sub</span> solve<span class=\"sy0\">-</span>Apollonius<span class=\"br0\">(</span><span class=\"br0\">[</span>\\c1<span class=\"sy0\">,</span> \\c2<span class=\"sy0\">,</span> \\c3<span class=\"br0\">]</span><span class=\"sy0\">,</span> <span class=\"br0\">[</span>\\s1<span class=\"sy0\">,</span> \\s2<span class=\"sy0\">,</span> \\s3<span class=\"br0\">]</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>    <span class=\"kw1\">my</span> \\\ud835\udc63<span class=\"nu0\">11</span> <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> c2<span class=\"sy0\">.</span><span class=\"kw1\">x</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> c1<span class=\"sy0\">.</span><span class=\"kw1\">x</span><span class=\"sy0\">;</span><br/>    <span class=\"kw1\">my</span> \\\ud835\udc63<span class=\"nu0\">12</span> <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> c2<span class=\"sy0\">.</span><span class=\"me1\">y</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> c1<span class=\"sy0\">.</span><span class=\"me1\">y</span><span class=\"sy0\">;</span><br/>    <span class=\"kw1\">my</span> \\\ud835\udc63<span class=\"nu0\">13</span> <span class=\"sy0\">=</span> c1<span class=\"sy0\">.</span><span class=\"kw1\">x</span>\u00b2 <span class=\"sy0\">-</span> c2<span class=\"sy0\">.</span><span class=\"kw1\">x</span>\u00b2 <span class=\"sy0\">+</span> c1<span class=\"sy0\">.</span><span class=\"me1\">y</span>\u00b2 <span class=\"sy0\">-</span> c2<span class=\"sy0\">.</span><span class=\"me1\">y</span>\u00b2 <span class=\"sy0\">-</span> c1<span class=\"sy0\">.</span><span class=\"me1\">r</span>\u00b2 <span class=\"sy0\">+</span> c2<span class=\"sy0\">.</span><span class=\"me1\">r</span>\u00b2<span class=\"sy0\">;</span><br/>    <span class=\"kw1\">my</span> \\\ud835\udc63<span class=\"nu0\">14</span> <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s2 <span class=\"sy0\">*</span> c2<span class=\"sy0\">.</span><span class=\"me1\">r</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s1 <span class=\"sy0\">*</span> c1<span class=\"sy0\">.</span><span class=\"me1\">r</span><span class=\"sy0\">;</span><br/>\u00a0<br/>    <span class=\"kw1\">my</span> \\\ud835\udc63<span class=\"nu0\">21</span> <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> c3<span class=\"sy0\">.</span><span class=\"kw1\">x</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> c2<span class=\"sy0\">.</span><span class=\"kw1\">x</span><span class=\"sy0\">;</span><br/>    <span class=\"kw1\">my</span> \\\ud835\udc63<span class=\"nu0\">22</span> <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> c3<span class=\"sy0\">.</span><span class=\"me1\">y</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> c2<span class=\"sy0\">.</span><span class=\"me1\">y</span><span class=\"sy0\">;</span><br/>    <span class=\"kw1\">my</span> \\\ud835\udc63<span class=\"nu0\">23</span> <span class=\"sy0\">=</span> c2<span class=\"sy0\">.</span><span class=\"kw1\">x</span>\u00b2 <span class=\"sy0\">-</span> c3<span class=\"sy0\">.</span><span class=\"kw1\">x</span>\u00b2 <span class=\"sy0\">+</span> c2<span class=\"sy0\">.</span><span class=\"me1\">y</span>\u00b2 <span class=\"sy0\">-</span> c3<span class=\"sy0\">.</span><span class=\"me1\">y</span>\u00b2 <span class=\"sy0\">-</span> c2<span class=\"sy0\">.</span><span class=\"me1\">r</span>\u00b2 <span class=\"sy0\">+</span> c3<span class=\"sy0\">.</span><span class=\"me1\">r</span>\u00b2<span class=\"sy0\">;</span><br/>    <span class=\"kw1\">my</span> \\\ud835\udc63<span class=\"nu0\">24</span> <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s3 <span class=\"sy0\">*</span> c3<span class=\"sy0\">.</span><span class=\"me1\">r</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s2 <span class=\"sy0\">*</span> c2<span class=\"sy0\">.</span><span class=\"me1\">r</span><span class=\"sy0\">;</span><br/>\u00a0<br/>    <span class=\"kw1\">my</span> \\\ud835\udc64<span class=\"nu0\">12</span> <span class=\"sy0\">=</span> \ud835\udc63<span class=\"nu0\">12</span> <span class=\"sy0\">/</span> \ud835\udc63<span class=\"nu0\">11</span><span class=\"sy0\">;</span><br/>    <span class=\"kw1\">my</span> \\\ud835\udc64<span class=\"nu0\">13</span> <span class=\"sy0\">=</span> \ud835\udc63<span class=\"nu0\">13</span> <span class=\"sy0\">/</span> \ud835\udc63<span class=\"nu0\">11</span><span class=\"sy0\">;</span><br/>    <span class=\"kw1\">my</span> \\\ud835\udc64<span class=\"nu0\">14</span> <span class=\"sy0\">=</span> \ud835\udc63<span class=\"nu0\">14</span> <span class=\"sy0\">/</span> \ud835\udc63<span class=\"nu0\">11</span><span class=\"sy0\">;</span><br/>\u00a0<br/>    <span class=\"kw1\">my</span> \\\ud835\udc64<span class=\"nu0\">22</span> <span class=\"sy0\">=</span> \ud835\udc63<span class=\"nu0\">22</span> <span class=\"sy0\">/</span> \ud835\udc63<span class=\"nu0\">21</span> <span class=\"sy0\">-</span> \ud835\udc64<span class=\"nu0\">12</span><span class=\"sy0\">;</span><br/>    <span class=\"kw1\">my</span> \\\ud835\udc64<span class=\"nu0\">23</span> <span class=\"sy0\">=</span> \ud835\udc63<span class=\"nu0\">23</span> <span class=\"sy0\">/</span> \ud835\udc63<span class=\"nu0\">21</span> <span class=\"sy0\">-</span> \ud835\udc64<span class=\"nu0\">13</span><span class=\"sy0\">;</span><br/>    <span class=\"kw1\">my</span> \\\ud835\udc64<span class=\"nu0\">24</span> <span class=\"sy0\">=</span> \ud835\udc63<span class=\"nu0\">24</span> <span class=\"sy0\">/</span> \ud835\udc63<span class=\"nu0\">21</span> <span class=\"sy0\">-</span> \ud835\udc64<span class=\"nu0\">14</span><span class=\"sy0\">;</span><br/>\u00a0<br/>    <span class=\"kw1\">my</span> \\\ud835\udc43 <span class=\"sy0\">=</span> <span class=\"sy0\">-</span>\ud835\udc64<span class=\"nu0\">23</span> <span class=\"sy0\">/</span> \ud835\udc64<span class=\"nu0\">22</span><span class=\"sy0\">;</span><br/>    <span class=\"kw1\">my</span> \\\ud835\udc44 <span class=\"sy0\">=</span> \ud835\udc64<span class=\"nu0\">24</span> <span class=\"sy0\">/</span> \ud835\udc64<span class=\"nu0\">22</span><span class=\"sy0\">;</span><br/>    <span class=\"kw1\">my</span> \\\ud835\udc40 <span class=\"sy0\">=</span> <span class=\"sy0\">-</span>\ud835\udc64<span class=\"nu0\">12</span> <span class=\"sy0\">*</span> \ud835\udc43 <span class=\"sy0\">-</span> \ud835\udc64<span class=\"nu0\">13</span><span class=\"sy0\">;</span><br/>    <span class=\"kw1\">my</span> \\\ud835\udc41 <span class=\"sy0\">=</span> \ud835\udc64<span class=\"nu0\">14</span> <span class=\"sy0\">-</span> \ud835\udc64<span class=\"nu0\">12</span> <span class=\"sy0\">*</span> \ud835\udc44<span class=\"sy0\">;</span><br/>\u00a0<br/>    <span class=\"kw1\">my</span> \\\ud835\udc4e <span class=\"sy0\">=</span> \ud835\udc41\u00b2 <span class=\"sy0\">+</span> \ud835\udc44\u00b2 <span class=\"sy0\">-</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>    <span class=\"kw1\">my</span> \\\ud835\udc4f <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> \ud835\udc40 <span class=\"sy0\">*</span> \ud835\udc41 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> \ud835\udc41 <span class=\"sy0\">*</span> c1<span class=\"sy0\">.</span><span class=\"kw1\">x</span> <span class=\"sy0\">+</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> \ud835\udc43 <span class=\"sy0\">*</span> \ud835\udc44 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> \ud835\udc44 <span class=\"sy0\">*</span> c1<span class=\"sy0\">.</span><span class=\"me1\">y</span> <span class=\"sy0\">+</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s1 <span class=\"sy0\">*</span> c1<span class=\"sy0\">.</span><span class=\"me1\">r</span><span class=\"sy0\">;</span><br/>    <span class=\"kw1\">my</span> \\\ud835\udc50 <span class=\"sy0\">=</span> c1<span class=\"sy0\">.</span><span class=\"kw1\">x</span>\u00b2 <span class=\"sy0\">+</span> \ud835\udc40\u00b2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> \ud835\udc40 <span class=\"sy0\">*</span> c1<span class=\"sy0\">.</span><span class=\"kw1\">x</span> <span class=\"sy0\">+</span> \ud835\udc43\u00b2 <span class=\"sy0\">+</span> c1<span class=\"sy0\">.</span><span class=\"me1\">y</span>\u00b2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> \ud835\udc43 <span class=\"sy0\">*</span> c1<span class=\"sy0\">.</span><span class=\"me1\">y</span> <span class=\"sy0\">-</span> c1<span class=\"sy0\">.</span><span class=\"me1\">r</span>\u00b2<span class=\"sy0\">;</span><br/>\u00a0<br/>    <span class=\"kw1\">my</span> \\\ud835\udc37 <span class=\"sy0\">=</span> \ud835\udc4f\u00b2 <span class=\"sy0\">-</span> <span class=\"nu0\">4</span> <span class=\"sy0\">*</span> \ud835\udc4e <span class=\"sy0\">*</span> \ud835\udc50<span class=\"sy0\">;</span><br/>    <span class=\"kw1\">my</span> \\rs <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"sy0\">-</span>\ud835\udc4f <span class=\"sy0\">-</span> <span class=\"kw3\">sqrt</span> \ud835\udc37<span class=\"br0\">)</span> <span class=\"sy0\">/</span> <span class=\"br0\">(</span><span class=\"nu0\">2</span> <span class=\"sy0\">*</span> \ud835\udc4e<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>    <span class=\"kw1\">my</span> \\xs <span class=\"sy0\">=</span> \ud835\udc40 <span class=\"sy0\">+</span> \ud835\udc41 <span class=\"sy0\">*</span> rs<span class=\"sy0\">;</span><br/>    <span class=\"kw1\">my</span> \\ys <span class=\"sy0\">=</span> \ud835\udc43 <span class=\"sy0\">+</span> \ud835\udc44 <span class=\"sy0\">*</span> rs<span class=\"sy0\">;</span><br/>\u00a0<br/>    circle<span class=\"br0\">(</span>xs<span class=\"sy0\">,</span> ys<span class=\"sy0\">,</span> rs<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw2\">sub</span> MAIN <span class=\"br0\">{</span><br/>    <span class=\"kw1\">my</span> <span class=\"re0\">@c</span> <span class=\"sy0\">=</span> circle<span class=\"br0\">(</span><span class=\"nu0\">0</span><span class=\"sy0\">,</span> <span class=\"nu0\">0</span><span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy0\">,</span> circle<span class=\"br0\">(</span><span class=\"nu0\">4</span><span class=\"sy0\">,</span> <span class=\"nu0\">0</span><span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy0\">,</span> circle<span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">,</span> <span class=\"nu0\">4</span><span class=\"sy0\">,</span> <span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    <span class=\"kw3\">say</span> solve<span class=\"sy0\">-</span>Apollonius <span class=\"re0\">@c</span><span class=\"sy0\">,</span> <span class=\"sy0\">&lt;</span><span class=\"nu0\">1</span> <span class=\"nu0\">1</span> <span class=\"nu0\">1</span><span class=\"sy0\">&gt;;</span><br/>    <span class=\"kw3\">say</span> solve<span class=\"sy0\">-</span>Apollonius <span class=\"re0\">@c</span><span class=\"sy0\">,</span> <span class=\"sy0\">&lt;-</span><span class=\"nu0\">1</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">&gt;;</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "PL/I", "loc": 69, "block": "<pre class=\"text highlighted_source\">Apollonius: procedure options (main); /* 29 October 2013 */<br/>\u00a0<br/>   define structure<br/>    1 circle,<br/>      2 x float (15),<br/>      2 y float (15),<br/>      2 radius float (15);<br/>\u00a0<br/>   declare (c1 , c2, c3, result) type (circle);<br/>\u00a0<br/>   c1.x = 0; c1.y = 0; c1.radius = 1;<br/>   c2.x = 4; c2.y = 0; c2.radius = 1;<br/>   c3.x = 2; c3.y = 4; c3.radius = 2;<br/>\u00a0<br/>   result = Solve_Apollonius(c1, c2, c3,  1,  1,  1);<br/>   put skip edit ('External tangent:', result.x, result.y, result.radius) (a, 3 f(12,8));<br/>\u00a0<br/>   result = Solve_Apollonius(c1, c2, c3, -1, -1, -1);<br/>   put skip edit ('Internal tangent:', result.x, result.y, result.radius) (a, 3 f(12,8));<br/>\u00a0<br/>\u00a0<br/>\u00a0<br/>Solve_Apollonius: procedure (c1, c2, c3, s1, s2, s3) returns(type(circle));<br/>   declare (c1, c2, c3) type(circle);<br/>   declare res type (circle);<br/>   declare (s1, s2, s3) fixed binary;<br/>\u00a0<br/>   declare ( <br/>             v11, v12, v13, v14,<br/>             v21, v22, v23, v24,<br/>             w12, w13, w14,<br/>             w22, w23, w24,<br/>             p, q, m, n, a, b, c, det) float (15);<br/>\u00a0<br/>   v11 = 2*c2.x - 2*c1.x;<br/>   v12 = 2*c2.y - 2*c1.y;<br/>   v13 = c1.x**2 - c2.x**2 + c1.y**2 - c2.y**2 - c1.radius**2 + c2.radius**2;<br/>   v14 = 2*s2*c2.radius - 2*s1*c1.radius;<br/>\u00a0<br/>   v21 = 2*c3.x - 2*c2.x;<br/>   v22 = 2*c3.y - 2*c2.y;<br/>   v23 = c2.x**2 - c3.x**2 + c2.y**2 - c3.y**2 - c2.radius**2 + c3.radius**2;<br/>   v24 = 2*s3*c3.radius - 2*s2*c2.radius;<br/>\u00a0<br/>   w12 = v12/v11;<br/>   w13 = v13/v11;<br/>   w14 = v14/v11;<br/>\u00a0<br/>   w22 = v22/v21-w12;<br/>   w23 = v23/v21-w13;<br/>   w24 = v24/v21-w14;<br/>\u00a0<br/>   p = -w23/w22;<br/>   q = w24/w22;<br/>   m = -w12*P - w13;<br/>   n = w14 - w12*q;<br/>\u00a0<br/>   a = n*n + q*q - 1;<br/>   b = 2*m*n - 2*n*c1.x + 2*p*q - 2*q*c1.y + 2*s1*c1.radius;<br/>   c = c1.x**2 + m*m - 2*m*c1.x + p*p + c1.y**2 - 2*p*c1.y - c1.radius**2;<br/>\u00a0<br/>   det = b*b - 4*a*c;<br/>   res.radius = (-b-sqrt(det)) / (2*a);<br/>   res.x = m + n*res.radius;<br/>   res.y = p + q*res.radius;<br/>\u00a0<br/>   return (res);<br/>end Solve_Apollonius;<br/>end Apollonius;</pre>"}, {"lang": "PowerShell", "loc": 71, "block": "<pre class=\"powershell highlighted_source\">\u00a0<br/><span class=\"kw3\">function</span> Measure<span class=\"sy0\">-</span>Apollonius<br/><span class=\"br0\">{</span><br/>    <span class=\"br0\">[</span>CmdletBinding<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">]</span><br/>    <span class=\"br0\">[</span>OutputType<span class=\"br0\">(</span><span class=\"br0\">[</span>PSCustomObject<span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"br0\">]</span><br/>    <span class=\"kw3\">Param</span><br/>    <span class=\"br0\">(</span><br/>        <span class=\"br0\">[</span><span class=\"re3\">int</span><span class=\"br0\">]</span><span class=\"re0\">$Counter</span><span class=\"sy0\">,</span><br/>        <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$x1</span><span class=\"sy0\">,</span><br/>        <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$y1</span><span class=\"sy0\">,</span><br/>        <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$r1</span><span class=\"sy0\">,</span><br/>        <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$x2</span><span class=\"sy0\">,</span><br/>        <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$y2</span><span class=\"sy0\">,</span><br/>        <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$r2</span><span class=\"sy0\">,</span><br/>        <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$x3</span><span class=\"sy0\">,</span><br/>        <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$y3</span><span class=\"sy0\">,</span><br/>        <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$r3</span><br/>    <span class=\"br0\">)</span><br/>\u00a0<br/>    <span class=\"kw3\">switch</span> <span class=\"br0\">(</span><span class=\"re0\">$Counter</span><span class=\"br0\">)</span><br/>    <span class=\"br0\">{</span><br/>        <span class=\"br0\">{</span><a href=\"about:blank\"><span class=\"kw6\">$_</span></a> <span class=\"kw4\">-eq</span> <span class=\"nu0\">2</span><span class=\"br0\">}</span> <span class=\"br0\">{</span><span class=\"re0\">$s1</span> <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span>; <span class=\"re0\">$s2</span> <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span>; <span class=\"re0\">$s3</span> <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span>; <span class=\"kw3\">break</span><span class=\"br0\">}</span><br/>        <span class=\"br0\">{</span><a href=\"about:blank\"><span class=\"kw6\">$_</span></a> <span class=\"kw4\">-eq</span> <span class=\"nu0\">3</span><span class=\"br0\">}</span> <span class=\"br0\">{</span><span class=\"re0\">$s1</span> <span class=\"sy0\">=</span>  <span class=\"nu0\">1</span>; <span class=\"re0\">$s2</span> <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span>; <span class=\"re0\">$s3</span> <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span>; <span class=\"kw3\">break</span><span class=\"br0\">}</span><br/>        <span class=\"br0\">{</span><a href=\"about:blank\"><span class=\"kw6\">$_</span></a> <span class=\"kw4\">-eq</span> <span class=\"nu0\">4</span><span class=\"br0\">}</span> <span class=\"br0\">{</span><span class=\"re0\">$s1</span> <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span>; <span class=\"re0\">$s2</span> <span class=\"sy0\">=</span>  <span class=\"nu0\">1</span>; <span class=\"re0\">$s3</span> <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span>; <span class=\"kw3\">break</span><span class=\"br0\">}</span><br/>        <span class=\"br0\">{</span><a href=\"about:blank\"><span class=\"kw6\">$_</span></a> <span class=\"kw4\">-eq</span> <span class=\"nu0\">5</span><span class=\"br0\">}</span> <span class=\"br0\">{</span><span class=\"re0\">$s1</span> <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span>; <span class=\"re0\">$s2</span> <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span>; <span class=\"re0\">$s3</span> <span class=\"sy0\">=</span>  <span class=\"nu0\">1</span>; <span class=\"kw3\">break</span><span class=\"br0\">}</span><br/>        <span class=\"br0\">{</span><a href=\"about:blank\"><span class=\"kw6\">$_</span></a> <span class=\"kw4\">-eq</span> <span class=\"nu0\">6</span><span class=\"br0\">}</span> <span class=\"br0\">{</span><span class=\"re0\">$s1</span> <span class=\"sy0\">=</span>  <span class=\"nu0\">1</span>; <span class=\"re0\">$s2</span> <span class=\"sy0\">=</span>  <span class=\"nu0\">1</span>; <span class=\"re0\">$s3</span> <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span>; <span class=\"kw3\">break</span><span class=\"br0\">}</span><br/>        <span class=\"br0\">{</span><a href=\"about:blank\"><span class=\"kw6\">$_</span></a> <span class=\"kw4\">-eq</span> <span class=\"nu0\">7</span><span class=\"br0\">}</span> <span class=\"br0\">{</span><span class=\"re0\">$s1</span> <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span>; <span class=\"re0\">$s2</span> <span class=\"sy0\">=</span>  <span class=\"nu0\">1</span>; <span class=\"re0\">$s3</span> <span class=\"sy0\">=</span>  <span class=\"nu0\">1</span>; <span class=\"kw3\">break</span><span class=\"br0\">}</span><br/>        <span class=\"br0\">{</span><a href=\"about:blank\"><span class=\"kw6\">$_</span></a> <span class=\"kw4\">-eq</span> <span class=\"nu0\">8</span><span class=\"br0\">}</span> <span class=\"br0\">{</span><span class=\"re0\">$s1</span> <span class=\"sy0\">=</span>  <span class=\"nu0\">1</span>; <span class=\"re0\">$s2</span> <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span>; <span class=\"re0\">$s3</span> <span class=\"sy0\">=</span>  <span class=\"nu0\">1</span>; <span class=\"kw3\">break</span><span class=\"br0\">}</span><br/>        Default    <span class=\"br0\">{</span><span class=\"re0\">$s1</span> <span class=\"sy0\">=</span>  <span class=\"nu0\">1</span>; <span class=\"re0\">$s2</span> <span class=\"sy0\">=</span>  <span class=\"nu0\">1</span>; <span class=\"re0\">$s3</span> <span class=\"sy0\">=</span>  <span class=\"nu0\">1</span>; <span class=\"kw3\">break</span><span class=\"br0\">}</span><br/>    <span class=\"br0\">}</span><br/>\u00a0<br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$v11</span> <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$x2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$x1</span><br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$v12</span> <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$y2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$y1</span><br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$v13</span> <span class=\"sy0\">=</span> <span class=\"re0\">$x1</span> <span class=\"sy0\">*</span> <span class=\"re0\">$x1</span> <span class=\"sy0\">-</span> <span class=\"re0\">$x2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$x2</span> <span class=\"sy0\">+</span> <span class=\"re0\">$y1</span> <span class=\"sy0\">*</span> <span class=\"re0\">$y1</span> <span class=\"sy0\">-</span> <span class=\"re0\">$y2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$y2</span> <span class=\"sy0\">-</span> <span class=\"re0\">$r1</span> <span class=\"sy0\">*</span> <span class=\"re0\">$r1</span> <span class=\"sy0\">+</span> <span class=\"re0\">$r2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$r2</span><br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$v14</span> <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$s2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$r2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$s1</span> <span class=\"sy0\">*</span> <span class=\"re0\">$r1</span><br/>\u00a0<br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$v21</span> <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$x3</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$x2</span><br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$v22</span> <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$y3</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$y2</span><br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$v23</span> <span class=\"sy0\">=</span> <span class=\"re0\">$x2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$x2</span> <span class=\"sy0\">-</span> <span class=\"re0\">$x3</span> <span class=\"sy0\">*</span> <span class=\"re0\">$x3</span> <span class=\"sy0\">+</span> <span class=\"re0\">$y2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$y2</span> <span class=\"sy0\">-</span> <span class=\"re0\">$y3</span> <span class=\"sy0\">*</span> <span class=\"re0\">$y3</span> <span class=\"sy0\">-</span> <span class=\"re0\">$r2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$r2</span> <span class=\"sy0\">+</span> <span class=\"re0\">$r3</span> <span class=\"sy0\">*</span> <span class=\"re0\">$r3</span><br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$v24</span> <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$s3</span> <span class=\"sy0\">*</span> <span class=\"re0\">$r3</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$s2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$r2</span><br/>\u00a0<br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$w12</span> <span class=\"sy0\">=</span> <span class=\"re0\">$v12</span> <span class=\"sy0\">/</span> <span class=\"re0\">$v11</span><br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$w13</span> <span class=\"sy0\">=</span> <span class=\"re0\">$v13</span> <span class=\"sy0\">/</span> <span class=\"re0\">$v11</span><br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$w14</span> <span class=\"sy0\">=</span> <span class=\"re0\">$v14</span> <span class=\"sy0\">/</span> <span class=\"re0\">$v11</span><br/>\u00a0<br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$w22</span> <span class=\"sy0\">=</span> <span class=\"re0\">$v22</span> <span class=\"sy0\">/</span> <span class=\"re0\">$v21</span> <span class=\"sy0\">-</span> <span class=\"re0\">$w12</span><br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$w23</span> <span class=\"sy0\">=</span> <span class=\"re0\">$v23</span> <span class=\"sy0\">/</span> <span class=\"re0\">$v21</span> <span class=\"sy0\">-</span> <span class=\"re0\">$w13</span><br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$w24</span> <span class=\"sy0\">=</span> <span class=\"re0\">$v24</span> <span class=\"sy0\">/</span> <span class=\"re0\">$v21</span> <span class=\"sy0\">-</span> <span class=\"re0\">$w14</span><br/>\u00a0<br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$P</span> <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"re0\">$w23</span> <span class=\"sy0\">/</span> <span class=\"re0\">$w22</span><br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$Q</span> <span class=\"sy0\">=</span> <span class=\"re0\">$w24</span> <span class=\"sy0\">/</span> <span class=\"re0\">$w22</span><br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$M</span> <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"re0\">$w12</span> <span class=\"sy0\">*</span> <span class=\"re0\">$P</span> <span class=\"sy0\">-</span> <span class=\"re0\">$w13</span><br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$N</span> <span class=\"sy0\">=</span> <span class=\"re0\">$w14</span> <span class=\"sy0\">-</span> <span class=\"re0\">$w12</span> <span class=\"sy0\">*</span> <span class=\"re0\">$Q</span><br/>\u00a0<br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$a</span> <span class=\"sy0\">=</span> <span class=\"re0\">$N</span> <span class=\"sy0\">*</span> <span class=\"re0\">$N</span> <span class=\"sy0\">+</span> <span class=\"re0\">$Q</span> <span class=\"sy0\">*</span> <span class=\"re0\">$Q</span> <span class=\"sy0\">-</span> <span class=\"nu0\">1</span><br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$b</span> <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$M</span> <span class=\"sy0\">*</span> <span class=\"re0\">$N</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$N</span> <span class=\"sy0\">*</span> <span class=\"re0\">$x1</span> <span class=\"sy0\">+</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$P</span> <span class=\"sy0\">*</span> <span class=\"re0\">$Q</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$Q</span> <span class=\"sy0\">*</span> <span class=\"re0\">$y1</span> <span class=\"sy0\">+</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$s1</span> <span class=\"sy0\">*</span> <span class=\"re0\">$r1</span><br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$c</span> <span class=\"sy0\">=</span> <span class=\"re0\">$x1</span> <span class=\"sy0\">*</span> <span class=\"re0\">$x1</span> <span class=\"sy0\">+</span> <span class=\"re0\">$M</span> <span class=\"sy0\">*</span> <span class=\"re0\">$M</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$M</span> <span class=\"sy0\">*</span> <span class=\"re0\">$x1</span> <span class=\"sy0\">+</span> <span class=\"re0\">$P</span> <span class=\"sy0\">*</span> <span class=\"re0\">$P</span> <span class=\"sy0\">+</span> <span class=\"re0\">$y1</span> <span class=\"sy0\">*</span> <span class=\"re0\">$y1</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> <span class=\"re0\">$P</span> <span class=\"sy0\">*</span> <span class=\"re0\">$y1</span> <span class=\"sy0\">-</span> <span class=\"re0\">$r1</span> <span class=\"sy0\">*</span> <span class=\"re0\">$r1</span><br/>\u00a0<br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$D</span> <span class=\"sy0\">=</span> <span class=\"re0\">$b</span> <span class=\"sy0\">*</span> <span class=\"re0\">$b</span> <span class=\"sy0\">-</span> <span class=\"nu0\">4</span> <span class=\"sy0\">*</span> <span class=\"re0\">$a</span> <span class=\"sy0\">*</span> <span class=\"re0\">$c</span><br/>\u00a0<br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$rs</span> <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"sy0\">-</span><span class=\"re0\">$b</span> <span class=\"sy0\">-</span> <span class=\"br0\">[</span><span class=\"re3\">Double</span><span class=\"br0\">]</span>::Parse<span class=\"br0\">(</span><span class=\"br0\">[</span>Math<span class=\"br0\">]</span>::Sqrt<span class=\"br0\">(</span><span class=\"re0\">$D</span><span class=\"br0\">)</span>.ToString<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"sy0\">/</span> <span class=\"br0\">(</span><span class=\"nu0\">2</span> <span class=\"sy0\">*</span> <span class=\"br0\">[</span><span class=\"re3\">Double</span><span class=\"br0\">]</span>::Parse<span class=\"br0\">(</span><span class=\"re0\">$a</span>.ToString<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$xs</span> <span class=\"sy0\">=</span> <span class=\"re0\">$M</span> <span class=\"sy0\">+</span> <span class=\"re0\">$N</span> <span class=\"sy0\">*</span> <span class=\"re0\">$rs</span><br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$ys</span> <span class=\"sy0\">=</span> <span class=\"re0\">$P</span> <span class=\"sy0\">+</span> <span class=\"re0\">$Q</span> <span class=\"sy0\">*</span> <span class=\"re0\">$rs</span><br/>\u00a0<br/>    <span class=\"br0\">[</span>PSCustomObject<span class=\"br0\">]</span><span class=\"sy0\">@</span><span class=\"br0\">{</span><br/>        X      <span class=\"sy0\">=</span> <span class=\"re0\">$xs</span><br/>        Y      <span class=\"sy0\">=</span> <span class=\"re0\">$ys</span><br/>        Radius <span class=\"sy0\">=</span> <span class=\"re0\">$rs</span><br/>    <span class=\"br0\">}</span><br/><span class=\"br0\">}</span><br/>\u00a0</pre>"}, {"lang": "PureBasic", "loc": 74, "block": "<pre class=\"purebasic highlighted_source\"><span class=\"kw1\">Structure</span> <span class=\"kw2\">Circle</span><br/>  XPos.f<br/>  YPos.f<br/>  Radius.f<br/><span class=\"kw1\">EndStructure</span><br/>\u00a0<br/><span class=\"kw1\">Procedure</span> ApolloniusSolver<span class=\"br0\">(</span><span class=\"sy0\">*</span>c1.<span class=\"kw2\">Circle</span>,<span class=\"sy0\">*</span>c2.<span class=\"kw2\">Circle</span>,<span class=\"sy0\">*</span>c3.<span class=\"kw2\">Circle</span>, s1, s2, s3<span class=\"br0\">)</span><br/>  <span class=\"kw1\">Define</span>.f  <span class=\"co1\">; This tells the compiler that all non-specified new variables</span><br/>            <span class=\"co1\">; should be of float type (.f).</span><br/>  x1<span class=\"sy0\">=*</span>c1<span class=\"sy0\">\\</span>XPos:  y1<span class=\"sy0\">=*</span>c1<span class=\"sy0\">\\</span>YPos:  r1<span class=\"sy0\">=*</span>c1<span class=\"sy0\">\\</span>Radius<br/>  x2<span class=\"sy0\">=*</span>c2<span class=\"sy0\">\\</span>XPos:  y2<span class=\"sy0\">=*</span>c2<span class=\"sy0\">\\</span>YPos:  r2<span class=\"sy0\">=*</span>c2<span class=\"sy0\">\\</span>Radius  <br/>  x3<span class=\"sy0\">=*</span>c3<span class=\"sy0\">\\</span>XPos:  y3<span class=\"sy0\">=*</span>c3<span class=\"sy0\">\\</span>YPos:  r3<span class=\"sy0\">=*</span>c3<span class=\"sy0\">\\</span>Radius<br/>\u00a0<br/>  v11 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x1<br/>  v12 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y1<br/>  v13 <span class=\"sy0\">=</span> x1<span class=\"sy0\">*</span>x1 <span class=\"sy0\">-</span> x2<span class=\"sy0\">*</span>x2 <span class=\"sy0\">+</span> y1<span class=\"sy0\">*</span>y1 <span class=\"sy0\">-</span> y2<span class=\"sy0\">*</span>y2 <span class=\"sy0\">-</span> r1<span class=\"sy0\">*</span>r1 <span class=\"sy0\">+</span> r2<span class=\"sy0\">*</span>r2<br/>  v14 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s2<span class=\"sy0\">*</span>r2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s1<span class=\"sy0\">*</span>r1<br/>\u00a0<br/>  v21 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x2<br/>  v22 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y2<br/>  v23 <span class=\"sy0\">=</span> x2<span class=\"sy0\">*</span>x2 <span class=\"sy0\">-</span> x3<span class=\"sy0\">*</span>x3 <span class=\"sy0\">+</span> y2<span class=\"sy0\">*</span>y2 <span class=\"sy0\">-</span> y3<span class=\"sy0\">*</span>y3 <span class=\"sy0\">-</span> r2<span class=\"sy0\">*</span>r2 <span class=\"sy0\">+</span> r3<span class=\"sy0\">*</span>r3<br/>  v24 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s3<span class=\"sy0\">*</span>r3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s2<span class=\"sy0\">*</span>r2<br/>\u00a0<br/>  w12 <span class=\"sy0\">=</span> v12<span class=\"sy0\">/</span>v11<br/>  w13 <span class=\"sy0\">=</span> v13<span class=\"sy0\">/</span>v11<br/>  w14 <span class=\"sy0\">=</span> v14<span class=\"sy0\">/</span>v11<br/>\u00a0<br/>  w22 <span class=\"sy0\">=</span> v22<span class=\"sy0\">/</span>v21<span class=\"sy0\">-</span>w12<br/>  w23 <span class=\"sy0\">=</span> v23<span class=\"sy0\">/</span>v21<span class=\"sy0\">-</span>w13<br/>  w24 <span class=\"sy0\">=</span> v24<span class=\"sy0\">/</span>v21<span class=\"sy0\">-</span>w14<br/>\u00a0<br/>  P <span class=\"sy0\">=</span> <span class=\"sy0\">-</span>w23<span class=\"sy0\">/</span>w22<br/>  Q <span class=\"sy0\">=</span>  w24<span class=\"sy0\">/</span>w22<br/>  M <span class=\"sy0\">=</span> <span class=\"sy0\">-</span>w12<span class=\"sy0\">*</span>P<span class=\"sy0\">-</span>w13<br/>  N <span class=\"sy0\">=</span>  w14<span class=\"sy0\">-</span>w12<span class=\"sy0\">*</span>Q<br/>\u00a0<br/>  a <span class=\"sy0\">=</span> N<span class=\"sy0\">*</span>N <span class=\"sy0\">+</span> Q<span class=\"sy0\">*</span>Q <span class=\"sy0\">-</span> <span class=\"nu0\">1</span><br/>  b <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>M<span class=\"sy0\">*</span>N <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>N<span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>P<span class=\"sy0\">*</span>Q <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>Q<span class=\"sy0\">*</span>y1 <span class=\"sy0\">+</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s1<span class=\"sy0\">*</span>r1<br/>  c <span class=\"sy0\">=</span> x1<span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span> M<span class=\"sy0\">*</span>M <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>M<span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span> P<span class=\"sy0\">*</span>P <span class=\"sy0\">+</span> y1<span class=\"sy0\">*</span>y1 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>P<span class=\"sy0\">*</span>y1 <span class=\"sy0\">-</span> r1<span class=\"sy0\">*</span>r1<br/>\u00a0<br/>  D<span class=\"sy0\">=</span> b<span class=\"sy0\">*</span>b <span class=\"sy0\">-</span> <span class=\"nu0\">4</span><span class=\"sy0\">*</span>a<span class=\"sy0\">*</span>c<br/>\u00a0<br/>  <span class=\"kw1\">Define</span> <span class=\"sy0\">*</span>result.<span class=\"kw2\">Circle</span><span class=\"sy0\">=</span><span class=\"kw2\">AllocateMemory</span><span class=\"br0\">(</span><span class=\"kw2\">SizeOf</span><span class=\"br0\">(</span><span class=\"kw2\">Circle</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>  <span class=\"co1\">; Allocate memory for a returned Structure of type Circle.</span><br/>  <span class=\"co1\">; This memory should be freed later but if not, PureBasic\u2019s</span><br/>  <span class=\"co1\">; internal framework will do so when the program shuts down.</span><br/>  <span class=\"kw1\">If</span> <span class=\"sy0\">*</span>result<br/>    <span class=\"sy0\">*</span>result<span class=\"sy0\">\\</span>Radius<span class=\"sy0\">=</span><span class=\"br0\">(</span><span class=\"sy0\">-</span>b<span class=\"sy0\">-</span><span class=\"kw2\">Sqr</span><span class=\"br0\">(</span>D<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">/</span><span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>a<span class=\"br0\">)</span><br/>    <span class=\"sy0\">*</span>result<span class=\"sy0\">\\</span>XPos  <span class=\"sy0\">=</span>M<span class=\"sy0\">+</span>N <span class=\"sy0\">*</span> <span class=\"sy0\">*</span>result<span class=\"sy0\">\\</span>Radius<br/>    <span class=\"sy0\">*</span>result<span class=\"sy0\">\\</span>YPos  <span class=\"sy0\">=</span>P<span class=\"sy0\">+</span>Q <span class=\"sy0\">*</span> <span class=\"sy0\">*</span>result<span class=\"sy0\">\\</span>Radius<br/>  <span class=\"kw1\">EndIf</span><br/>  <span class=\"kw1\">ProcedureReturn</span> <span class=\"sy0\">*</span>result <span class=\"co1\">; Sending back a pointer</span><br/><span class=\"kw1\">EndProcedure</span><br/>\u00a0<br/><span class=\"kw1\">If</span> <span class=\"kw2\">OpenConsole</span><span class=\"br0\">(</span><span class=\"br0\">)</span><br/>  <span class=\"kw1\">Define</span>.<span class=\"kw2\">Circle</span> c1, c2, c3<br/>  <span class=\"kw1\">Define</span> <span class=\"sy0\">*</span>c.<span class=\"kw2\">Circle</span>  <span class=\"co1\">; '*c' is defined as a pointer to a circle-structure.</span><br/>  c1<span class=\"sy0\">\\</span>Radius<span class=\"sy0\">=</span><span class=\"nu0\">1</span><br/>  c2<span class=\"sy0\">\\</span>XPos<span class=\"sy0\">=</span><span class=\"nu0\">4</span>:  c2<span class=\"sy0\">\\</span>Radius<span class=\"sy0\">=</span><span class=\"nu0\">1</span><br/>  c3<span class=\"sy0\">\\</span>XPos<span class=\"sy0\">=</span><span class=\"nu0\">2</span>:  c3<span class=\"sy0\">\\</span>YPos<span class=\"sy0\">=</span><span class=\"nu0\">4</span>:  c3<span class=\"sy0\">\\</span>Radius<span class=\"sy0\">=</span><span class=\"nu0\">2</span><br/>\u00a0<br/>  <span class=\"sy0\">*</span>c<span class=\"sy0\">=</span>ApolloniusSolver<span class=\"br0\">(</span>@c1, @c2, @c3, <span class=\"nu0\">1</span>, <span class=\"nu0\">1</span>, <span class=\"nu0\">1</span><span class=\"br0\">)</span><br/>  <span class=\"kw1\">If</span> <span class=\"sy0\">*</span>c <span class=\"co1\">; Verify that *c got allocated</span><br/>    <span class=\"kw2\">PrintN</span><span class=\"br0\">(</span><span class=\"st0\">\"Circle [x=\"</span><span class=\"sy0\">+</span><span class=\"kw2\">StrF</span><span class=\"br0\">(</span><span class=\"sy0\">*</span>c<span class=\"sy0\">\\</span>XPos,<span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"sy0\">+</span><span class=\"st0\">\", y=\"</span><span class=\"sy0\">+</span><span class=\"kw2\">StrF</span><span class=\"br0\">(</span><span class=\"sy0\">*</span>c<span class=\"sy0\">\\</span>YPos,<span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"sy0\">+</span><span class=\"st0\">\", r=\"</span><span class=\"sy0\">+</span><span class=\"kw2\">StrF</span><span class=\"br0\">(</span><span class=\"sy0\">*</span>c<span class=\"sy0\">\\</span>Radius,<span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"sy0\">+</span><span class=\"st0\">\"]\"</span><span class=\"br0\">)</span><br/>    <span class=\"kw2\">FreeMemory</span><span class=\"br0\">(</span><span class=\"sy0\">*</span>c<span class=\"br0\">)</span>  <span class=\"co1\">; We are done with *c for the first calculation</span><br/>  <span class=\"kw1\">EndIf</span>        <br/>\u00a0<br/>  <span class=\"sy0\">*</span>c<span class=\"sy0\">=</span>ApolloniusSolver<span class=\"br0\">(</span>@c1, @c2, @c3,<span class=\"sy0\">-</span><span class=\"nu0\">1</span>,<span class=\"sy0\">-</span><span class=\"nu0\">1</span>,<span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><br/>  <span class=\"kw1\">If</span> <span class=\"sy0\">*</span>c<br/>    <span class=\"kw2\">PrintN</span><span class=\"br0\">(</span><span class=\"st0\">\"Circle [x=\"</span><span class=\"sy0\">+</span><span class=\"kw2\">StrF</span><span class=\"br0\">(</span><span class=\"sy0\">*</span>c<span class=\"sy0\">\\</span>XPos,<span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"sy0\">+</span><span class=\"st0\">\", y=\"</span><span class=\"sy0\">+</span><span class=\"kw2\">StrF</span><span class=\"br0\">(</span><span class=\"sy0\">*</span>c<span class=\"sy0\">\\</span>YPos,<span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"sy0\">+</span><span class=\"st0\">\", r=\"</span><span class=\"sy0\">+</span><span class=\"kw2\">StrF</span><span class=\"br0\">(</span><span class=\"sy0\">*</span>c<span class=\"sy0\">\\</span>Radius,<span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"sy0\">+</span><span class=\"st0\">\"]\"</span><span class=\"br0\">)</span><br/>    <span class=\"kw2\">FreeMemory</span><span class=\"br0\">(</span><span class=\"sy0\">*</span>c<span class=\"br0\">)</span> <br/>  <span class=\"kw1\">EndIf</span><br/>  <span class=\"kw2\">Print</span><span class=\"br0\">(</span><span class=\"st0\">\"Press ENTER to exit\"</span><span class=\"br0\">)</span>: <span class=\"kw2\">Input</span><span class=\"br0\">(</span><span class=\"br0\">)</span><br/><span class=\"kw1\">EndIf</span></pre>"}, {"lang": "Python", "loc": 57, "block": "<pre class=\"python highlighted_source\">\u00a0<br/><span class=\"kw1\">from</span> <span class=\"kw3\">collections</span> <span class=\"kw1\">import</span> namedtuple<br/><span class=\"kw1\">import</span> <span class=\"kw3\">math</span><br/>\u00a0<br/>Circle <span class=\"sy0\">=</span> namedtuple<span class=\"br0\">(</span><span class=\"st0\">'Circle'</span><span class=\"sy0\">,</span> <span class=\"st0\">'x, y, r'</span><span class=\"br0\">)</span><br/>\u00a0<br/><span class=\"kw1\">def</span> solveApollonius<span class=\"br0\">(</span>c1<span class=\"sy0\">,</span> c2<span class=\"sy0\">,</span> c3<span class=\"sy0\">,</span> s1<span class=\"sy0\">,</span> s2<span class=\"sy0\">,</span> s3<span class=\"br0\">)</span>:<br/>    <span class=\"st0\">'''<br/>    &gt;&gt;&gt; solveApollonius((0, 0, 1), (4, 0, 1), (2, 4, 2), 1,1,1)<br/>    Circle(x=2.0, y=2.1, r=3.9)<br/>    &gt;&gt;&gt; solveApollonius((0, 0, 1), (4, 0, 1), (2, 4, 2), -1,-1,-1)<br/>    Circle(x=2.0, y=0.8333333333333333, r=1.1666666666666667) <br/>    '''</span><br/>    x1<span class=\"sy0\">,</span> y1<span class=\"sy0\">,</span> r1 <span class=\"sy0\">=</span> c1<br/>    x2<span class=\"sy0\">,</span> y2<span class=\"sy0\">,</span> r2 <span class=\"sy0\">=</span> c2<br/>    x3<span class=\"sy0\">,</span> y3<span class=\"sy0\">,</span> r3 <span class=\"sy0\">=</span> c3<br/>\u00a0<br/>    v11 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span>*x2 - <span class=\"nu0\">2</span>*x1<br/>    v12 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span>*y2 - <span class=\"nu0\">2</span>*y1<br/>    v13 <span class=\"sy0\">=</span> x1*x1 - x2*x2 + y1*y1 - y2*y2 - r1*r1 + r2*r2<br/>    v14 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span>*s2*r2 - <span class=\"nu0\">2</span>*s1*r1<br/>\u00a0<br/>    v21 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span>*x3 - <span class=\"nu0\">2</span>*x2<br/>    v22 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span>*y3 - <span class=\"nu0\">2</span>*y2<br/>    v23 <span class=\"sy0\">=</span> x2*x2 - x3*x3 + y2*y2 - y3*y3 - r2*r2 + r3*r3<br/>    v24 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span>*s3*r3 - <span class=\"nu0\">2</span>*s2*r2<br/>\u00a0<br/>    w12 <span class=\"sy0\">=</span> v12/v11<br/>    w13 <span class=\"sy0\">=</span> v13/v11<br/>    w14 <span class=\"sy0\">=</span> v14/v11<br/>\u00a0<br/>    w22 <span class=\"sy0\">=</span> v22/v21-w12<br/>    w23 <span class=\"sy0\">=</span> v23/v21-w13<br/>    w24 <span class=\"sy0\">=</span> v24/v21-w14<br/>\u00a0<br/>    P <span class=\"sy0\">=</span> -w23/w22<br/>    Q <span class=\"sy0\">=</span> w24/w22<br/>    M <span class=\"sy0\">=</span> -w12*P-w13<br/>    N <span class=\"sy0\">=</span> w14 - w12*Q<br/>\u00a0<br/>    a <span class=\"sy0\">=</span> N*N + Q*Q - <span class=\"nu0\">1</span><br/>    b <span class=\"sy0\">=</span> <span class=\"nu0\">2</span>*M*N - <span class=\"nu0\">2</span>*N*x1 + <span class=\"nu0\">2</span>*P*Q - <span class=\"nu0\">2</span>*Q*y1 + <span class=\"nu0\">2</span>*s1*r1<br/>    c <span class=\"sy0\">=</span> x1*x1 + M*M - <span class=\"nu0\">2</span>*M*x1 + P*P + y1*y1 - <span class=\"nu0\">2</span>*P*y1 - r1*r1<br/>\u00a0<br/>    <span class=\"co1\"># Find a root of a quadratic equation. This requires the circle centers not to be e.g. colinear</span><br/>    D <span class=\"sy0\">=</span> b*b-<span class=\"nu0\">4</span>*a*c<br/>    rs <span class=\"sy0\">=</span> <span class=\"br0\">(</span>-b-<span class=\"kw3\">math</span>.<span class=\"me1\">sqrt</span><span class=\"br0\">(</span>D<span class=\"br0\">)</span><span class=\"br0\">)</span>/<span class=\"br0\">(</span><span class=\"nu0\">2</span>*a<span class=\"br0\">)</span><br/>\u00a0<br/>    xs <span class=\"sy0\">=</span> M+N*rs<br/>    ys <span class=\"sy0\">=</span> P+Q*rs<br/>\u00a0<br/>    <span class=\"kw1\">return</span> Circle<span class=\"br0\">(</span>xs<span class=\"sy0\">,</span> ys<span class=\"sy0\">,</span> rs<span class=\"br0\">)</span><br/>\u00a0<br/><span class=\"kw1\">if</span> __name__ <span class=\"sy0\">==</span> <span class=\"st0\">'__main__'</span>:<br/>    c1<span class=\"sy0\">,</span> c2<span class=\"sy0\">,</span> c3 <span class=\"sy0\">=</span> Circle<span class=\"br0\">(</span><span class=\"nu0\">0</span><span class=\"sy0\">,</span> <span class=\"nu0\">0</span><span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy0\">,</span> Circle<span class=\"br0\">(</span><span class=\"nu0\">4</span><span class=\"sy0\">,</span> <span class=\"nu0\">0</span><span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy0\">,</span> Circle<span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">,</span> <span class=\"nu0\">4</span><span class=\"sy0\">,</span> <span class=\"nu0\">2</span><span class=\"br0\">)</span><br/>    <span class=\"kw1\">print</span><span class=\"br0\">(</span>solveApollonius<span class=\"br0\">(</span>c1<span class=\"sy0\">,</span> c2<span class=\"sy0\">,</span> c3<span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"br0\">)</span>    <span class=\"co1\">#Expects \"Circle[x=2.00,y=2.10,r=3.90]\" (green circle in image)</span><br/>    <span class=\"kw1\">print</span><span class=\"br0\">(</span>solveApollonius<span class=\"br0\">(</span>c1<span class=\"sy0\">,</span> c2<span class=\"sy0\">,</span> c3<span class=\"sy0\">,</span> -<span class=\"nu0\">1</span><span class=\"sy0\">,</span> -<span class=\"nu0\">1</span><span class=\"sy0\">,</span> -<span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"co1\">#Expects \"Circle[x=2.00,y=0.83,r=1.17]\" (red circle in image)</span></pre>"}, {"lang": "Racket", "loc": 86, "block": "<pre class=\"text highlighted_source\">\u00a0<br/>#lang slideshow<br/>\u00a0<br/>(struct circle (x y r) #:prefab)<br/>\u00a0<br/>(define (apollonius c1 c2 c3 s1 s2 s3)<br/>  (define x1 (circle-x c1))<br/>  (define y1 (circle-y c1))<br/>  (define r1 (circle-r c1))<br/>  (define x2 (circle-x c2))<br/>  (define y2 (circle-y c2))<br/>  (define r2 (circle-r c2))<br/>  (define x3 (circle-x c3))<br/>  (define y3 (circle-y c3))<br/>  (define r3 (circle-r c3))<br/>\u00a0<br/>  (define v11 (- (* 2 x2) (* 2 x1)))<br/>  (define v12 (- (* 2 y2) (* 2 y1)))<br/>  (define v13 (+ (- (* x1 x1) (* x2 x2))<br/>                 (- (* y1 y1) (* y2 y2))<br/>                 (- (* r2 r2) (* r1 r1))))<br/>  (define v14 (- (* 2 s2 r2) (* 2 s1 r1)))<br/>\u00a0<br/>  (define v21 (- (* 2 x3) (* 2 x2)))<br/>  (define v22 (- (* 2 y3) (* 2 y2)))<br/>  (define v23 (+ (- (* x2 x2) (* x3 x3))<br/>                 (- (* y2 y2) (* y3 y3))<br/>                 (- (* r3 r3) (* r2 r2))))<br/>  (define v24 (- (* 2 s3 r3) (* 2 s2 r2)))<br/>\u00a0<br/>  (define w12 (/ v12 v11))<br/>  (define w13 (/ v13 v11))<br/>  (define w14 (/ v14 v11))<br/>\u00a0<br/>  (define w22 (- (/ v22 v21) w12))<br/>  (define w23 (- (/ v23 v21) w13))<br/>  (define w24 (- (/ v24 v21) w14))<br/>\u00a0<br/>  (define P (- (/ w23 w22)))<br/>  (define Q (/ w24 w22))<br/>  (define M (- (+ (* w12 P) w13)))<br/>  (define N (- w14 (* w12 Q)))<br/>\u00a0<br/>  (define a (+ (* N N) (* Q Q) -1))<br/>  (define b (+ (- (* 2 M N) (* 2 N x1))<br/>               (- (* 2 P Q) (* 2 Q y1))<br/>               (* 2 s1 r1)))<br/>  (define c (- (+ (* x1 x1) (* M M) (* P P) (* y1 y1))<br/>               (+ (* 2 M x1) (* 2 P y1) (* r1 r1))))<br/>\u00a0<br/>  (define D (- (* b b) (* 4 a c)))<br/>  (define rs (/ (- (+ b (sqrt D))) (* 2 a)))<br/>  (define xs (+ M (* N rs)))<br/>  (define ys (+ P (* Q rs)))<br/>  (circle xs ys rs))<br/>\u00a0<br/>(define c1 (circle 0.0 0.0 1.0))<br/>(define c2 (circle 4.0 0.0 1.0))<br/>(define c3 (circle 2.0 4.0 2.0))<br/>\u00a0<br/>;; print solutions<br/>(apollonius c1 c2 c3 1.0 1.0 1.0)<br/>(apollonius c1 c2 c3 -1.0 -1.0 -1.0)<br/>\u00a0<br/>;; visualize solutions<br/>(require racket/gui/base)<br/>(define (show-circles . circles+colors)<br/>  (define f (new frame% [label \"Apollonius\"] [width 300] [height 300]))<br/>  (define c<br/>    (new canvas% [parent f]<br/>      [paint-callback<br/>       (lambda (canvas dc)<br/>         (send* dc (set-origin 100 100)<br/>                   (set-scale 20 20)<br/>                   (set-pen \"black\" 1/10 'solid)<br/>                   (set-brush \"white\" 'transparent))<br/>         (for ([x circles+colors])<br/>           (if (string? x)<br/>             (send dc set-pen x 1/5 'solid)<br/>             (let ([x (circle-x x)] [y (circle-y x)] [r (circle-r x)])<br/>               (send dc draw-ellipse (- x r) (- y r) (* 2 r) (* 2 r))))))]))<br/>  (send f show #t))<br/>(show-circles \"black\" c1 c2 c3<br/>              \"green\" (apollonius c1 c2 c3 1.0 1.0 1.0)<br/>              \"red\"   (apollonius c1 c2 c3 -1.0 -1.0 -1.0))<br/>\u00a0</pre>"}, {"lang": "REXX", "loc": 33, "block": "<pre class=\"rexx highlighted_source\"><span class=\"coMULTI\">/*REXX program solves the problem of Apollonius, named after the Greek Apollonius of    */</span><br/><span class=\"coMULTI\">/*\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Perga [Perg\u00e6us]   (circa 262 BCE \u2500\u2500\u25ba 190 BCE). */</span><br/><span class=\"kw1\">numeric</span> <span class=\"kw2\">digits</span> <span class=\"nu0\">15</span>;        c1<span class=\"sy0\">.</span>x=<span class=\"nu0\">0</span>;     c1<span class=\"sy0\">.</span>y=<span class=\"nu0\">0</span>;     c1<span class=\"sy0\">.</span>r=<span class=\"nu0\">1</span><br/>                          c2<span class=\"sy0\">.</span>x=<span class=\"nu0\">4</span>;     c2<span class=\"sy0\">.</span>y=<span class=\"nu0\">0</span>;     c2<span class=\"sy0\">.</span>r=<span class=\"nu0\">1</span><br/>                          c3<span class=\"sy0\">.</span>x=<span class=\"nu0\">2</span>;     c3<span class=\"sy0\">.</span>y=<span class=\"nu0\">4</span>;     c3<span class=\"sy0\">.</span>r=<span class=\"nu0\">2</span><br/><span class=\"kw1\">call</span> tell  <span class=\"st0\">'external tangent:   '</span>,     Apollonius<span class=\"br0\">(</span> <span class=\"nu0\">1</span>,  <span class=\"nu0\">1</span>,  <span class=\"nu0\">1</span><span class=\"br0\">)</span><br/><span class=\"kw1\">call</span> tell  <span class=\"st0\">'internal tangent:   '</span>,     Apollonius<span class=\"br0\">(</span>-<span class=\"nu0\">1</span>, -<span class=\"nu0\">1</span>, -<span class=\"nu0\">1</span><span class=\"br0\">)</span><br/><span class=\"kw1\">exit</span>                                             <span class=\"coMULTI\">/*stick a fork in it,  we're all done. */</span><br/><span class=\"coMULTI\">/*\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500*/</span><br/>Apollonius: <span class=\"kw1\">parse</span> <span class=\"kw1\">arg</span> s1,s2,s3                   <span class=\"coMULTI\">/*could be internal or external tangent*/</span><br/>      d=<span class=\"kw2\">digits</span><span class=\"br0\">(</span><span class=\"br0\">)</span>;         <span class=\"kw1\">numeric</span> <span class=\"kw2\">digits</span> d<span class=\"sy0\">*</span><span class=\"nu0\">3</span>     <span class=\"coMULTI\">/*reduce rounding,  use thrice digits. */</span><br/>      x1=c1<span class=\"sy0\">.</span>x;            x2=c2<span class=\"sy0\">.</span>x;          x3=c3<span class=\"sy0\">.</span>x<br/>      y1=c1<span class=\"sy0\">.</span>y;            y2=c2<span class=\"sy0\">.</span>y;          y3=c3<span class=\"sy0\">.</span>y<br/>      r1=c1<span class=\"sy0\">.</span>r;            r2=c2<span class=\"sy0\">.</span>r;          r3=c3<span class=\"sy0\">.</span>r<br/>      va=<span class=\"nu0\">2</span><span class=\"sy0\">*</span>x2  - <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x1;                      vb=<span class=\"nu0\">2</span><span class=\"sy0\">*</span>y2 - <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y1<br/>      vc=x1<span class=\"sy0\">**</span><span class=\"nu0\">2</span> - x2<span class=\"sy0\">**</span><span class=\"nu0\">2</span> + y1<span class=\"sy0\">**</span><span class=\"nu0\">2</span> - y2<span class=\"sy0\">**</span><span class=\"nu0\">2</span> - r1<span class=\"sy0\">**</span><span class=\"nu0\">2</span> + r2<span class=\"sy0\">**</span><span class=\"nu0\">2</span><br/>      vd=<span class=\"nu0\">2</span><span class=\"sy0\">*</span>s2<span class=\"sy0\">*</span>r2 - <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s1<span class=\"sy0\">*</span>r1;                 ve=<span class=\"nu0\">2</span><span class=\"sy0\">*</span>x3 - <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x2;    vf=<span class=\"nu0\">2</span><span class=\"sy0\">*</span>y3    - <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y2<br/>      vg=x2<span class=\"sy0\">**</span><span class=\"nu0\">2</span> - x3<span class=\"sy0\">**</span><span class=\"nu0\">2</span> + y2<span class=\"sy0\">**</span><span class=\"nu0\">2</span> - y3<span class=\"sy0\">**</span><span class=\"nu0\">2</span> - r2<span class=\"sy0\">**</span><span class=\"nu0\">2</span> + r3<span class=\"sy0\">**</span><span class=\"nu0\">2</span>;        vh=<span class=\"nu0\">2</span><span class=\"sy0\">*</span>s3<span class=\"sy0\">*</span>r3 - <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s2<span class=\"sy0\">*</span>r2<br/>      vj=vb<span class=\"sy0\">/</span>va;           vk=vc<span class=\"sy0\">/</span>va;         vm=vd<span class=\"sy0\">/</span>va;          vn=vf<span class=\"sy0\">/</span>ve   - vj<br/>      vp=vg<span class=\"sy0\">/</span>ve - vk;      vr=vh<span class=\"sy0\">/</span>ve - vm;    p =-vp<span class=\"sy0\">/</span>vn;         q =vr<span class=\"sy0\">/</span>vn<br/>      m=-vj<span class=\"sy0\">*</span>p  - vk;      n=vm - vj<span class=\"sy0\">*</span>q;      a=n<span class=\"sy0\">**</span><span class=\"nu0\">2</span> + q<span class=\"sy0\">**</span><span class=\"nu0\">2</span> - <span class=\"nu0\">1</span><br/>      b=<span class=\"nu0\">2</span><span class=\"sy0\">*</span>m<span class=\"sy0\">*</span>n  - <span class=\"nu0\">2</span><span class=\"sy0\">*</span>n<span class=\"sy0\">*</span>x1 + <span class=\"nu0\">2</span><span class=\"sy0\">*</span>p<span class=\"sy0\">*</span>q - <span class=\"nu0\">2</span><span class=\"sy0\">*</span>q<span class=\"sy0\">*</span>y1 + <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s1<span class=\"sy0\">*</span>r1<br/>      c=x1<span class=\"sy0\">**</span><span class=\"nu0\">2</span>  + m<span class=\"sy0\">**</span><span class=\"nu0\">2</span> - <span class=\"nu0\">2</span><span class=\"sy0\">*</span>m<span class=\"sy0\">*</span>x1 + p<span class=\"sy0\">**</span><span class=\"nu0\">2</span> + y1<span class=\"sy0\">**</span><span class=\"nu0\">2</span> - <span class=\"nu0\">2</span><span class=\"sy0\">*</span>p<span class=\"sy0\">*</span>y1 - r1<span class=\"sy0\">**</span><span class=\"nu0\">2</span><br/>      _=b<span class=\"sy0\">**</span><span class=\"nu0\">2</span>   - <span class=\"nu0\">4</span><span class=\"sy0\">*</span>a<span class=\"sy0\">*</span>c;   $r=<span class=\"br0\">(</span>-b - sqrt<span class=\"br0\">(</span>_<span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"sy0\">/</span> <span class=\"br0\">(</span>a+a<span class=\"br0\">)</span>;           $x=m + n<span class=\"sy0\">*</span>$r;    $y=p + q<span class=\"sy0\">*</span>$r<br/>      <span class=\"kw1\">numeric</span> <span class=\"kw2\">digits</span> d;   <span class=\"kw1\">return</span>  $x  $y  $r     <span class=\"coMULTI\">/*return with three arguments.         */</span><br/><span class=\"coMULTI\">/*\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500*/</span><br/>sqrt: <span class=\"kw1\">procedure</span>; <span class=\"kw1\">parse</span> <span class=\"kw1\">arg</span> x;  <span class=\"kw1\">if</span> x=<span class=\"nu0\">0</span>  <span class=\"kw3\">then</span> <span class=\"kw1\">return</span> <span class=\"nu0\">0</span>;  d=<span class=\"kw2\">digits</span><span class=\"br0\">(</span><span class=\"br0\">)</span>;  h=d+<span class=\"nu0\">6</span>;  <span class=\"kw1\">numeric</span> <span class=\"kw2\">digits</span><br/>      m<span class=\"sy0\">.</span>=<span class=\"nu0\">9</span>; <span class=\"kw1\">numeric</span> <span class=\"kw2\">form</span>; <span class=\"kw1\">parse</span> <span class=\"kw2\">value</span> <span class=\"kw6\">format</span><span class=\"br0\">(</span>x,<span class=\"nu0\">2</span>,<span class=\"nu0\">1</span>,,<span class=\"nu0\">0</span><span class=\"br0\">)</span> <span class=\"st0\">'E0'</span>  <span class=\"kw2\">with</span>  g <span class=\"st0\">'E'</span> _ <span class=\"sy0\">.</span>; g=g<span class=\"sy0\">*.</span>5<span class=\"st0\">'e'</span>_%2<br/>                  <span class=\"kw1\">do</span> j=<span class=\"nu0\">0</span>  <span class=\"kw2\">while</span> h<span class=\"sy0\">&gt;</span><span class=\"nu0\">9</span>;      m<span class=\"sy0\">.</span>j=h;               h=h%2 + <span class=\"nu0\">1</span>;       <span class=\"kw3\">end</span>  <span class=\"coMULTI\">/*j*/</span><br/>                  <span class=\"kw1\">do</span> k=j+<span class=\"nu0\">5</span>  <span class=\"kw2\">to</span> <span class=\"nu0\">0</span>  <span class=\"kw2\">by</span> -<span class=\"nu0\">1</span>;  <span class=\"kw1\">numeric</span> <span class=\"kw2\">digits</span> m<span class=\"sy0\">.</span>k;  g=<span class=\"br0\">(</span>g+x<span class=\"sy0\">/</span>g<span class=\"br0\">)</span> <span class=\"sy0\">*</span> <span class=\"sy0\">.</span>5;  <span class=\"kw3\">end</span>  <span class=\"coMULTI\">/*k*/</span><br/>      <span class=\"kw1\">return</span> g<br/><span class=\"coMULTI\">/*\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500*/</span><br/>tell: <span class=\"kw1\">parse</span> <span class=\"kw1\">arg</span> _,a b c; w=<span class=\"kw2\">digits</span><span class=\"br0\">(</span><span class=\"br0\">)</span>+<span class=\"nu0\">4</span>; <span class=\"kw1\">say</span> _ <span class=\"kw6\">left</span><span class=\"br0\">(</span>a<span class=\"sy0\">/</span><span class=\"nu0\">1</span>,w%2<span class=\"br0\">)</span> <span class=\"kw6\">left</span><span class=\"br0\">(</span>b<span class=\"sy0\">/</span><span class=\"nu0\">1</span>,w<span class=\"br0\">)</span> <span class=\"kw6\">left</span><span class=\"br0\">(</span>c<span class=\"sy0\">/</span><span class=\"nu0\">1</span>,w<span class=\"br0\">)</span>; <span class=\"kw1\">return</span></pre>"}, {"lang": "Ruby", "loc": 57, "block": "<pre class=\"ruby highlighted_source\"><span class=\"kw1\">class</span> Circle<br/>  <span class=\"kw1\">def</span> initialize<span class=\"br0\">(</span>x, y, r<span class=\"br0\">)</span><br/>    <span class=\"re1\">@x</span>, <span class=\"re1\">@y</span>, <span class=\"re1\">@r</span> = <span class=\"br0\">[</span>x, y, r<span class=\"br0\">]</span>.<span class=\"me1\">map</span><span class=\"br0\">(</span><span class=\"sy0\">&amp;</span>:to_f<span class=\"br0\">)</span><br/>  <span class=\"kw1\">end</span><br/>  attr_reader <span class=\"re3\">:x</span>, <span class=\"re3\">:y</span>, <span class=\"re3\">:r</span><br/>\u00a0<br/>  <span class=\"kw1\">def</span> <span class=\"kw2\">self</span>.<span class=\"me1\">apollonius</span><span class=\"br0\">(</span>c1, c2, c3, s1=<span class=\"nu0\">1</span>, s2=<span class=\"nu0\">1</span>, s3=<span class=\"nu0\">1</span><span class=\"br0\">)</span><br/>    x1, y1, r1 = c1.<span class=\"me1\">x</span>, c1.<span class=\"me1\">y</span>, c1.<span class=\"me1\">r</span><br/>    x2, y2, r2 = c2.<span class=\"me1\">x</span>, c2.<span class=\"me1\">y</span>, c2.<span class=\"me1\">r</span><br/>    x3, y3, r3 = c3.<span class=\"me1\">x</span>, c3.<span class=\"me1\">y</span>, c3.<span class=\"me1\">r</span><br/>\u00a0<br/>    v11 = <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x1<br/>    v12 = <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y1<br/>    v13 = x1<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> x2<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">+</span> y1<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> y2<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> r1<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">+</span> r2<span class=\"sy0\">**</span><span class=\"nu0\">2</span><br/>    v14 = <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s2<span class=\"sy0\">*</span>r2 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s1<span class=\"sy0\">*</span>r1<br/>\u00a0<br/>    v21 = <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>x2<br/>    v22 = <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>y2<br/>    v23 = x2<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> x3<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">+</span> y2<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> y3<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> r2<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">+</span> r3<span class=\"sy0\">**</span><span class=\"nu0\">2</span><br/>    v24 = <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s3<span class=\"sy0\">*</span>r3 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s2<span class=\"sy0\">*</span>r2<br/>\u00a0<br/>    w12 = v12<span class=\"sy0\">/</span>v11<br/>    w13 = v13<span class=\"sy0\">/</span>v11<br/>    w14 = v14<span class=\"sy0\">/</span>v11<br/>\u00a0<br/>    w22 = v22<span class=\"sy0\">/</span>v21 <span class=\"sy0\">-</span> w12<br/>    w23 = v23<span class=\"sy0\">/</span>v21 <span class=\"sy0\">-</span> w13<br/>    w24 = v24<span class=\"sy0\">/</span>v21 <span class=\"sy0\">-</span> w14<br/>\u00a0<br/>    <span class=\"kw3\">p</span> = <span class=\"sy0\">-</span>w23<span class=\"sy0\">/</span>w22<br/>    q = w24<span class=\"sy0\">/</span>w22<br/>    m = <span class=\"sy0\">-</span>w12<span class=\"sy0\">*</span><span class=\"kw3\">p</span> <span class=\"sy0\">-</span> w13<br/>    n = w14 <span class=\"sy0\">-</span> w12<span class=\"sy0\">*</span>q<br/>\u00a0<br/>    a = n<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">+</span> q<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">1</span><br/>    b = <span class=\"nu0\">2</span><span class=\"sy0\">*</span>m<span class=\"sy0\">*</span>n <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>n<span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span><span class=\"kw3\">p</span><span class=\"sy0\">*</span>q <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>q<span class=\"sy0\">*</span>y1 <span class=\"sy0\">+</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s1<span class=\"sy0\">*</span>r1<br/>    c = x1<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">+</span> m<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>m<span class=\"sy0\">*</span>x1 <span class=\"sy0\">+</span> <span class=\"kw3\">p</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">+</span> y1<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span><span class=\"kw3\">p</span><span class=\"sy0\">*</span>y1 <span class=\"sy0\">-</span> r1<span class=\"sy0\">**</span><span class=\"nu0\">2</span><br/>\u00a0<br/>    d = b<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">4</span><span class=\"sy0\">*</span>a<span class=\"sy0\">*</span>c<br/>    rs = <span class=\"br0\">(</span><span class=\"sy0\">-</span>b <span class=\"sy0\">-</span> <span class=\"kw4\">Math</span>.<span class=\"me1\">sqrt</span><span class=\"br0\">(</span>d<span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"sy0\">/</span> <span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>a<span class=\"br0\">)</span><br/>    xs = m <span class=\"sy0\">+</span> n<span class=\"sy0\">*</span>rs<br/>    ys = <span class=\"kw3\">p</span> <span class=\"sy0\">+</span> q<span class=\"sy0\">*</span>rs<br/>\u00a0<br/>    <span class=\"kw2\">self</span>.<span class=\"me1\">new</span><span class=\"br0\">(</span>xs, ys, rs<span class=\"br0\">)</span><br/>  <span class=\"kw1\">end</span><br/>\u00a0<br/>  <span class=\"kw1\">def</span> to_s<br/>    <span class=\"st0\">\"Circle: x=#{@x}, y=#{@y}, r=#{@r}\"</span><br/>  <span class=\"kw1\">end</span><br/><span class=\"kw1\">end</span><br/>\u00a0<br/><span class=\"kw3\">puts</span> c1 = Circle.<span class=\"me1\">new</span><span class=\"br0\">(</span><span class=\"nu0\">0</span>, <span class=\"nu0\">0</span>, <span class=\"nu0\">1</span><span class=\"br0\">)</span><br/><span class=\"kw3\">puts</span> c2 = Circle.<span class=\"me1\">new</span><span class=\"br0\">(</span><span class=\"nu0\">2</span>, <span class=\"nu0\">4</span>, <span class=\"nu0\">2</span><span class=\"br0\">)</span><br/><span class=\"kw3\">puts</span> c3 = Circle.<span class=\"me1\">new</span><span class=\"br0\">(</span><span class=\"nu0\">4</span>, <span class=\"nu0\">0</span>, <span class=\"nu0\">1</span><span class=\"br0\">)</span><br/>\u00a0<br/><span class=\"kw3\">puts</span> Circle.<span class=\"me1\">apollonius</span><span class=\"br0\">(</span>c1, c2, c3<span class=\"br0\">)</span><br/><span class=\"kw3\">puts</span> Circle.<span class=\"me1\">apollonius</span><span class=\"br0\">(</span>c1, c2, c3, <span class=\"sy0\">-</span><span class=\"nu0\">1</span>, <span class=\"sy0\">-</span><span class=\"nu0\">1</span>, <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"br0\">)</span></pre>"}, {"lang": "Scala", "loc": 81, "block": "<pre class=\"scala highlighted_source\"><a href=\"http://scala-lang.org\"><span class=\"kw1\">object</span></a> ApolloniusSolver <a href=\"http://scala-lang.org\"><span class=\"kw1\">extends</span></a> App <span class=\"br0\">{</span><br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">case</span></a> <a href=\"http://scala-lang.org\"><span class=\"kw1\">class</span></a> Circle<span class=\"br0\">(</span>x<span class=\"sy0\">:</span> Double, y<span class=\"sy0\">:</span> Double, r<span class=\"sy0\">:</span> Double<span class=\"br0\">)</span><br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">object</span></a> Tangent <a href=\"http://scala-lang.org\"><span class=\"kw1\">extends</span></a> Enumeration <span class=\"br0\">{</span><br/>\t<a href=\"http://scala-lang.org\"><span class=\"kw1\">type</span></a> Tangent <span class=\"sy0\">=</span> Value<br/>\t<a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> intern <span class=\"sy0\">=</span> Value<span class=\"br0\">(</span>-<span class=\"nu0\">1</span><span class=\"br0\">)</span><br/>\t<a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> extern <span class=\"sy0\">=</span> Value<span class=\"br0\">(</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><br/>  <span class=\"br0\">}</span><br/>\u00a0<br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">import</span></a> Tangent.<span class=\"sy0\">_</span><br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">import</span></a> scala.<span class=\"me1\">Math</span>.<span class=\"sy0\">_</span><br/>\u00a0<br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> solveApollonius<span class=\"sy0\">:</span> <span class=\"br0\">(</span>Circle, Circle, Circle, Triple<span class=\"br0\">[</span>Tangent, Tangent, Tangent<span class=\"br0\">]</span><span class=\"br0\">)</span> <span class=\"sy0\">=&gt;</span> Circle <span class=\"sy0\">=</span> <span class=\"br0\">(</span>c1, c2, c3, tangents<span class=\"br0\">)</span> <span class=\"sy0\">=&gt;</span> <span class=\"br0\">{</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> fv<span class=\"sy0\">:</span> <span class=\"br0\">(</span>Circle, Circle, Int, Int<span class=\"br0\">)</span> <span class=\"sy0\">=&gt;</span> Tuple4<span class=\"br0\">[</span>Double, Double, Double, Double<span class=\"br0\">]</span> <span class=\"sy0\">=</span> <span class=\"br0\">(</span>c1, c2, s1, s2<span class=\"br0\">)</span> <span class=\"sy0\">=&gt;</span> <span class=\"br0\">{</span><br/>      <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> v11 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> c2.<span class=\"me1\">x</span> - <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> c1.<span class=\"me1\">x</span><br/>      <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> v12 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> c2.<span class=\"me1\">y</span> - <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> c1.<span class=\"me1\">y</span><br/>      <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> v13 <span class=\"sy0\">=</span> pow<span class=\"br0\">(</span>c1.<span class=\"me1\">x</span>, <span class=\"nu0\">2</span><span class=\"br0\">)</span> - pow<span class=\"br0\">(</span>c2.<span class=\"me1\">x</span>, <span class=\"nu0\">2</span><span class=\"br0\">)</span> + pow<span class=\"br0\">(</span>c1.<span class=\"me1\">y</span>, <span class=\"nu0\">2</span><span class=\"br0\">)</span> - pow<span class=\"br0\">(</span>c2.<span class=\"me1\">y</span>, <span class=\"nu0\">2</span><span class=\"br0\">)</span> - pow<span class=\"br0\">(</span>c1.<span class=\"me1\">r</span>, <span class=\"nu0\">2</span><span class=\"br0\">)</span> + pow<span class=\"br0\">(</span>c2.<span class=\"me1\">r</span>, <span class=\"nu0\">2</span><span class=\"br0\">)</span><br/>      <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> v14 <span class=\"sy0\">=</span> <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s2 <span class=\"sy0\">*</span> c2.<span class=\"me1\">r</span> - <span class=\"nu0\">2</span> <span class=\"sy0\">*</span> s1 <span class=\"sy0\">*</span> c1.<span class=\"me1\">r</span><br/>      Tuple4<span class=\"br0\">(</span>v11, v12, v13, v14<span class=\"br0\">)</span><br/>    <span class=\"br0\">}</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> <span class=\"br0\">(</span>s1, s2, s3<span class=\"br0\">)</span> <span class=\"sy0\">=</span> <span class=\"br0\">(</span>tangents.<span class=\"sy0\">_</span>1.<span class=\"me1\">id</span>, tangents.<span class=\"sy0\">_</span>2.<span class=\"me1\">id</span>, tangents.<span class=\"sy0\">_</span>3.<span class=\"me1\">id</span><span class=\"br0\">)</span><br/>\u00a0<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> <span class=\"br0\">(</span>v11, v12, v13, v14<span class=\"br0\">)</span> <span class=\"sy0\">=</span> fv<span class=\"br0\">(</span>c1, c2, s1, s2<span class=\"br0\">)</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> <span class=\"br0\">(</span>v21, v22, v23, v24<span class=\"br0\">)</span> <span class=\"sy0\">=</span> fv<span class=\"br0\">(</span>c2, c3, s2, s3<span class=\"br0\">)</span><br/>\u00a0<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> w12 <span class=\"sy0\">=</span> v12 / v11<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> w13 <span class=\"sy0\">=</span> v13 / v11<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> w14 <span class=\"sy0\">=</span> v14 / v11<br/>\u00a0<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> w22 <span class=\"sy0\">=</span> v22 / v21 - w12<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> w23 <span class=\"sy0\">=</span> v23 / v21 - w13<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> w24 <span class=\"sy0\">=</span> v24 / v21 - w14<br/>\u00a0<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> P <span class=\"sy0\">=</span> -w23 / w22<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> Q <span class=\"sy0\">=</span>  w24 / w22<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> M <span class=\"sy0\">=</span> -w12 <span class=\"sy0\">*</span> P - w13<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> N <span class=\"sy0\">=</span>  w14 - w12 <span class=\"sy0\">*</span> Q<br/>\u00a0<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> a <span class=\"sy0\">=</span> N<span class=\"sy0\">*</span>N + Q<span class=\"sy0\">*</span>Q - <span class=\"nu0\">1</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> b <span class=\"sy0\">=</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>M<span class=\"sy0\">*</span>N - <span class=\"nu0\">2</span><span class=\"sy0\">*</span>N<span class=\"sy0\">*</span>c1.<span class=\"me1\">x</span> +<br/>            <span class=\"nu0\">2</span><span class=\"sy0\">*</span>P<span class=\"sy0\">*</span>Q - <span class=\"nu0\">2</span><span class=\"sy0\">*</span>Q<span class=\"sy0\">*</span>c1.<span class=\"me1\">y</span> +<br/>            <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s1<span class=\"sy0\">*</span>c1.<span class=\"me1\">r</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> c <span class=\"sy0\">=</span> pow<span class=\"br0\">(</span>c1.<span class=\"me1\">x</span>, <span class=\"nu0\">2</span><span class=\"br0\">)</span> + M<span class=\"sy0\">*</span>M - <span class=\"nu0\">2</span><span class=\"sy0\">*</span>M<span class=\"sy0\">*</span>c1.<span class=\"me1\">x</span> +<br/>            P<span class=\"sy0\">*</span>P + pow<span class=\"br0\">(</span>c1.<span class=\"me1\">y</span>, <span class=\"nu0\">2</span><span class=\"br0\">)</span> - <span class=\"nu0\">2</span><span class=\"sy0\">*</span>P<span class=\"sy0\">*</span>c1.<span class=\"me1\">y</span> - pow<span class=\"br0\">(</span>c1.<span class=\"me1\">r</span>, <span class=\"nu0\">2</span><span class=\"br0\">)</span><br/>\u00a0<br/>    <span class=\"co1\">// Find a root of a quadratic equation. This requires the circle centers not to be e.g. colinear</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> D <span class=\"sy0\">=</span> b<span class=\"sy0\">*</span>b - <span class=\"nu0\">4</span><span class=\"sy0\">*</span>a<span class=\"sy0\">*</span>c<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> rs <span class=\"sy0\">=</span> <span class=\"br0\">(</span>-b - sqrt<span class=\"br0\">(</span>D<span class=\"br0\">)</span><span class=\"br0\">)</span> / <span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>a<span class=\"br0\">)</span><br/>\u00a0<br/>    Circle<span class=\"br0\">(</span>x<span class=\"sy0\">=</span>M + N<span class=\"sy0\">*</span>rs, y<span class=\"sy0\">=</span>P + Q<span class=\"sy0\">*</span>rs, r<span class=\"sy0\">=</span>rs<span class=\"br0\">)</span><br/>  <span class=\"br0\">}</span>\t<br/>\u00a0<br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> c1 <span class=\"sy0\">=</span> Circle<span class=\"br0\">(</span>x<span class=\"sy0\">=</span><span class=\"nu0\">0.0</span>, y<span class=\"sy0\">=</span><span class=\"nu0\">0.0</span>, r<span class=\"sy0\">=</span><span class=\"nu0\">1.0</span><span class=\"br0\">)</span><br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> c2 <span class=\"sy0\">=</span> Circle<span class=\"br0\">(</span>x<span class=\"sy0\">=</span><span class=\"nu0\">4.0</span>, y<span class=\"sy0\">=</span><span class=\"nu0\">0.0</span>, r<span class=\"sy0\">=</span><span class=\"nu0\">1.0</span><span class=\"br0\">)</span><br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> c3 <span class=\"sy0\">=</span> Circle<span class=\"br0\">(</span>x<span class=\"sy0\">=</span><span class=\"nu0\">2.0</span>, y<span class=\"sy0\">=</span><span class=\"nu0\">4.0</span>, r<span class=\"sy0\">=</span><span class=\"nu0\">2.0</span><span class=\"br0\">)</span><br/>\u00a0<br/>  println<span class=\"br0\">(</span><span class=\"st0\">\"c1: \"</span>+c1<span class=\"br0\">)</span><br/>  println<span class=\"br0\">(</span><span class=\"st0\">\"c2: \"</span>+c2<span class=\"br0\">)</span><br/>  println<span class=\"br0\">(</span><span class=\"st0\">\"c3: \"</span>+c3<span class=\"br0\">)</span><br/>\u00a0<br/>  println<span class=\"br0\">{</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> tangents <span class=\"sy0\">=</span> Triple<span class=\"br0\">(</span>intern, intern, intern<span class=\"br0\">)</span><br/>    <span class=\"st0\">\"red circle:   tangents=\"</span>+tangents+<span class=\"st0\">\" cs=\"</span> + solveApollonius<span class=\"br0\">(</span>c1, c2, c3, tangents<span class=\"br0\">)</span><br/>  <span class=\"br0\">}</span><br/>  println<span class=\"br0\">{</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> tangents <span class=\"sy0\">=</span> Triple<span class=\"br0\">(</span>extern, extern, extern<span class=\"br0\">)</span><br/>    <span class=\"st0\">\"green circle: tangents=\"</span>+tangents+<span class=\"st0\">\" cs=\"</span> + solveApollonius<span class=\"br0\">(</span>c1, c2, c3, tangents<span class=\"br0\">)</span><br/>  <span class=\"br0\">}</span><br/>\u00a0<br/>  println<span class=\"br0\">(</span><span class=\"st0\">\"all combinations:\"</span><span class=\"br0\">)</span><br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">for</span></a> <span class=\"br0\">(</span> ti <span class=\"sy0\">&lt;</span>- Tangent.<span class=\"me1\">values</span><span class=\"br0\">)</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">for</span></a> <span class=\"br0\">(</span> tj <span class=\"sy0\">&lt;</span>- Tangent.<span class=\"me1\">values</span><span class=\"br0\">)</span><br/>      <a href=\"http://scala-lang.org\"><span class=\"kw1\">for</span></a> <span class=\"br0\">(</span> tk <span class=\"sy0\">&lt;</span>- Tangent.<span class=\"me1\">values</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>        println<span class=\"br0\">{</span><br/>          <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> format<span class=\"sy0\">:</span> Circle <span class=\"sy0\">=&gt;</span> String <span class=\"sy0\">=</span> c <span class=\"sy0\">=&gt;</span> <span class=\"br0\">{</span><br/>            <span class=\"st0\">\"Circle(x=%8.5f, y=%8.5f, r=%8.5f)\"</span>.<span class=\"me1\">format</span><span class=\"br0\">(</span>c.<span class=\"me1\">x</span>, c.<span class=\"me1\">y</span>, c.<span class=\"me1\">r</span><span class=\"br0\">)</span><br/>          <span class=\"br0\">}</span><br/>          <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> tangents <span class=\"sy0\">=</span> Triple<span class=\"br0\">(</span>ti, tj, tk<span class=\"br0\">)</span><br/>          <span class=\"st0\">\"tangents: \"</span> + tangents + <span class=\"st0\">\" -&gt; cs=\"</span> + format<span class=\"br0\">(</span>solveApollonius<span class=\"br0\">(</span>c1, c2, c3, tangents<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>        <span class=\"br0\">}</span><br/>      <span class=\"br0\">}</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "Sidef", "loc": 48, "block": "<pre class=\"ruby highlighted_source\"><span class=\"kw1\">class</span> Circle<span class=\"br0\">(</span>x,y,r<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>    method to_s <span class=\"br0\">{</span> <span class=\"st0\">\"Circle(#{x}, #{y}, #{r})\"</span> <span class=\"br0\">}</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/>func solve_apollonius<span class=\"br0\">(</span>c, s<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>\u00a0<br/>    var<span class=\"br0\">(</span>c1, c2, c3<span class=\"br0\">)</span> = c...;<br/>    var<span class=\"br0\">(</span>s1, s2, s3<span class=\"br0\">)</span> = s...;<br/>\u00a0<br/>    var \ud835\udc63<span class=\"nu0\">11</span> = <span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>c2.<span class=\"me1\">x</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>c1.<span class=\"me1\">x</span><span class=\"br0\">)</span>;<br/>    var \ud835\udc63<span class=\"nu0\">12</span> = <span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>c2.<span class=\"me1\">y</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>c1.<span class=\"me1\">y</span><span class=\"br0\">)</span>;<br/>    var \ud835\udc63<span class=\"nu0\">13</span> = <span class=\"br0\">(</span>c1.<span class=\"me1\">x</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> c2.<span class=\"me1\">x</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">+</span> c1.<span class=\"me1\">y</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> c2.<span class=\"me1\">y</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> c1.<span class=\"me1\">r</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">+</span> c2.<span class=\"me1\">r</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span><span class=\"br0\">)</span>;<br/>    var \ud835\udc63<span class=\"nu0\">14</span> = <span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>s2<span class=\"sy0\">*</span>c2.<span class=\"me1\">r</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s1<span class=\"sy0\">*</span>c1.<span class=\"me1\">r</span><span class=\"br0\">)</span>;<br/>\u00a0<br/>    var \ud835\udc63<span class=\"nu0\">21</span> = <span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>c3.<span class=\"me1\">x</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>c2.<span class=\"me1\">x</span><span class=\"br0\">)</span>;<br/>    var \ud835\udc63<span class=\"nu0\">22</span> = <span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>c3.<span class=\"me1\">y</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>c2.<span class=\"me1\">y</span><span class=\"br0\">)</span>;<br/>    var \ud835\udc63<span class=\"nu0\">23</span> = <span class=\"br0\">(</span>c2.<span class=\"me1\">x</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> c3.<span class=\"me1\">x</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">+</span> c2.<span class=\"me1\">y</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> c3.<span class=\"me1\">y</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> c2.<span class=\"me1\">r</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">+</span> c3.<span class=\"me1\">r</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span><span class=\"br0\">)</span>;<br/>    var \ud835\udc63<span class=\"nu0\">24</span> = <span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>s3<span class=\"sy0\">*</span>c3.<span class=\"me1\">r</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s2<span class=\"sy0\">*</span>c2.<span class=\"me1\">r</span><span class=\"br0\">)</span>;<br/>\u00a0<br/>    var \ud835\udc64<span class=\"nu0\">12</span> = <span class=\"br0\">(</span>\ud835\udc63<span class=\"nu0\">12</span> <span class=\"sy0\">/</span> \ud835\udc63<span class=\"nu0\">11</span><span class=\"br0\">)</span>;<br/>    var \ud835\udc64<span class=\"nu0\">13</span> = <span class=\"br0\">(</span>\ud835\udc63<span class=\"nu0\">13</span> <span class=\"sy0\">/</span> \ud835\udc63<span class=\"nu0\">11</span><span class=\"br0\">)</span>;<br/>    var \ud835\udc64<span class=\"nu0\">14</span> = <span class=\"br0\">(</span>\ud835\udc63<span class=\"nu0\">14</span> <span class=\"sy0\">/</span> \ud835\udc63<span class=\"nu0\">11</span><span class=\"br0\">)</span>;<br/>\u00a0<br/>    var \ud835\udc64<span class=\"nu0\">22</span> = <span class=\"br0\">(</span>\ud835\udc63<span class=\"nu0\">22</span><span class=\"sy0\">/</span>\ud835\udc63<span class=\"nu0\">21</span> <span class=\"sy0\">-</span> \ud835\udc64<span class=\"nu0\">12</span><span class=\"br0\">)</span>;<br/>    var \ud835\udc64<span class=\"nu0\">23</span> = <span class=\"br0\">(</span>\ud835\udc63<span class=\"nu0\">23</span><span class=\"sy0\">/</span>\ud835\udc63<span class=\"nu0\">21</span> <span class=\"sy0\">-</span> \ud835\udc64<span class=\"nu0\">13</span><span class=\"br0\">)</span>;<br/>    var \ud835\udc64<span class=\"nu0\">24</span> = <span class=\"br0\">(</span>\ud835\udc63<span class=\"nu0\">24</span><span class=\"sy0\">/</span>\ud835\udc63<span class=\"nu0\">21</span> <span class=\"sy0\">-</span> \ud835\udc64<span class=\"nu0\">14</span><span class=\"br0\">)</span>;<br/>\u00a0<br/>    var \ud835\udc43 = <span class=\"br0\">(</span><span class=\"sy0\">-</span>\ud835\udc64<span class=\"nu0\">23</span> <span class=\"sy0\">/</span> \ud835\udc64<span class=\"nu0\">22</span><span class=\"br0\">)</span>;<br/>    var \ud835\udc44 = <span class=\"br0\">(</span>\ud835\udc64<span class=\"nu0\">24</span> <span class=\"sy0\">/</span> \ud835\udc64<span class=\"nu0\">22</span><span class=\"br0\">)</span>;<br/>    var \ud835\udc40 = <span class=\"br0\">(</span><span class=\"sy0\">-</span>\ud835\udc64<span class=\"nu0\">12</span><span class=\"sy0\">*</span>\ud835\udc43 <span class=\"sy0\">-</span> \ud835\udc64<span class=\"nu0\">13</span><span class=\"br0\">)</span>;<br/>    var \ud835\udc41 = <span class=\"br0\">(</span>\ud835\udc64<span class=\"nu0\">14</span> <span class=\"sy0\">-</span> \ud835\udc64<span class=\"nu0\">12</span><span class=\"sy0\">*</span>\ud835\udc44<span class=\"br0\">)</span>;<br/>\u00a0<br/>    var \ud835\udc4e = <span class=\"br0\">(</span>\ud835\udc41<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">+</span> \ud835\udc44<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span>;<br/>    var \ud835\udc4f = <span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>\ud835\udc40<span class=\"sy0\">*</span>\ud835\udc41 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>\ud835\udc41<span class=\"sy0\">*</span>c1.<span class=\"me1\">x</span> <span class=\"sy0\">+</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>\ud835\udc43<span class=\"sy0\">*</span>\ud835\udc44 <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>\ud835\udc44<span class=\"sy0\">*</span>c1.<span class=\"me1\">y</span> <span class=\"sy0\">+</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>s1<span class=\"sy0\">*</span>c1.<span class=\"me1\">r</span><span class=\"br0\">)</span>;<br/>    var \ud835\udc50 = <span class=\"br0\">(</span>c1.<span class=\"me1\">x</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">+</span> \ud835\udc40<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>\ud835\udc40<span class=\"sy0\">*</span>c1.<span class=\"me1\">x</span> <span class=\"sy0\">+</span> \ud835\udc43<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">+</span> c1.<span class=\"me1\">y</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>\ud835\udc43<span class=\"sy0\">*</span>c1.<span class=\"me1\">y</span> <span class=\"sy0\">-</span> c1.<span class=\"me1\">r</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span><span class=\"br0\">)</span>;<br/>\u00a0<br/>    var \ud835\udc37 = <span class=\"br0\">(</span>\ud835\udc4f<span class=\"sy0\">**</span><span class=\"nu0\">2</span> <span class=\"sy0\">-</span> <span class=\"nu0\">4</span><span class=\"sy0\">*</span>\ud835\udc4e<span class=\"sy0\">*</span>\ud835\udc50<span class=\"br0\">)</span>;<br/>    var rs = <span class=\"br0\">(</span><span class=\"br0\">(</span><span class=\"sy0\">-</span>\ud835\udc4f <span class=\"sy0\">-</span> \ud835\udc37.<span class=\"me1\">sqrt</span><span class=\"br0\">)</span> <span class=\"sy0\">/</span> <span class=\"nu0\">2</span><span class=\"sy0\">*</span>\ud835\udc4e<span class=\"br0\">)</span>;<br/>\u00a0<br/>    var xs = <span class=\"br0\">(</span>\ud835\udc40 <span class=\"sy0\">+</span> \ud835\udc41<span class=\"sy0\">*</span>rs<span class=\"br0\">)</span>;<br/>    var ys = <span class=\"br0\">(</span>\ud835\udc43 <span class=\"sy0\">+</span> \ud835\udc44<span class=\"sy0\">*</span>rs<span class=\"br0\">)</span>;<br/>\u00a0<br/>    Circle<span class=\"br0\">(</span>xs, ys, rs<span class=\"br0\">)</span>;<br/><span class=\"br0\">}</span><br/>\u00a0<br/>var c = <span class=\"br0\">[</span>Circle<span class=\"br0\">(</span><span class=\"nu0\">0</span>, <span class=\"nu0\">0</span>, <span class=\"nu0\">1</span><span class=\"br0\">)</span>, Circle<span class=\"br0\">(</span><span class=\"nu0\">4</span>, <span class=\"nu0\">0</span>, <span class=\"nu0\">1</span><span class=\"br0\">)</span>, Circle<span class=\"br0\">(</span><span class=\"nu0\">2</span>, <span class=\"nu0\">4</span>, <span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"br0\">]</span>;<br/>say solve_apollonius<span class=\"br0\">(</span>c, <span class=\"sy0\">%</span>n<span class=\"sy0\">&lt;</span><span class=\"nu0\">1</span> <span class=\"nu0\">1</span> <span class=\"nu0\">1</span><span class=\"sy0\">&gt;</span><span class=\"br0\">)</span>;<br/>say solve_apollonius<span class=\"br0\">(</span>c, <span class=\"sy0\">%</span>n<span class=\"sy0\">&lt;-</span><span class=\"nu0\">1</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">&gt;</span><span class=\"br0\">)</span>;</pre>"}, {"lang": "Swift", "loc": 72, "block": "<pre class=\"text highlighted_source\">import Foundation<br/>\u00a0<br/>struct Circle {<br/>    let center:[Double]!<br/>    let radius:Double!<br/>\u00a0<br/>    init(center:[Double], radius:Double) {<br/>        self.center = center<br/>        self.radius = radius<br/>    }<br/>\u00a0<br/>    func toString() -&gt; String {<br/>        return \"Circle[x=\\(center[0]),y=\\(center[1]),r=\\(radius)]\"<br/>    }<br/>}<br/>\u00a0<br/>func solveApollonius(c1:Circle, c2:Circle, c3:Circle,<br/>    s1:Double, s2:Double, s3:Double) -&gt; Circle {<br/>\u00a0<br/>        let x1 = c1.center[0]<br/>        let y1 = c1.center[1]<br/>        let r1 = c1.radius<br/>        let x2 = c2.center[0]<br/>        let y2 = c2.center[1]<br/>        let r2 = c2.radius<br/>        let x3 = c3.center[0]<br/>        let y3 = c3.center[1]<br/>        let r3 = c3.radius<br/>\u00a0<br/>        let v11 = 2*x2 - 2*x1<br/>        let v12 = 2*y2 - 2*y1<br/>        let v13 = x1*x1 - x2*x2 + y1*y1 - y2*y2 - r1*r1 + r2*r2<br/>        let v14 = 2*s2*r2 - 2*s1*r1<br/>\u00a0<br/>        let v21 = 2*x3 - 2*x2<br/>        let v22 = 2*y3 - 2*y2<br/>        let v23 = x2*x2 - x3*x3 + y2*y2 - y3*y3 - r2*r2 + r3*r3<br/>        let v24 = 2*s3*r3 - 2*s2*r2<br/>\u00a0<br/>        let w12 = v12/v11<br/>        let w13 = v13/v11<br/>        let w14 = v14/v11<br/>\u00a0<br/>        let w22 = v22/v21-w12<br/>        let w23 = v23/v21-w13<br/>        let w24 = v24/v21-w14<br/>\u00a0<br/>        let P = -w23/w22<br/>        let Q = w24/w22<br/>        let M = -w12*P-w13<br/>        let N = w14 - w12*Q<br/>\u00a0<br/>        let a = N*N + Q*Q - 1<br/>        let b = 2*M*N - 2*N*x1 + 2*P*Q - 2*Q*y1 + 2*s1*r1<br/>        let c = x1*x1 + M*M - 2*M*x1 + P*P + y1*y1 - 2*P*y1 - r1*r1<br/>\u00a0<br/>        let D = b*b-4*a*c<br/>\u00a0<br/>        let rs = (-b - sqrt(D)) / (2*a)<br/>        let xs = M + N * rs<br/>        let ys = P + Q * rs<br/>\u00a0<br/>        return  Circle(center: [xs,ys], radius: rs)<br/>\u00a0<br/>}<br/>\u00a0<br/>let c1 = Circle(center: [0,0], radius: 1)<br/>let c2 = Circle(center: [4,0], radius: 1)<br/>let c3 = Circle(center: [2,4], radius: 2)<br/>\u00a0<br/>println(solveApollonius(c1,c2,c3,1,1,1).toString())<br/>println(solveApollonius(c1,c2,c3,-1,-1,-1).toString())</pre>"}, {"lang": "Tcl", "loc": 56, "block": "<pre class=\"tcl highlighted_source\"><span class=\"kw2\">package</span> require TclOO<span class=\"sy0\">;</span> <span class=\"co1\"># Just so we can make a circle class</span><br/>\u00a0<br/>oo::<span class=\"me1\">class</span> create circle <span class=\"br0\">{</span><br/>    <span class=\"kw1\">variable</span> X Y Radius<br/>    constructor <span class=\"br0\">{</span>x y radius<span class=\"br0\">}</span> <span class=\"br0\">{</span><br/>\t<span class=\"kw1\">namespace</span> import\u00a0::<span class=\"me1\">tcl</span>::<span class=\"me1\">mathfunc</span>::<span class=\"me1\">double</span><br/>\t<span class=\"kw1\">set</span> X <span class=\"br0\">[</span>double <span class=\"re0\">$x</span><span class=\"br0\">]</span><span class=\"sy0\">;</span> <span class=\"kw1\">set</span> Y <span class=\"br0\">[</span>double <span class=\"re0\">$y</span><span class=\"br0\">]</span><span class=\"sy0\">;</span> <span class=\"kw1\">set</span> Radius <span class=\"br0\">[</span>double <span class=\"re0\">$radius</span><span class=\"br0\">]</span><br/>    <span class=\"br0\">}</span><br/>    <span class=\"kw1\">method</span> values <span class=\"br0\">{</span><span class=\"br0\">}</span> <span class=\"br0\">{</span><span class=\"kw2\">list</span> <span class=\"re0\">$X</span> <span class=\"re0\">$Y</span> <span class=\"re0\">$Radius</span><span class=\"br0\">}</span><br/>    <span class=\"kw1\">method</span> <span class=\"kw2\">format</span> <span class=\"br0\">{</span><span class=\"br0\">}</span> <span class=\"br0\">{</span><br/>\t<span class=\"kw2\">format</span> <span class=\"st0\">\"Circle<span class=\"es0\">\\[</span>o=(%.2f,%.2f),r=%.2f<span class=\"es0\">\\]</span>\"</span> <span class=\"re0\">$X</span> <span class=\"re0\">$Y</span> <span class=\"re0\">$Radius</span><br/>    <span class=\"br0\">}</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw1\">proc</span> solveApollonius <span class=\"br0\">{</span>c1 c2 c3 <span class=\"br0\">{</span>s1 <span class=\"nu0\">1</span><span class=\"br0\">}</span> <span class=\"br0\">{</span>s2 <span class=\"nu0\">1</span><span class=\"br0\">}</span> <span class=\"br0\">{</span>s3 <span class=\"nu0\">1</span><span class=\"br0\">}</span><span class=\"br0\">}</span> <span class=\"br0\">{</span><br/>    <span class=\"kw1\">if</span> <span class=\"br0\">{</span>abs<span class=\"br0\">(</span><span class=\"re0\">$s1</span><span class=\"br0\">)</span><span class=\"sy0\">!</span>=<span class=\"nu0\">1</span>||abs<span class=\"br0\">(</span><span class=\"re0\">$s2</span><span class=\"br0\">)</span><span class=\"sy0\">!</span>=<span class=\"nu0\">1</span>||abs<span class=\"br0\">(</span><span class=\"re0\">$s3</span><span class=\"br0\">)</span><span class=\"sy0\">!</span>=<span class=\"nu0\">1</span><span class=\"br0\">}</span> <span class=\"br0\">{</span><br/>\t<span class=\"kw1\">error</span> <span class=\"st0\">\"wrong sign; must be 1 or -1\"</span><br/>    <span class=\"br0\">}</span><br/>\u00a0<br/>    lassign <span class=\"br0\">[</span><span class=\"re0\">$c1</span> values<span class=\"br0\">]</span> x1 y1 r1<br/>    lassign <span class=\"br0\">[</span><span class=\"re0\">$c2</span> values<span class=\"br0\">]</span> x2 y2 r2<br/>    lassign <span class=\"br0\">[</span><span class=\"re0\">$c3</span> values<span class=\"br0\">]</span> x3 y3 r3<br/>\u00a0<br/>    <span class=\"kw1\">set</span> v11 <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span><span class=\"br0\">(</span><span class=\"re0\">$x2</span> - <span class=\"re0\">$x1</span><span class=\"br0\">)</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>    <span class=\"kw1\">set</span> v12 <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span><span class=\"br0\">(</span><span class=\"re0\">$y2</span> - <span class=\"re0\">$y1</span><span class=\"br0\">)</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>    <span class=\"kw1\">set</span> v13 <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"re0\">$x1</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> - <span class=\"re0\">$x2</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> + <span class=\"re0\">$y1</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> - <span class=\"re0\">$y2</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> - <span class=\"re0\">$r1</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> + <span class=\"re0\">$r2</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>    <span class=\"kw1\">set</span> v14 <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span><span class=\"br0\">(</span><span class=\"re0\">$s2</span><span class=\"sy0\">*</span><span class=\"re0\">$r2</span> - <span class=\"re0\">$s1</span><span class=\"sy0\">*</span><span class=\"re0\">$r1</span><span class=\"br0\">)</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>\u00a0<br/>    <span class=\"kw1\">set</span> v21 <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span><span class=\"br0\">(</span><span class=\"re0\">$x3</span> - <span class=\"re0\">$x2</span><span class=\"br0\">)</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>    <span class=\"kw1\">set</span> v22 <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span><span class=\"br0\">(</span><span class=\"re0\">$y3</span> - <span class=\"re0\">$y2</span><span class=\"br0\">)</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>    <span class=\"kw1\">set</span> v23 <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"re0\">$x2</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> - <span class=\"re0\">$x3</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> + <span class=\"re0\">$y2</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> - <span class=\"re0\">$y3</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> - <span class=\"re0\">$r2</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> + <span class=\"re0\">$r3</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>    <span class=\"kw1\">set</span> v24 <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span><span class=\"br0\">(</span><span class=\"re0\">$s3</span><span class=\"sy0\">*</span><span class=\"re0\">$r3</span> - <span class=\"re0\">$s2</span><span class=\"sy0\">*</span><span class=\"re0\">$r2</span><span class=\"br0\">)</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>\u00a0<br/>    <span class=\"kw1\">set</span> w12 <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"re0\">$v12</span> / <span class=\"re0\">$v11</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>    <span class=\"kw1\">set</span> w13 <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"re0\">$v13</span> / <span class=\"re0\">$v11</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>    <span class=\"kw1\">set</span> w14 <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"re0\">$v14</span> / <span class=\"re0\">$v11</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>\u00a0<br/>    <span class=\"kw1\">set</span> w22 <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"re0\">$v22</span> / <span class=\"re0\">$v21</span> - <span class=\"re0\">$w12</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>    <span class=\"kw1\">set</span> w23 <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"re0\">$v23</span> / <span class=\"re0\">$v21</span> - <span class=\"re0\">$w13</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>    <span class=\"kw1\">set</span> w24 <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"re0\">$v24</span> / <span class=\"re0\">$v21</span> - <span class=\"re0\">$w14</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>\u00a0<br/>    <span class=\"kw1\">set</span> P <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span>-<span class=\"re0\">$w23</span> / <span class=\"re0\">$w22</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>    <span class=\"kw1\">set</span> Q <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"re0\">$w24</span> / <span class=\"re0\">$w22</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>    <span class=\"kw1\">set</span> M <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span>-<span class=\"re0\">$w12</span> <span class=\"sy0\">*</span> <span class=\"re0\">$P</span> - <span class=\"re0\">$w13</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>    <span class=\"kw1\">set</span> N <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"re0\">$w14</span> - <span class=\"re0\">$w12</span> <span class=\"sy0\">*</span> <span class=\"re0\">$Q</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>\u00a0<br/>    <span class=\"kw1\">set</span> a <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"re0\">$N</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> + <span class=\"re0\">$Q</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> - <span class=\"nu0\">1</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>    <span class=\"kw1\">set</span> b <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span><span class=\"br0\">(</span><span class=\"re0\">$M</span><span class=\"sy0\">*</span><span class=\"re0\">$N</span> - <span class=\"re0\">$N</span><span class=\"sy0\">*</span><span class=\"re0\">$x1</span> + <span class=\"re0\">$P</span><span class=\"sy0\">*</span><span class=\"re0\">$Q</span> - <span class=\"re0\">$Q</span><span class=\"sy0\">*</span><span class=\"re0\">$y1</span> + <span class=\"re0\">$s1</span><span class=\"sy0\">*</span><span class=\"re0\">$r1</span><span class=\"br0\">)</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>    <span class=\"kw1\">set</span> c <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"br0\">(</span><span class=\"re0\">$x1</span>-<span class=\"re0\">$M</span><span class=\"br0\">)</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> + <span class=\"br0\">(</span><span class=\"re0\">$y1</span>-<span class=\"re0\">$P</span><span class=\"br0\">)</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> - <span class=\"re0\">$r1</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>\u00a0<br/>    <span class=\"kw1\">set</span> rs <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"br0\">(</span>-<span class=\"re0\">$b</span> - sqrt<span class=\"br0\">(</span><span class=\"re0\">$b</span><span class=\"sy0\">**</span><span class=\"nu0\">2</span> - <span class=\"nu0\">4</span><span class=\"sy0\">*</span><span class=\"re0\">$a</span><span class=\"sy0\">*</span><span class=\"re0\">$c</span><span class=\"br0\">)</span><span class=\"br0\">)</span> / <span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span><span class=\"re0\">$a</span><span class=\"br0\">)</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>    <span class=\"kw1\">set</span> xs <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"re0\">$M</span> + <span class=\"re0\">$N</span><span class=\"sy0\">*</span><span class=\"re0\">$rs</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>    <span class=\"kw1\">set</span> ys <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"re0\">$P</span> + <span class=\"re0\">$Q</span><span class=\"sy0\">*</span><span class=\"re0\">$rs</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>\u00a0<br/>    <span class=\"kw1\">return</span> <span class=\"br0\">[</span>circle new <span class=\"re0\">$xs</span> <span class=\"re0\">$ys</span> <span class=\"re0\">$rs</span><span class=\"br0\">]</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "VBA", "loc": 199, "block": "<pre class=\"text highlighted_source\">\u00a0<br/>Option Explicit<br/>Option Base 0<br/>\u00a0<br/>Private Const intBase As Integer = 0<br/>\u00a0<br/>Private Type tPoint<br/>\tX As Double<br/>\tY As Double<br/>End Type<br/>Private Type tCircle<br/>\tCentre As tPoint<br/>\tRadius As Double<br/>End Type<br/>\u00a0<br/>Private Sub sApollonius()<br/>    Dim Circle1 As tCircle<br/>    Dim Circle2 As tCircle<br/>    Dim Circle3 As tCircle<br/>    Dim CTanTanTan(intBase + 0 to intBase + 7) As tCircle<br/>\u00a0<br/>    With Circle1<br/>        With .Centre<br/>            .X = 0<br/>            .Y = 0<br/>        End With<br/>        .Radius = 1<br/>    End With<br/>\u00a0<br/>    With Circle2<br/>        With .Centre<br/>            .X = 4<br/>            .Y = 0<br/>        End With<br/>        .Radius = 1<br/>    End With<br/>\u00a0<br/>    With Circle3<br/>        With .Centre<br/>            .X = 2<br/>            .Y = 4<br/>        End With<br/>        .Radius = 2<br/>    End With<br/>\u00a0<br/>    Call fApollonius(Circle1,Circle2,Circle3,CTanTanTan()))<br/>\u00a0<br/>End Sub<br/>\u00a0<br/>Public Function fApollonius(ByRef C1 As tCircle, _<br/>                            ByRef C2 As tCircle, _<br/>                            ByRef C3 As tCircle, _<br/>                            ByRef CTanTanTan() As tCircle) As Boolean<br/>' Solves the Problem of Apollonius (finding a circle tangent to three other circles in the plane)<br/>' (x_s - x_1)^2 + (y_s - y_1)^2 = (r_s - Tan_1 * r_1)^2<br/>' (x_s - x_2)^2 + (y_s - y_2)^2 = (r_s - Tan_2 * r_2)^2<br/>' (x_s - x_3)^2 + (y_s - y_3)^2 = (r_s - Tan_3 * r_3)^2<br/>' x_s = M + N * r_s<br/>' y_s = P + Q * r_s<br/>\u00a0<br/>' Parameters:<br/>'   C1, C2, C3 (circles in the problem)<br/>'   Tan1\u00a0:= An indication if the solution should be externally or internally tangent (+1/-1) to Circle1 (C1)<br/>'   Tan2\u00a0:= An indication if the solution should be externally or internally tangent (+1/-1) to Circle2 (C2)<br/>'   Tan3\u00a0:= An indication if the solution should be externally or internally tangent (+1/-1) to Circle3 (C3)<br/>\u00a0<br/>    Dim Tangent(intBase + 0 To intBase + 7, intBase + 0 To intBase + 2) As Integer<br/>    Dim lgTangent As Long<br/>    Dim Tan1 As Integer<br/>    Dim Tan2 As Integer<br/>    Dim Tan3 As Integer<br/>\u00a0<br/>    Dim v11 As Double<br/>    Dim v12 As Double<br/>    Dim v13 As Double<br/>    Dim v14 As Double<br/>    Dim v21 As Double<br/>    Dim v22 As Double<br/>    Dim v23 As Double<br/>    Dim v24 As Double<br/>    Dim w12 As Double<br/>    Dim w13 As Double<br/>    Dim w14 As Double<br/>    Dim w22 As Double<br/>    Dim w23 As Double<br/>    Dim w24 As Double<br/>\u00a0<br/>    Dim p As Double<br/>    Dim Q As Double<br/>    Dim M As Double<br/>    Dim N As Double<br/>\u00a0<br/>    Dim A As Double<br/>    Dim b As Double<br/>    Dim c As Double<br/>    Dim D As Double<br/>\u00a0<br/>    'Check if circle centers are colinear<br/>    If fColinearPoints(C1.Centre, C2.Centre, C3.Centre) Then<br/>        fApollonius = False<br/>        Exit Function<br/>    End If<br/>\u00a0<br/>    Tangent(intBase + 0, intBase + 0) = -1<br/>    Tangent(intBase + 0, intBase + 1) = -1<br/>    Tangent(intBase + 0, intBase + 2) = -1<br/>\u00a0<br/>    Tangent(intBase + 1, intBase + 0) = -1<br/>    Tangent(intBase + 1, intBase + 1) = -1<br/>    Tangent(intBase + 1, intBase + 2) = 1<br/>\u00a0<br/>    Tangent(intBase + 2, intBase + 0) = -1<br/>    Tangent(intBase + 2, intBase + 1) = 1<br/>    Tangent(intBase + 2, intBase + 2) = -1<br/>\u00a0<br/>    Tangent(intBase + 3, intBase + 0) = -1<br/>    Tangent(intBase + 3, intBase + 1) = 1<br/>    Tangent(intBase + 3, intBase + 2) = 1<br/>\u00a0<br/>    Tangent(intBase + 4, intBase + 0) = 1<br/>    Tangent(intBase + 4, intBase + 1) = -1<br/>    Tangent(intBase + 4, intBase + 2) = -1<br/>\u00a0<br/>    Tangent(intBase + 5, intBase + 0) = 1<br/>    Tangent(intBase + 5, intBase + 1) = -1<br/>    Tangent(intBase + 5, intBase + 2) = 1<br/>\u00a0<br/>    Tangent(intBase + 6, intBase + 0) = 1<br/>    Tangent(intBase + 6, intBase + 1) = 1<br/>    Tangent(intBase + 6, intBase + 2) = -1<br/>\u00a0<br/>    Tangent(intBase + 7, intBase + 0) = 1<br/>    Tangent(intBase + 7, intBase + 1) = 1<br/>    Tangent(intBase + 7, intBase + 2) = 1<br/>\u00a0<br/>    For lgTangent = LBound(Tangent) To UBound(Tangent)<br/>        Tan1 = Tangent(lgTangent, intBase + 0)<br/>        Tan2 = Tangent(lgTangent, intBase + 1)<br/>        Tan3 = Tangent(lgTangent, intBase + 2)<br/>\u00a0<br/>        v11 = 2 * (C2.Centre.X - C1.Centre.X)<br/>        v12 = 2 * (C2.Centre.Y - C1.Centre.Y)<br/>        v13 = (C1.Centre.X * C1.Centre.X) _<br/>            - (C2.Centre.X * C2.Centre.X) _<br/>            + (C1.Centre.Y * C1.Centre.Y) _<br/>            - (C2.Centre.Y * C2.Centre.Y) _<br/>            - (C1.Radius * C1.Radius) _<br/>            + (C2.Radius * C2.Radius)<br/>        v14 = 2 * (Tan2 * C2.Radius - Tan1 * C1.Radius)<br/>\u00a0<br/>        v21 = 2 * (C3.Centre.X - C2.Centre.X)<br/>        v22 = 2 * (C3.Centre.Y - C2.Centre.Y)<br/>        v23 = (C2.Centre.X * C2.Centre.X) _<br/>            - (C3.Centre.X * C3.Centre.X) _<br/>            + (C2.Centre.Y * C2.Centre.Y) _<br/>            - (C3.Centre.Y * C3.Centre.Y) _<br/>            - (C2.Radius * C2.Radius) _<br/>            + (C3.Radius * C3.Radius)<br/>        v24 = 2 * ((Tan3 * C3.Radius) - (Tan2 * C2.Radius))<br/>\u00a0<br/>        w12 = v12 / v11<br/>        w13 = v13 / v11<br/>        w14 = v14 / v11<br/>\u00a0<br/>        w22 = (v22 / v21) - w12<br/>        w23 = (v23 / v21) - w13<br/>        w24 = (v24 / v21) - w14<br/>\u00a0<br/>        p = -w23 / w22<br/>        Q = w24 / w22<br/>        M = -(w12 * p) - w13<br/>        N = w14 - (w12 * Q)<br/>\u00a0<br/>        A = (N * N) + (Q * Q) - 1<br/>        b = 2 * ((M * N) - (N * C1.Centre.X) + (p * Q) - (Q * C1.Centre.Y) + (Tan1 * C1.Radius))<br/>        c = (C1.Centre.X * C1.Centre.X) _<br/>          + (M * M) _<br/>          - (2 * M * C1.Centre.X) _<br/>          + (p * p) _<br/>          + (C1.Centre.Y * C1.Centre.Y) _<br/>          - (2 * p * C1.Centre.Y) _<br/>          - (C1.Radius * C1.Radius)<br/>\u00a0<br/>        'Find a root of a quadratic equation (requires the circle centers not to be e.g. colinear)<br/>        D = (b * b) - (4 * A * c)<br/>\u00a0<br/>        With CTanTanTan(lgTangent)<br/>            .Radius = (-b - VBA.Sqr(D)) / (2 * A)<br/>            .Centre.X = M + (N * .Radius)<br/>            .Centre.Y = p + (Q * .Radius)<br/>        End With<br/>\u00a0<br/>    Next lgTangent<br/>\u00a0<br/>    fApollonius = True<br/>\u00a0<br/>End Function<br/>\u00a0<br/>\u00a0</pre>"}, {"lang": "zkl", "loc": 42, "block": "<pre class=\"text highlighted_source\">class Circle{<br/>   fcn init(xpos,ypos,radius){<br/>      var [const] x=xpos.toFloat(), y=ypos.toFloat(),r=radius.toFloat();<br/>   }<br/>   fcn toString{ \"Circle(%f,%f,%f)\".fmt(x,y,r) }<br/>   fcn apollonius(c2,c3,outside=True){<br/>      s1:=s2:=s3:=outside and 1 or -1;<br/>\u00a0<br/>      v11:=2.0*(c2.x - x);<br/>      v12:=2.0*(c2.y - y);<br/>      v13:=x.pow(2) - c2.x.pow(2) +<br/>\t   y.pow(2) - c2.y.pow(2) -<br/>\t   r.pow(2) + c2.r.pow(2);<br/>      v14:=2.0*(s2*c2.r - s1*r);<br/>\u00a0<br/>      v21:=2.0*(c3.x - c2.x);<br/>      v22:=2.0*(c3.y - c2.y);<br/>      v23:=c2.x.pow(2) - c3.x.pow(2) +<br/>\t   c2.y.pow(2) - c3.y.pow(2) -<br/>\t   c2.r.pow(2) + c3.r.pow(2);<br/>      v24:=2.0*(s3*c3.r - s2*c2.r);<br/>\u00a0<br/>      w12,w13,w14:=v12/v11,       v13/v11,       v14/v11;<br/>      w22,w23,w24:=v22/v21 - w12, v23/v21 - w13, v24/v21 - w14;<br/>\u00a0<br/>      P:=-w23/w22;<br/>      Q:= w24/w22;<br/>      M:=-w12*P - w13;<br/>      N:= w14 - w12*Q;<br/>\u00a0<br/>      a:=N*N + Q*Q - 1;<br/>      b:=2.0*(M*N - N*x + P*Q - Q*y + s1*r);<br/>      c:=x*x + M*M - 2.0*M*x + P*P + y*y - 2.0*P*y - r*r;<br/>\u00a0<br/>      // find a root of a quadratic equation.<br/>      // This requires the circle centers not to be e.g. colinear<br/>      D:=b*b - 4.0*a*c;<br/>      rs:=(-b - D.sqrt())/(2.0*a);<br/>\u00a0<br/>      Circle(M + N*rs, P + Q*rs, rs);<br/>   }<br/>}</pre>"}]}