{"task": "URL_parser", "blocks": [{"lang": "ALGOL 68", "loc": 38, "block": "<pre class=\"algol68 highlighted_source\"><span class=\"co2\">PR read \"uriParser.a68\" PR</span><br/>\u00a0<br/><span class=\"kw4\">PROC</span> test uri parser <span class=\"sy1\">=</span> <span class=\"br0\">(</span> <span class=\"kw3\">STRING</span> uri <span class=\"br0\">)</span><span class=\"kw3\">VOID</span><span class=\"sy1\">:</span><br/>     <span class=\"kw2\">BEGIN</span><br/>         URI result <span class=\"sy1\">:=</span> parse uri<span class=\"br0\">(</span> uri <span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>         <span class=\"kw22\">print</span><span class=\"br0\">(</span> <span class=\"br0\">(</span> uri<span class=\"sy1\">,</span> <span class=\"st0\">\":\"</span><span class=\"sy1\">,</span> <span class=\"kw22\">newline</span> <span class=\"br0\">)</span> <span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>         <span class=\"kw2\">IF</span> <span class=\"kw8\">NOT</span> ok <span class=\"kw6\">OF</span> result<br/>         <span class=\"kw2\">THEN</span><br/>             <span class=\"coMULTI\"># the parse failed #</span><br/>             <span class=\"kw22\">print</span><span class=\"br0\">(</span> <span class=\"br0\">(</span> <span class=\"st0\">\"    \"</span><span class=\"sy1\">,</span> error <span class=\"kw6\">OF</span> result<span class=\"sy1\">,</span> <span class=\"kw22\">newline</span> <span class=\"br0\">)</span> <span class=\"br0\">)</span><br/>         <span class=\"kw2\">ELSE</span><br/>             <span class=\"coMULTI\"># parsed OK #</span><br/>             <span class=\"kw22\">print</span><span class=\"br0\">(</span>                                    <span class=\"br0\">(</span> <span class=\"st0\">\"      scheme: \"</span><span class=\"sy1\">,</span>      scheme <span class=\"kw6\">OF</span> result<span class=\"sy1\">,</span> <span class=\"kw22\">newline</span> <span class=\"br0\">)</span> <span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>             <span class=\"kw2\">IF</span>   userinfo <span class=\"kw6\">OF</span> result <span class=\"sy1\">/=</span> <span class=\"st0\">\"\"</span> <span class=\"kw2\">THEN</span> <span class=\"kw22\">print</span><span class=\"br0\">(</span> <span class=\"br0\">(</span> <span class=\"st0\">\"    userinfo: \"</span><span class=\"sy1\">,</span>    userinfo <span class=\"kw6\">OF</span> result<span class=\"sy1\">,</span> <span class=\"kw22\">newline</span> <span class=\"br0\">)</span> <span class=\"br0\">)</span> <span class=\"kw2\">FI</span><span class=\"sy1\">;</span><br/>             <span class=\"kw2\">IF</span>       host <span class=\"kw6\">OF</span> result <span class=\"sy1\">/=</span> <span class=\"st0\">\"\"</span> <span class=\"kw2\">THEN</span> <span class=\"kw22\">print</span><span class=\"br0\">(</span> <span class=\"br0\">(</span> <span class=\"st0\">\"        host: \"</span><span class=\"sy1\">,</span>        host <span class=\"kw6\">OF</span> result<span class=\"sy1\">,</span> <span class=\"kw22\">newline</span> <span class=\"br0\">)</span> <span class=\"br0\">)</span> <span class=\"kw2\">FI</span><span class=\"sy1\">;</span><br/>             <span class=\"kw2\">IF</span>       port <span class=\"kw6\">OF</span> result <span class=\"sy1\">/=</span> <span class=\"st0\">\"\"</span> <span class=\"kw2\">THEN</span> <span class=\"kw22\">print</span><span class=\"br0\">(</span> <span class=\"br0\">(</span> <span class=\"st0\">\"        port: \"</span><span class=\"sy1\">,</span>        port <span class=\"kw6\">OF</span> result<span class=\"sy1\">,</span> <span class=\"kw22\">newline</span> <span class=\"br0\">)</span> <span class=\"br0\">)</span> <span class=\"kw2\">FI</span><span class=\"sy1\">;</span><br/>             <span class=\"kw2\">IF</span>       path <span class=\"kw6\">OF</span> result <span class=\"sy1\">/=</span> <span class=\"st0\">\"\"</span> <span class=\"kw2\">THEN</span> <span class=\"kw22\">print</span><span class=\"br0\">(</span> <span class=\"br0\">(</span> <span class=\"st0\">\"        path: \"</span><span class=\"sy1\">,</span>        path <span class=\"kw6\">OF</span> result<span class=\"sy1\">,</span> <span class=\"kw22\">newline</span> <span class=\"br0\">)</span> <span class=\"br0\">)</span> <span class=\"kw2\">FI</span><span class=\"sy1\">;</span><br/>             <span class=\"kw2\">IF</span>      query <span class=\"kw6\">OF</span> result <span class=\"sy1\">/=</span> <span class=\"st0\">\"\"</span> <span class=\"kw2\">THEN</span> <span class=\"kw22\">print</span><span class=\"br0\">(</span> <span class=\"br0\">(</span> <span class=\"st0\">\"       query: \"</span><span class=\"sy1\">,</span>       query <span class=\"kw6\">OF</span> result<span class=\"sy1\">,</span> <span class=\"kw22\">newline</span> <span class=\"br0\">)</span> <span class=\"br0\">)</span> <span class=\"kw2\">FI</span><span class=\"sy1\">;</span><br/>             <span class=\"kw2\">IF</span> fragment id <span class=\"kw6\">OF</span> result <span class=\"sy1\">/=</span> <span class=\"st0\">\"\"</span> <span class=\"kw2\">THEN</span> <span class=\"kw22\">print</span><span class=\"br0\">(</span> <span class=\"br0\">(</span> <span class=\"st0\">\" fragment id: \"</span><span class=\"sy1\">,</span> fragment id <span class=\"kw6\">OF</span> result<span class=\"sy1\">,</span> <span class=\"kw22\">newline</span> <span class=\"br0\">)</span> <span class=\"br0\">)</span> <span class=\"kw2\">FI</span><br/>         <span class=\"kw2\">FI</span><span class=\"sy1\">;</span><br/>         <span class=\"kw22\">print</span><span class=\"br0\">(</span> <span class=\"br0\">(</span> <span class=\"kw22\">newline</span> <span class=\"br0\">)</span> <span class=\"br0\">)</span><br/>     <span class=\"kw2\">END</span> <span class=\"coMULTI\"># test uri parser #</span> <span class=\"sy1\">;</span><br/>\u00a0<br/><span class=\"kw2\">BEGIN</span> test uri parser<span class=\"br0\">(</span> <span class=\"st0\">\"foo://example.com:8042/over/there?name=ferret#nose\"</span>                      <span class=\"br0\">)</span><br/>    <span class=\"sy1\">;</span> test uri parser<span class=\"br0\">(</span> <span class=\"st0\">\"urn:example:animal:ferret:nose\"</span>                                          <span class=\"br0\">)</span><br/>    <span class=\"sy1\">;</span> test uri parser<span class=\"br0\">(</span> <span class=\"st0\">\"jdbc:mysql://test_user:<a class=\"__cf_email__\" data-cfemail=\"c5aab0b0b5b5b5b6b6b6b685a9aaa6a4a9adaab6b1\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>:3306/sakila?profileSQL=true\"</span> <span class=\"br0\">)</span><br/>    <span class=\"sy1\">;</span> test uri parser<span class=\"br0\">(</span> <span class=\"st0\">\"ftp://ftp.is.co.za/rfc/rfc1808.txt\"</span>                                      <span class=\"br0\">)</span><br/>    <span class=\"sy1\">;</span> test uri parser<span class=\"br0\">(</span> <span class=\"st0\">\"http://www.ietf.org/rfc/rfc2396.txt#header1\"</span>                             <span class=\"br0\">)</span><br/>    <span class=\"sy1\">;</span> test uri parser<span class=\"br0\">(</span> <span class=\"st0\">\"ldap://[2001:db8::7]/c=GB?objectClass=one&amp;objectClass=two\"</span>               <span class=\"br0\">)</span><br/>    <span class=\"sy1\">;</span> test uri parser<span class=\"br0\">(</span> <span class=\"st0\">\"mailto:<a class=\"__cf_email__\" data-cfemail=\"7832171016563c171d381d00191508141d561b1715\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\"</span>                                             <span class=\"br0\">)</span><br/>    <span class=\"sy1\">;</span> test uri parser<span class=\"br0\">(</span> <span class=\"st0\">\"news:comp.infosystems.www.servers.unix\"</span>                                  <span class=\"br0\">)</span><br/>    <span class=\"sy1\">;</span> test uri parser<span class=\"br0\">(</span> <span class=\"st0\">\"tel:+1-816-555-1212\"</span>                                                     <span class=\"br0\">)</span><br/>    <span class=\"sy1\">;</span> test uri parser<span class=\"br0\">(</span> <span class=\"st0\">\"telnet://192.0.2.16:80/\"</span>                                                 <span class=\"br0\">)</span><br/>    <span class=\"sy1\">;</span> test uri parser<span class=\"br0\">(</span> <span class=\"st0\">\"urn:oasis:names:specification:docbook:dtd:xml:4.1.2\"</span>                     <span class=\"br0\">)</span><br/>    <span class=\"sy1\">;</span> test uri parser<span class=\"br0\">(</span> <span class=\"st0\">\"ssh://<a class=\"__cf_email__\" data-cfemail=\"2e4f42474d4b6e4b564f435e424b004d4143\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\"</span>                                                 <span class=\"br0\">)</span><br/>    <span class=\"sy1\">;</span> test uri parser<span class=\"br0\">(</span> <span class=\"st0\">\"https://bob:<a class=\"__cf_email__\" data-cfemail=\"e898899b9ba88d90898598848dc68b8785\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>/place\"</span>                                      <span class=\"br0\">)</span><br/>    <span class=\"sy1\">;</span> test uri parser<span class=\"br0\">(</span> <span class=\"st0\">\"http://example.com/?a=1&amp;b=2+2&amp;c=3&amp;c=4&amp;d=%65%6e%63%6F%64%65%64\"</span>           <span class=\"br0\">)</span><br/><span class=\"kw2\">END</span></pre>"}, {"lang": "C#", "loc": 35, "block": "<pre class=\"csharp highlighted_source\"><span class=\"kw1\">using</span> <span class=\"co3\">System</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"kw1\">namespace</span> RosettaUrlParse<br/><span class=\"br0\">{</span><br/>    <span class=\"kw4\">class</span> Program<br/>    <span class=\"br0\">{</span><br/>        <span class=\"kw1\">static</span> <span class=\"kw4\">void</span> ParseUrl<span class=\"br0\">(</span><span class=\"kw4\">string</span> url<span class=\"br0\">)</span><br/>        <span class=\"br0\">{</span><br/>            <span class=\"kw1\">var</span> u <span class=\"sy0\">=</span> <a href=\"http://www.google.com/search?q=new+msdn.microsoft.com\"><span class=\"kw3\">new</span></a> Uri<span class=\"br0\">(</span>url<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"URL:         {0}\"</span>, u<span class=\"sy0\">.</span><span class=\"me1\">AbsoluteUri</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"Scheme:      {0}\"</span>, u<span class=\"sy0\">.</span><span class=\"me1\">Scheme</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"Host:        {0}\"</span>, u<span class=\"sy0\">.</span><span class=\"me1\">DnsSafeHost</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"Port:        {0}\"</span>, u<span class=\"sy0\">.</span><span class=\"me1\">Port</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"Path:        {0}\"</span>, u<span class=\"sy0\">.</span><span class=\"me1\">LocalPath</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"Query:       {0}\"</span>, u<span class=\"sy0\">.</span><span class=\"me1\">Query</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"Fragment:    {0}\"</span>, u<span class=\"sy0\">.</span><span class=\"me1\">Fragment</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <span class=\"br0\">}</span><br/>        <span class=\"kw1\">static</span> <span class=\"kw4\">void</span> Main<span class=\"br0\">(</span><span class=\"kw4\">string</span><span class=\"br0\">[</span><span class=\"br0\">]</span> args<span class=\"br0\">)</span><br/>        <span class=\"br0\">{</span><br/>            ParseUrl<span class=\"br0\">(</span><span class=\"st0\">\"foo://example.com:8042/over/there?name=ferret#nose\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            ParseUrl<span class=\"br0\">(</span><span class=\"st0\">\"urn:example:animal:ferret:nose\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            ParseUrl<span class=\"br0\">(</span><span class=\"st0\">\"jdbc:mysql://test_user:<a class=\"__cf_email__\" data-cfemail=\"117e646461616162626262517d7e72707d797e6265\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>:3306/sakila?profileSQL=true\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            ParseUrl<span class=\"br0\">(</span><span class=\"st0\">\"ftp://ftp.is.co.za/rfc/rfc1808.txt\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            ParseUrl<span class=\"br0\">(</span><span class=\"st0\">\"http://www.ietf.org/rfc/rfc2396.txt#header1\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            ParseUrl<span class=\"br0\">(</span><span class=\"st0\">\"ldap://[2001:db8::7]/c=GB?objectClass?one\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            ParseUrl<span class=\"br0\">(</span><span class=\"st0\">\"mailto:<a class=\"__cf_email__\" data-cfemail=\"dd97b2b5b3f399b2b89db8a5bcb0adb1b8f3beb2b0\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            ParseUrl<span class=\"br0\">(</span><span class=\"st0\">\"news:comp.infosystems.www.servers.unix\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            ParseUrl<span class=\"br0\">(</span><span class=\"st0\">\"tel:+1-816-555-1212\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            ParseUrl<span class=\"br0\">(</span><span class=\"st0\">\"telnet://192.0.2.16:80/\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            ParseUrl<span class=\"br0\">(</span><span class=\"st0\">\"urn:oasis:names:specification:docbook:dtd:xml:4.1.2\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <span class=\"br0\">}</span><br/>    <span class=\"br0\">}</span><br/><span class=\"br0\">}</span><br/>\u00a0</pre>"}, {"lang": "Elixir", "loc": 21, "block": "<pre class=\"text highlighted_source\">test_cases = [<br/>  \"foo://example.com:8042/over/there?name=ferret#nose\",<br/>  \"urn:example:animal:ferret:nose\",<br/>  \"jdbc:mysql://test_user:<a class=\"__cf_email__\" data-cfemail=\"e18e949491919192929292a18d8e82808d898e9295\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>:3306/sakila?profileSQL=true\",<br/>  \"ftp://ftp.is.co.za/rfc/rfc1808.txt\",<br/>  \"http://www.ietf.org/rfc/rfc2396.txt#header1\",<br/>  \"ldap://[2001:db8::7]/c=GB?objectClass=one&amp;objectClass=two\",<br/>  \"mailto:<a class=\"__cf_email__\" data-cfemail=\"d79db8bfb9f993b8b297b2afb6baa7bbb2f9b4b8ba\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\",<br/>  \"news:comp.infosystems.www.servers.unix\",<br/>  \"tel:+1-816-555-1212\",<br/>  \"telnet://192.0.2.16:80/\",<br/>  \"urn:oasis:names:specification:docbook:dtd:xml:4.1.2\",<br/>  \"ssh://<a class=\"__cf_email__\" data-cfemail=\"0564696c666045607d64687569602b666a68\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\",<br/>  \"https://bob:<a class=\"__cf_email__\" data-cfemail=\"3949584a4a795c41585449555c175a5654\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>/place\",<br/>  \"http://example.com/?a=1&amp;b=2+2&amp;c=3&amp;c=4&amp;d=%65%6e%63%6F%64%65%64\"<br/>]<br/>\u00a0<br/>Enum.each(test_cases, fn str -&gt;<br/>  IO.puts \"\\n#{str}\"<br/>  IO.inspect URI.parse(str)<br/>end)</pre>"}, {"lang": "F#", "loc": 30, "block": "<pre class=\"fsharp highlighted_source\"><span class=\"kw1\">open</span> System<br/><span class=\"kw1\">open</span> System.<span class=\"me1\">Text</span>.<span class=\"me1\">RegularExpressions</span><br/>\u00a0<br/><span class=\"kw1\">let</span> writeline n v <span class=\"sy0\">=</span> <span class=\"kw1\">if</span> <a href=\"http://research.microsoft.com/en-us/um/cambridge/projects/fsharp/manual/namespaces.html\"><span class=\"kw2\">String</span></a>.<span class=\"me1\">IsNullOrEmpty</span><span class=\"br0\">(</span>v<span class=\"br0\">)</span> <span class=\"kw1\">then</span> <span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"kw1\">else</span> printfn <span class=\"st0\">\"%-15s\u00a0%s\"</span> n v<br/>\u00a0<br/><span class=\"kw1\">let</span> toUri <span class=\"sy0\">=</span> <span class=\"kw1\">fun</span> s <span class=\"sy0\">-&gt;</span> Uri<span class=\"br0\">(</span>s.<span class=\"me1\">ToString</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/><span class=\"kw1\">let</span> urisFromString <span class=\"sy0\">=</span> <span class=\"br0\">(</span>Regex<span class=\"br0\">(</span><span class=\"st_h\">@\"\\S+\"</span><span class=\"br0\">)</span>.<span class=\"me1\">Matches</span><span class=\"br0\">)</span> <span class=\"sy0\">&gt;&gt;</span> <a href=\"http://research.microsoft.com/en-us/um/cambridge/projects/fsharp/manual/namespaces.html\"><span class=\"kw2\">Seq</span></a>.<span class=\"me1\">cast</span> <span class=\"sy0\">&gt;&gt;</span> <span class=\"br0\">(</span><a href=\"http://research.microsoft.com/en-us/um/cambridge/projects/fsharp/manual/namespaces.html\"><span class=\"kw2\">Seq</span></a>.<span class=\"me1\">map</span> toUri<span class=\"br0\">)</span><br/>\u00a0<br/>urisFromString <span class=\"st0\">\"\"</span><span class=\"st0\">\"<br/>    foo://example.com:8042/over/there?name=ferret#nose<br/>    urn:example:animal:ferret:nose<br/>    jdbc:mysql://test_user:<a class=\"__cf_email__\" data-cfemail=\"1e716b6b6e6e6e6d6d6d6d5e72717d7f7276716d6a\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>:3306/sakila?profileSQL=true<br/>    ftp://ftp.is.co.za/rfc/rfc1808.txt<br/>    http://www.ietf.org/rfc/rfc2396.txt#header1<br/>    ldap://[2001:db8::7]/c=GB?objectClass?one<br/>    mailto:<a class=\"__cf_email__\" data-cfemail=\"c78da8afa9e983a8a287a2bfa6aab7aba2e9a4a8aa\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a><br/>    news:comp.infosystems.www.servers.unix<br/>    tel:+1-816-555-1212<br/>    telnet://192.0.2.16:80/<br/>    urn:oasis:names:specification:docbook:dtd:xml:4.1.2<br/>    \"</span><span class=\"st0\">\"\"</span><br/><span class=\"sy0\">|&gt;</span> <a href=\"http://research.microsoft.com/en-us/um/cambridge/projects/fsharp/manual/namespaces.html\"><span class=\"kw2\">Seq</span></a>.<span class=\"me1\">iter</span> <span class=\"br0\">(</span><span class=\"kw1\">fun</span> u <span class=\"sy0\">-&gt;</span><br/>    writeline <span class=\"st0\">\"<span class=\"es0\">\\n</span>URI:\"</span> <span class=\"br0\">(</span>u.<span class=\"me1\">ToString</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>    writeline <span class=\"st0\">\"     scheme:\"</span> <span class=\"br0\">(</span>u.<span class=\"me1\">Scheme</span><span class=\"br0\">)</span><br/>    writeline <span class=\"st0\">\"     host:\"</span> <span class=\"br0\">(</span>u.<span class=\"me1\">Host</span><span class=\"br0\">)</span><br/>    writeline <span class=\"st0\">\"     port:\"</span> <span class=\"br0\">(</span><span class=\"kw1\">if</span> u.<span class=\"me1\">Port</span> <span class=\"sy0\">&lt;</span> <span class=\"nu0\">0</span> <span class=\"kw1\">then</span> <span class=\"st0\">\"\"</span> <span class=\"kw1\">else</span> u.<span class=\"me1\">Port</span>.<span class=\"me1\">ToString</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>    writeline <span class=\"st0\">\"     path:\"</span> <span class=\"br0\">(</span>u.<span class=\"me1\">AbsolutePath</span><span class=\"br0\">)</span><br/>    writeline <span class=\"st0\">\"     query:\"</span> <span class=\"br0\">(</span><span class=\"kw1\">if</span> u.<span class=\"me1\">Query</span>.<span class=\"me1\">Length</span> <span class=\"sy0\">&gt;</span> <span class=\"nu0\">0</span> <span class=\"kw1\">then</span> u.<span class=\"me1\">Query</span>.<span class=\"me1\">Substring</span><span class=\"br0\">(</span><span class=\"nu0\">1</span><span class=\"br0\">)</span> <span class=\"kw1\">else</span> <span class=\"st0\">\"\"</span><span class=\"br0\">)</span><br/>    writeline <span class=\"st0\">\"     fragment:\"</span> <span class=\"br0\">(</span><span class=\"kw1\">if</span> u.<span class=\"me1\">Fragment</span>.<span class=\"me1\">Length</span> <span class=\"sy0\">&gt;</span> <span class=\"nu0\">0</span> <span class=\"kw1\">then</span> u.<span class=\"me1\">Fragment</span>.<span class=\"me1\">Substring</span><span class=\"br0\">(</span><span class=\"nu0\">1</span><span class=\"br0\">)</span> <span class=\"kw1\">else</span> <span class=\"st0\">\"\"</span><span class=\"br0\">)</span><br/>    <span class=\"br0\">)</span></pre>"}, {"lang": "Go", "loc": 75, "block": "<pre class=\"go highlighted_source\"><span class=\"kw1\">package</span> main<br/>\u00a0<br/><span class=\"kw1\">import</span> <span class=\"sy1\">(</span><br/>\t<span class=\"st0\">\"fmt\"</span><br/>\t<span class=\"st0\">\"log\"</span><br/>\t<span class=\"st0\">\"net\"</span><br/>\t<span class=\"st0\">\"net/url\"</span><br/><span class=\"sy1\">)</span><br/>\u00a0<br/><span class=\"kw4\">func</span> main<span class=\"sy1\">()</span> <span class=\"sy1\">{</span><br/>\t<span class=\"kw1\">for</span> _<span class=\"sy1\">,</span> in <span class=\"sy2\">:=</span> <span class=\"kw1\">range</span> <span class=\"sy1\">[]</span><span class=\"kw4\">string</span><span class=\"sy1\">{</span><br/>\t\t<span class=\"st0\">\"foo://example.com:8042/over/there?name=ferret#nose\"</span><span class=\"sy1\">,</span><br/>\t\t<span class=\"st0\">\"urn:example:animal:ferret:nose\"</span><span class=\"sy1\">,</span><br/>\t\t<span class=\"st0\">\"jdbc:mysql://test_user:<a class=\"__cf_email__\" data-cfemail=\"eb849e9e9b9b9b98989898ab8784888a878384989f\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>:3306/sakila?profileSQL=true\"</span><span class=\"sy1\">,</span><br/>\t\t<span class=\"st0\">\"ftp://ftp.is.co.za/rfc/rfc1808.txt\"</span><span class=\"sy1\">,</span><br/>\t\t<span class=\"st0\">\"http://www.ietf.org/rfc/rfc2396.txt#header1\"</span><span class=\"sy1\">,</span><br/>\t\t<span class=\"st0\">\"ldap://[2001:db8::7]/c=GB?objectClass=one&amp;objectClass=two\"</span><span class=\"sy1\">,</span><br/>\t\t<span class=\"st0\">\"mailto:<a class=\"__cf_email__\" data-cfemail=\"612b0e090f4f250e04210419000c110d044f020e0c\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\"</span><span class=\"sy1\">,</span><br/>\t\t<span class=\"st0\">\"news:comp.infosystems.www.servers.unix\"</span><span class=\"sy1\">,</span><br/>\t\t<span class=\"st0\">\"tel:+1-816-555-1212\"</span><span class=\"sy1\">,</span><br/>\t\t<span class=\"st0\">\"telnet://192.0.2.16:80/\"</span><span class=\"sy1\">,</span><br/>\t\t<span class=\"st0\">\"urn:oasis:names:specification:docbook:dtd:xml:4.1.2\"</span><span class=\"sy1\">,</span><br/>\u00a0<br/>\t\t<span class=\"st0\">\"ssh://<a class=\"__cf_email__\" data-cfemail=\"ccada0a5afa98ca9b4ada1bca0a9e2afa3a1\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\"</span><span class=\"sy1\">,</span><br/>\t\t<span class=\"st0\">\"https://bob:<a class=\"__cf_email__\" data-cfemail=\"631302101023061b020e130f064d000c0e\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>/place\"</span><span class=\"sy1\">,</span><br/>\t\t<span class=\"st0\">\"http://example.com/?a=1&amp;b=2+2&amp;c=3&amp;c=4&amp;d=%65%6e%63%6F%64%65%64\"</span><span class=\"sy1\">,</span><br/>\t<span class=\"sy1\">}</span> <span class=\"sy1\">{</span><br/>\t\tfmt<span class=\"sy3\">.</span>Println<span class=\"sy1\">(</span>in<span class=\"sy1\">)</span><br/>\t\tu<span class=\"sy1\">,</span> err <span class=\"sy2\">:=</span> url<span class=\"sy3\">.</span>Parse<span class=\"sy1\">(</span>in<span class=\"sy1\">)</span><br/>\t\t<span class=\"kw1\">if</span> err <span class=\"sy2\">!=</span> <span class=\"kw2\">nil</span> <span class=\"sy1\">{</span><br/>\t\t\tlog<span class=\"sy3\">.</span>Println<span class=\"sy1\">(</span>err<span class=\"sy1\">)</span><br/>\t\t\t<span class=\"kw1\">continue</span><br/>\t\t<span class=\"sy1\">}</span><br/>\t\t<span class=\"kw1\">if</span> in <span class=\"sy2\">!=</span> u<span class=\"sy3\">.</span>String<span class=\"sy1\">()</span> <span class=\"sy1\">{</span><br/>\t\t\tfmt<span class=\"sy3\">.</span>Printf<span class=\"sy1\">(</span><span class=\"st0\">\"Note: reassmebles as\u00a0%q<span class=\"es1\">\\n</span>\"</span><span class=\"sy1\">,</span> u<span class=\"sy1\">)</span><br/>\t\t<span class=\"sy1\">}</span><br/>\t\tprintURL<span class=\"sy1\">(</span>u<span class=\"sy1\">)</span><br/>\t<span class=\"sy1\">}</span><br/><span class=\"sy1\">}</span><br/>\u00a0<br/><span class=\"kw4\">func</span> printURL<span class=\"sy1\">(</span>u <span class=\"sy3\">*</span>url<span class=\"sy3\">.</span>URL<span class=\"sy1\">)</span> <span class=\"sy1\">{</span><br/>\tfmt<span class=\"sy3\">.</span>Println<span class=\"sy1\">(</span><span class=\"st0\">\"    Scheme:\"</span><span class=\"sy1\">,</span> u<span class=\"sy3\">.</span>Scheme<span class=\"sy1\">)</span><br/>\t<span class=\"kw1\">if</span> u<span class=\"sy3\">.</span>Opaque <span class=\"sy2\">!=</span> <span class=\"st0\">\"\"</span> <span class=\"sy1\">{</span><br/>\t\tfmt<span class=\"sy3\">.</span><span class=\"me1\">Println</span><span class=\"sy1\">(</span><span class=\"st0\">\"    Opaque:\"</span><span class=\"sy1\">,</span> u<span class=\"sy3\">.</span>Opaque<span class=\"sy1\">)</span><br/>\t<span class=\"sy1\">}</span><br/>\t<span class=\"kw1\">if</span> u<span class=\"sy3\">.</span>User <span class=\"sy2\">!=</span> <span class=\"kw2\">nil</span> <span class=\"sy1\">{</span><br/>\t\tfmt<span class=\"sy3\">.</span>Println<span class=\"sy1\">(</span><span class=\"st0\">\"    Username:\"</span><span class=\"sy1\">,</span> u<span class=\"sy3\">.</span>User<span class=\"sy3\">.</span>Username<span class=\"sy1\">())</span><br/>\t\t<span class=\"kw1\">if</span> pwd<span class=\"sy1\">,</span> ok <span class=\"sy2\">:=</span> u<span class=\"sy3\">.</span>User<span class=\"sy3\">.</span>Password<span class=\"sy1\">();</span> ok <span class=\"sy1\">{</span><br/>\t\t\tfmt<span class=\"sy3\">.</span>Println<span class=\"sy1\">(</span><span class=\"st0\">\"    Password:\"</span><span class=\"sy1\">,</span> pwd<span class=\"sy1\">)</span><br/>\t\t<span class=\"sy1\">}</span><br/>\t<span class=\"sy1\">}</span><br/>\t<span class=\"kw1\">if</span> u<span class=\"sy3\">.</span>Host <span class=\"sy2\">!=</span> <span class=\"st0\">\"\"</span> <span class=\"sy1\">{</span><br/>\t\t<span class=\"kw1\">if</span> host<span class=\"sy1\">,</span> port<span class=\"sy1\">,</span> err <span class=\"sy2\">:=</span> net<span class=\"sy3\">.</span>SplitHostPort<span class=\"sy1\">(</span>u<span class=\"sy3\">.</span>Host<span class=\"sy1\">);</span> err <span class=\"sy3\">==</span> <span class=\"kw2\">nil</span> <span class=\"sy1\">{</span><br/>\t\t\tfmt<span class=\"sy3\">.</span>Println<span class=\"sy1\">(</span><span class=\"st0\">\"    Host:\"</span><span class=\"sy1\">,</span> host<span class=\"sy1\">)</span><br/>\t\t\tfmt<span class=\"sy3\">.</span><span class=\"me1\">Println</span><span class=\"sy1\">(</span><span class=\"st0\">\"    Port:\"</span><span class=\"sy1\">,</span> port<span class=\"sy1\">)</span><br/>\t\t<span class=\"sy1\">}</span> <span class=\"kw1\">else</span> <span class=\"sy1\">{</span><br/>\t\t\tfmt<span class=\"sy3\">.</span>Println<span class=\"sy1\">(</span><span class=\"st0\">\"    Host:\"</span><span class=\"sy1\">,</span> u<span class=\"sy3\">.</span>Host<span class=\"sy1\">)</span><br/>\t\t<span class=\"sy1\">}</span><br/>\t<span class=\"sy1\">}</span><br/>\t<span class=\"kw1\">if</span> u<span class=\"sy3\">.</span>Path <span class=\"sy2\">!=</span> <span class=\"st0\">\"\"</span> <span class=\"sy1\">{</span><br/>\t\tfmt<span class=\"sy3\">.</span><span class=\"me1\">Println</span><span class=\"sy1\">(</span><span class=\"st0\">\"    Path:\"</span><span class=\"sy1\">,</span> u<span class=\"sy3\">.</span>Path<span class=\"sy1\">)</span><br/>\t<span class=\"sy1\">}</span><br/>\t<span class=\"kw1\">if</span> u<span class=\"sy3\">.</span>RawQuery <span class=\"sy2\">!=</span> <span class=\"st0\">\"\"</span> <span class=\"sy1\">{</span><br/>\t\tfmt<span class=\"sy3\">.</span><span class=\"me1\">Println</span><span class=\"sy1\">(</span><span class=\"st0\">\"    RawQuery:\"</span><span class=\"sy1\">,</span> u<span class=\"sy3\">.</span>RawQuery<span class=\"sy1\">)</span><br/>\t\tm<span class=\"sy1\">,</span> err <span class=\"sy2\">:=</span> url<span class=\"sy3\">.</span>ParseQuery<span class=\"sy1\">(</span>u<span class=\"sy3\">.</span>RawQuery<span class=\"sy1\">)</span><br/>\t\t<span class=\"kw1\">if</span> err <span class=\"sy3\">==</span> <span class=\"kw2\">nil</span> <span class=\"sy1\">{</span><br/>\t\t\t<span class=\"kw1\">for</span> k<span class=\"sy1\">,</span> v <span class=\"sy2\">:=</span> <span class=\"kw1\">range</span> m <span class=\"sy1\">{</span><br/>\t\t\t\tfmt<span class=\"sy3\">.</span>Printf<span class=\"sy1\">(</span><span class=\"st0\">\"        Key:\u00a0%q Values:\u00a0%q<span class=\"es1\">\\n</span>\"</span><span class=\"sy1\">,</span> k<span class=\"sy1\">,</span> v<span class=\"sy1\">)</span><br/>\t\t\t<span class=\"sy1\">}</span><br/>\t\t<span class=\"sy1\">}</span><br/>\t<span class=\"sy1\">}</span><br/>\t<span class=\"kw1\">if</span> u<span class=\"sy3\">.</span>Fragment <span class=\"sy2\">!=</span> <span class=\"st0\">\"\"</span> <span class=\"sy1\">{</span><br/>\t\tfmt<span class=\"sy3\">.</span><span class=\"me1\">Println</span><span class=\"sy1\">(</span><span class=\"st0\">\"    Fragment:\"</span><span class=\"sy1\">,</span> u<span class=\"sy3\">.</span><span class=\"me1\">Fragment</span><span class=\"sy1\">)</span><br/>\t<span class=\"sy1\">}</span><br/><span class=\"sy1\">}</span></pre>"}, {"lang": "Haskell", "loc": 75, "block": "<pre class=\"haskell highlighted_source\"><span class=\"kw1\">module</span> Main <span class=\"br0\">(</span>main<span class=\"br0\">)</span> <span class=\"kw1\">where</span><br/>\u00a0<br/><span class=\"kw1\">import</span>           Data<span class=\"sy0\">.</span>Foldable <span class=\"br0\">(</span>for<span class=\"sy0\">_</span><span class=\"br0\">)</span><br/><span class=\"kw1\">import</span>           Network<span class=\"sy0\">.</span>URI<br/>                    <span class=\"br0\">(</span> URI<br/>                    <span class=\"sy0\">,</span> URIAuth<br/>                    <span class=\"sy0\">,</span> parseURI<br/>                    <span class=\"sy0\">,</span> uriAuthority<br/>                    <span class=\"sy0\">,</span> uriFragment<br/>                    <span class=\"sy0\">,</span> uriPath<br/>                    <span class=\"sy0\">,</span> uriPort<br/>                    <span class=\"sy0\">,</span> uriQuery<br/>                    <span class=\"sy0\">,</span> uriRegName<br/>                    <span class=\"sy0\">,</span> uriScheme<br/>                    <span class=\"sy0\">,</span> uriUserInfo<br/>                    <span class=\"br0\">)</span><br/>\u00a0<br/>uriStrings <span class=\"sy0\">::</span> <span class=\"br0\">[</span><a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:String\"><span class=\"kw4\">String</span></a><span class=\"br0\">]</span><br/>uriStrings <span class=\"sy0\">=</span><br/>    <span class=\"br0\">[</span> <span class=\"st0\">\"https://bob:<a class=\"__cf_email__\" data-cfemail=\"d0a0b1a3a390b5a8b1bda0bcb5feb3bfbd\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>/place\"</span><br/>    <span class=\"sy0\">,</span> <span class=\"st0\">\"foo://example.com:8042/over/there?name=ferret#nose\"</span><br/>    <span class=\"sy0\">,</span> <span class=\"st0\">\"urn:example:animal:ferret:nose\"</span><br/>    <span class=\"sy0\">,</span> <span class=\"st0\">\"jdbc:mysql://test_user:<a class=\"__cf_email__\" data-cfemail=\"aec1dbdbdedededdddddddeec2c1cdcfc2c6c1ddda\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>:3306/sakila?profileSQL=true\"</span><br/>    <span class=\"sy0\">,</span> <span class=\"st0\">\"ftp://ftp.is.co.za/rfc/rfc1808.txt\"</span><br/>    <span class=\"sy0\">,</span> <span class=\"st0\">\"http://www.ietf.org/rfc/rfc2396.txt#header1\"</span><br/>    <span class=\"sy0\">,</span> <span class=\"st0\">\"ldap://[2001:db8::7]/c=GB?objectClass?one\"</span><br/>    <span class=\"sy0\">,</span> <span class=\"st0\">\"mailto:<a class=\"__cf_email__\" data-cfemail=\"bdf7d2d5d393f9d2d8fdd8c5dcd0cdd1d893ded2d0\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\"</span><br/>    <span class=\"sy0\">,</span> <span class=\"st0\">\"news:comp.infosystems.www.servers.unix\"</span><br/>    <span class=\"sy0\">,</span> <span class=\"st0\">\"tel:+1-816-555-1212\"</span><br/>    <span class=\"sy0\">,</span> <span class=\"st0\">\"telnet://192.0.2.16:80/\"</span><br/>    <span class=\"sy0\">,</span> <span class=\"st0\">\"urn:oasis:names:specification:docbook:dtd:xml:4.1.2\"</span><br/>    <span class=\"br0\">]</span><br/>\u00a0<br/>trimmedUriScheme <span class=\"sy0\">::</span> URI <span class=\"sy0\">-&gt;</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:String\"><span class=\"kw4\">String</span></a><br/>trimmedUriScheme <span class=\"sy0\">=</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:init\"><span class=\"kw3\">init</span></a> <span class=\"sy0\">.</span> uriScheme<br/>\u00a0<br/>trimmedUriUserInfo <span class=\"sy0\">::</span> URIAuth <span class=\"sy0\">-&gt;</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:Maybe\"><span class=\"kw4\">Maybe</span></a> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:String\"><span class=\"kw4\">String</span></a><br/>trimmedUriUserInfo uriAuth <span class=\"sy0\">=</span><br/>    <span class=\"kw1\">case</span> uriUserInfo uriAuth <span class=\"kw1\">of</span><br/>        <span class=\"br0\">[</span><span class=\"br0\">]</span> <span class=\"sy0\">-&gt;</span> Nothing<br/>        userInfo <span class=\"sy0\">-&gt;</span> <span class=\"kw1\">if</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:last\"><span class=\"kw3\">last</span></a> userInfo <span class=\"sy0\">==</span> <span class=\"st0\">'@'</span> <span class=\"kw1\">then</span> Just <span class=\"br0\">(</span><a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:init\"><span class=\"kw3\">init</span></a> userInfo<span class=\"br0\">)</span> <span class=\"kw1\">else</span> Nothing<br/>\u00a0<br/>trimmedUriPath <span class=\"sy0\">::</span> URI <span class=\"sy0\">-&gt;</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:String\"><span class=\"kw4\">String</span></a><br/>trimmedUriPath uri <span class=\"sy0\">=</span> <span class=\"kw1\">case</span> uriPath uri <span class=\"kw1\">of</span> <span class=\"st0\">'/'</span>\u00a0: t <span class=\"sy0\">-&gt;</span> t; p <span class=\"sy0\">-&gt;</span> p<br/>\u00a0<br/>trimmedUriQuery <span class=\"sy0\">::</span> URI <span class=\"sy0\">-&gt;</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:Maybe\"><span class=\"kw4\">Maybe</span></a> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:String\"><span class=\"kw4\">String</span></a><br/>trimmedUriQuery uri <span class=\"sy0\">=</span> <span class=\"kw1\">case</span> uriQuery uri <span class=\"kw1\">of</span> <span class=\"st0\">'?'</span>\u00a0: t <span class=\"sy0\">-&gt;</span> Just t; <span class=\"sy0\">_</span> <span class=\"sy0\">-&gt;</span> Nothing<br/>\u00a0<br/>trimmedUriFragment <span class=\"sy0\">::</span> URI <span class=\"sy0\">-&gt;</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:Maybe\"><span class=\"kw4\">Maybe</span></a> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:String\"><span class=\"kw4\">String</span></a><br/>trimmedUriFragment uri <span class=\"sy0\">=</span> <span class=\"kw1\">case</span> uriFragment uri <span class=\"kw1\">of</span> <span class=\"st0\">'#'</span>\u00a0: t <span class=\"sy0\">-&gt;</span> Just t; <span class=\"sy0\">_</span> <span class=\"sy0\">-&gt;</span> Nothing<br/>\u00a0<br/>main <span class=\"sy0\">::</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:IO\"><span class=\"kw4\">IO</span></a> <span class=\"br0\">(</span><span class=\"br0\">)</span><br/>main <span class=\"sy0\">=</span> <span class=\"kw1\">do</span><br/>    for<span class=\"sy0\">_</span> uriStrings <span class=\"sy0\">$</span> \\uriString <span class=\"sy0\">-&gt;</span> <span class=\"kw1\">do</span><br/>        <span class=\"kw1\">case</span> parseURI uriString <span class=\"kw1\">of</span><br/>            Nothing <span class=\"sy0\">-&gt;</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:putStrLn\"><span class=\"kw3\">putStrLn</span></a> <span class=\"sy0\">$</span> <span class=\"st0\">\"Could not parse\"</span> <span class=\"sy0\">++</span> uriString<br/>            Just uri <span class=\"sy0\">-&gt;</span> <span class=\"kw1\">do</span><br/>                <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:putStrLn\"><span class=\"kw3\">putStrLn</span></a> uriString<br/>                <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:putStrLn\"><span class=\"kw3\">putStrLn</span></a> <span class=\"sy0\">$</span> <span class=\"st0\">\"  scheme = \"</span> <span class=\"sy0\">++</span> trimmedUriScheme uri<br/>                <span class=\"kw1\">case</span> uriAuthority uri <span class=\"kw1\">of</span><br/>                    Nothing <span class=\"sy0\">-&gt;</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:return\"><span class=\"kw3\">return</span></a> <span class=\"br0\">(</span><span class=\"br0\">)</span><br/>                    Just uriAuth <span class=\"sy0\">-&gt;</span> <span class=\"kw1\">do</span><br/>                        <span class=\"kw1\">case</span> trimmedUriUserInfo uriAuth <span class=\"kw1\">of</span><br/>                            Nothing <span class=\"sy0\">-&gt;</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:return\"><span class=\"kw3\">return</span></a> <span class=\"br0\">(</span><span class=\"br0\">)</span><br/>                            Just userInfo <span class=\"sy0\">-&gt;</span>  <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:putStrLn\"><span class=\"kw3\">putStrLn</span></a> <span class=\"sy0\">$</span> <span class=\"st0\">\"  user-info = \"</span> <span class=\"sy0\">++</span> userInfo<br/>                        <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:putStrLn\"><span class=\"kw3\">putStrLn</span></a> <span class=\"sy0\">$</span> <span class=\"st0\">\"  domain = \"</span> <span class=\"sy0\">++</span> uriRegName uriAuth<br/>                        <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:putStrLn\"><span class=\"kw3\">putStrLn</span></a> <span class=\"sy0\">$</span> <span class=\"st0\">\"  port = \"</span> <span class=\"sy0\">++</span> uriPort uriAuth<br/>                <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:putStrLn\"><span class=\"kw3\">putStrLn</span></a> <span class=\"sy0\">$</span> <span class=\"st0\">\"  path = \"</span> <span class=\"sy0\">++</span> trimmedUriPath uri<br/>                <span class=\"kw1\">case</span> trimmedUriQuery uri <span class=\"kw1\">of</span><br/>                    Nothing <span class=\"sy0\">-&gt;</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:return\"><span class=\"kw3\">return</span></a> <span class=\"br0\">(</span><span class=\"br0\">)</span><br/>                    Just query <span class=\"sy0\">-&gt;</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:putStrLn\"><span class=\"kw3\">putStrLn</span></a> <span class=\"sy0\">$</span> <span class=\"st0\">\"  query = \"</span> <span class=\"sy0\">++</span> query<br/>                <span class=\"kw1\">case</span> trimmedUriFragment uri <span class=\"kw1\">of</span><br/>                    Nothing <span class=\"sy0\">-&gt;</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:return\"><span class=\"kw3\">return</span></a> <span class=\"br0\">(</span><span class=\"br0\">)</span><br/>                    Just fragment <span class=\"sy0\">-&gt;</span>  <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:putStrLn\"><span class=\"kw3\">putStrLn</span></a> <span class=\"sy0\">$</span> <span class=\"st0\">\"  fragment = \"</span> <span class=\"sy0\">++</span> fragment<br/>        <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:putStrLn\"><span class=\"kw3\">putStrLn</span></a> <span class=\"st0\">\"\"</span></pre>"}, {"lang": "J", "loc": 47, "block": "<pre class=\"j highlighted_source\">split=:<span class=\"nu0\">1</span>\u00a0:<span class=\"nu0\">0</span><br/>  <span class=\"sy0\">(</span>{.\u00a0; ] }.~ <span class=\"nu0\">1</span>+[<span class=\"sy0\">)</span>~ i.&amp;<span class=\"kw2\">m</span><br/><span class=\"sy0\">)</span><br/>\u00a0<br/>uriparts=:<span class=\"nu0\">3</span>\u00a0:<span class=\"nu0\">0</span><br/>  <span class=\"st_h\">'server fragment'</span>=. <span class=\"st_h\">'#'</span> split <span class=\"kw2\">y</span><br/>  <span class=\"st_h\">'sa query'</span>=. <span class=\"st_h\">'?'</span> split server<br/>  <span class=\"st_h\">'scheme authpath'</span>=. <span class=\"st_h\">':'</span> split sa<br/>  scheme;authpath;query;fragment<br/><span class=\"sy0\">)</span><br/>\u00a0<br/>queryparts=:<span class=\"nu0\">3</span>\u00a0:<span class=\"nu0\">0</span><br/>  <span class=\"sy0\">(</span><span class=\"nu0\">0</span>&lt;#<span class=\"kw2\">y</span><span class=\"sy0\">)</span>#&lt;;.<span class=\"nu0\">_1</span> <span class=\"st_h\">'?'</span>,<span class=\"kw2\">y</span><br/><span class=\"sy0\">)</span><br/>\u00a0<br/>authpathparts=:<span class=\"nu0\">3</span>\u00a0:<span class=\"nu0\">0</span><br/>  <span class=\"kw1\">if.</span> <span class=\"st_h\">'//'</span> -: <span class=\"nu0\">2</span>{.<span class=\"kw2\">y</span> <span class=\"kw1\">do.</span><br/>    split=. &lt;;.<span class=\"nu0\">1</span> <span class=\"kw2\">y</span><br/>    <span class=\"sy0\">(</span>}.<span class=\"nu0\">1</span>{::split<span class=\"sy0\">)</span>;;<span class=\"nu0\">2</span>}.split<br/>  <span class=\"kw1\">else.</span><br/>    <span class=\"st_h\">''</span>;<span class=\"kw2\">y</span><br/>  <span class=\"kw1\">end.</span><br/><span class=\"sy0\">)</span><br/>\u00a0<br/>authparts=:<span class=\"nu0\">3</span>\u00a0:<span class=\"nu0\">0</span><br/>  <span class=\"kw1\">if.</span> <span class=\"st_h\">'@'</span> e. <span class=\"kw2\">y</span> <span class=\"kw1\">do.</span><br/>    <span class=\"st_h\">'userinfo hostport'</span>=. <span class=\"st_h\">'@'</span> split <span class=\"kw2\">y</span><br/>  <span class=\"kw1\">else.</span><br/>    hostport=. <span class=\"kw2\">y</span> [ userinfo=.<span class=\"st_h\">''</span><br/>  <span class=\"kw1\">end.</span><br/>  <span class=\"kw1\">if.</span> <span class=\"st_h\">'['</span> = {.hostport <span class=\"kw1\">do.</span><br/>     <span class=\"st_h\">'host_t port_t'</span>=. <span class=\"st_h\">']'</span> split hostport<br/>     <span class=\"kw1\">assert.</span> <span class=\"sy0\">(</span><span class=\"nu0\">0</span>=#port_t<span class=\"sy0\">)</span>+.<span class=\"st_h\">':'</span>={.port_t<br/>     <span class=\"sy0\">(</span><span class=\"st_h\">':'</span> split userinfo<span class=\"sy0\">)</span>,<span class=\"sy0\">(</span>host_t,<span class=\"st_h\">']'</span><span class=\"sy0\">)</span>;}.port_t<br/>  <span class=\"kw1\">else.</span><br/>     <span class=\"sy0\">(</span><span class=\"st_h\">':'</span> split userinfo<span class=\"sy0\">)</span>,<span class=\"st_h\">':'</span> split hostport<br/>  <span class=\"kw1\">end.</span><br/><span class=\"sy0\">)</span><br/>\u00a0<br/>taskparts=:<span class=\"nu0\">3</span>\u00a0:<span class=\"nu0\">0</span><br/>  <span class=\"st_h\">'scheme authpath querystring fragment'</span>=. uriparts <span class=\"kw2\">y</span><br/>  <span class=\"st_h\">'auth path'</span>=. authpathparts authpath<br/>  <span class=\"st_h\">'user creds host port'</span>=. authparts auth<br/>  query=. queryparts querystring<br/>  export=.\u00a0;:<span class=\"st_h\">'scheme user creds host port path query fragment'</span><br/>  <span class=\"sy0\">(</span>#~ <span class=\"nu0\">0</span>&lt;#@&gt;@{:\"<span class=\"nu0\">1</span><span class=\"sy0\">)</span> <span class=\"sy0\">(</span>,. do each<span class=\"sy0\">)</span> export<br/><span class=\"sy0\">)</span></pre>"}, {"lang": "Java", "loc": 28, "block": "<pre class=\"java highlighted_source\"><span class=\"kw1\">import</span> <span class=\"co2\">java.net.URI</span><span class=\"sy0\">;</span><br/><span class=\"kw1\">import</span> <span class=\"co2\">java.net.URISyntaxException</span><span class=\"sy0\">;</span><br/><span class=\"kw1\">public</span> <span class=\"kw1\">class</span> WebAddressParser<span class=\"br0\">{</span><br/>    <span class=\"kw1\">public</span> <span class=\"kw1\">static</span> <span class=\"kw4\">void</span> main<span class=\"br0\">(</span><a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">String</span></a><span class=\"br0\">[</span><span class=\"br0\">]</span> args<span class=\"br0\">)</span><span class=\"br0\">{</span><br/>        parseAddress<span class=\"br0\">(</span><span class=\"st0\">\"foo://example.com:8042/over/there?name=ferret#nose\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        parseAddress<span class=\"br0\">(</span><span class=\"st0\">\"urn:example:animal:ferret:nose\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    <span class=\"br0\">}</span><br/>\u00a0<br/>    <span class=\"kw1\">static</span> <span class=\"kw4\">void</span> parseAddress<span class=\"br0\">(</span><a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">String</span></a> a<span class=\"br0\">)</span><span class=\"br0\">{</span><br/>        <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">println</span><span class=\"br0\">(</span><span class=\"st0\">\"Parsing \"</span> <span class=\"sy0\">+</span> a<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <span class=\"kw1\">try</span><span class=\"br0\">{</span><br/>\u00a0<br/>            <span class=\"co1\">// this line does the work</span><br/>            URI u <span class=\"sy0\">=</span> <span class=\"kw1\">new</span> URI<span class=\"br0\">(</span>a<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>            <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">println</span><span class=\"br0\">(</span><span class=\"st0\">\"<span class=\"es0\">\\t</span>scheme = \"</span> <span class=\"sy0\">+</span> u.<span class=\"me1\">getScheme</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">println</span><span class=\"br0\">(</span><span class=\"st0\">\"<span class=\"es0\">\\t</span>domain = \"</span> <span class=\"sy0\">+</span> u.<span class=\"me1\">getHost</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">println</span><span class=\"br0\">(</span><span class=\"st0\">\"<span class=\"es0\">\\t</span>port = \"</span> <span class=\"sy0\">+</span> <span class=\"br0\">(</span><span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">==</span>u.<span class=\"me1\">getPort</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">?</span><span class=\"st0\">\"default\"</span><span class=\"sy0\">:</span>u.<span class=\"me1\">getPort</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">println</span><span class=\"br0\">(</span><span class=\"st0\">\"<span class=\"es0\">\\t</span>path = \"</span> <span class=\"sy0\">+</span> <span class=\"br0\">(</span><span class=\"kw2\">null</span><span class=\"sy0\">==</span>u.<span class=\"me1\">getPath</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">?</span>u.<span class=\"me1\">getSchemeSpecificPart</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">:</span>u.<span class=\"me1\">getPath</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">println</span><span class=\"br0\">(</span><span class=\"st0\">\"<span class=\"es0\">\\t</span>query = \"</span> <span class=\"sy0\">+</span> u.<span class=\"me1\">getQuery</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">println</span><span class=\"br0\">(</span><span class=\"st0\">\"<span class=\"es0\">\\t</span>fragment = \"</span> <span class=\"sy0\">+</span> u.<span class=\"me1\">getFragment</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <span class=\"br0\">}</span><br/>        <span class=\"kw1\">catch</span> <span class=\"br0\">(</span>URISyntaxException x<span class=\"br0\">)</span><span class=\"br0\">{</span><br/>            <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">err</span>.<span class=\"me1\">println</span><span class=\"br0\">(</span><span class=\"st0\">\"Oops: \"</span> <span class=\"sy0\">+</span> x<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <span class=\"br0\">}</span><br/>    <span class=\"br0\">}</span><br/><span class=\"br0\">}</span><br/>\u00a0</pre>"}, {"lang": "JavaScript", "loc": 46, "block": "<pre class=\"javascript highlighted_source\"><span class=\"br0\">(</span><span class=\"kw1\">function</span> <span class=\"br0\">(</span>lstURL<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>\u00a0<br/>    <span class=\"kw1\">var</span> e <span class=\"sy0\">=</span> document.<span class=\"me1\">createElement</span><span class=\"br0\">(</span><span class=\"st0\">'a'</span><span class=\"br0\">)</span><span class=\"sy0\">,</span><br/>        lstKeys <span class=\"sy0\">=</span> <span class=\"br0\">[</span><br/>            <span class=\"st0\">'hash'</span><span class=\"sy0\">,</span><br/>            <span class=\"st0\">'host'</span><span class=\"sy0\">,</span><br/>            <span class=\"st0\">'hostname'</span><span class=\"sy0\">,</span><br/>            <span class=\"st0\">'origin'</span><span class=\"sy0\">,</span><br/>            <span class=\"st0\">'pathname'</span><span class=\"sy0\">,</span><br/>            <span class=\"st0\">'port'</span><span class=\"sy0\">,</span><br/>            <span class=\"st0\">'protocol'</span><span class=\"sy0\">,</span><br/>            <span class=\"st0\">'search'</span><br/>        <span class=\"br0\">]</span><span class=\"sy0\">,</span><br/>\u00a0<br/>        fnURLParse <span class=\"sy0\">=</span> <span class=\"kw1\">function</span> <span class=\"br0\">(</span>strURL<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>            e.<span class=\"me1\">href</span> <span class=\"sy0\">=</span> strURL<span class=\"sy0\">;</span><br/>\u00a0<br/>            <span class=\"kw1\">return</span> lstKeys.<span class=\"me1\">reduce</span><span class=\"br0\">(</span><br/>                <span class=\"kw1\">function</span> <span class=\"br0\">(</span>dct<span class=\"sy0\">,</span> k<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>                    dct<span class=\"br0\">[</span>k<span class=\"br0\">]</span> <span class=\"sy0\">=</span> e<span class=\"br0\">[</span>k<span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>                    <span class=\"kw1\">return</span> dct<span class=\"sy0\">;</span><br/>                <span class=\"br0\">}</span><span class=\"sy0\">,</span> <span class=\"br0\">{</span><span class=\"br0\">}</span><br/>            <span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <span class=\"br0\">}</span><span class=\"sy0\">;</span><br/>\u00a0<br/>    <span class=\"kw1\">return</span> JSON.<span class=\"me1\">stringify</span><span class=\"br0\">(</span><br/>        lstURL.<span class=\"me1\">map</span><span class=\"br0\">(</span>fnURLParse<span class=\"br0\">)</span><span class=\"sy0\">,</span><br/>        <span class=\"kw2\">null</span><span class=\"sy0\">,</span> <span class=\"nu0\">2</span><br/>    <span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"br0\">}</span><span class=\"br0\">)</span><span class=\"br0\">(</span><span class=\"br0\">[</span><br/>  <span class=\"st0\">\"foo://example.com:8042/over/there?name=ferret#nose\"</span><span class=\"sy0\">,</span><br/>  <span class=\"st0\">\"urn:example:animal:ferret:nose\"</span><span class=\"sy0\">,</span><br/>  <span class=\"st0\">\"jdbc:mysql://test_user:<a class=\"__cf_email__\" data-cfemail=\"f798828287878784848484b79b9894969b9f988483\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>:3306/sakila?profileSQL=true\"</span><span class=\"sy0\">,</span><br/>  <span class=\"st0\">\"ftp://ftp.is.co.za/rfc/rfc1808.txt\"</span><span class=\"sy0\">,</span><br/>  <span class=\"st0\">\"http://www.ietf.org/rfc/rfc2396.txt#header1\"</span><span class=\"sy0\">,</span><br/>  <span class=\"st0\">\"ldap://[2001:db8::7]/c=GB?objectClass=one&amp;objectClass=two\"</span><span class=\"sy0\">,</span><br/>  <span class=\"st0\">\"mailto:<a class=\"__cf_email__\" data-cfemail=\"6822070006462c070d280d10090518040d460b0705\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\"</span><span class=\"sy0\">,</span><br/>  <span class=\"st0\">\"news:comp.infosystems.www.servers.unix\"</span><span class=\"sy0\">,</span><br/>  <span class=\"st0\">\"tel:+1-816-555-1212\"</span><span class=\"sy0\">,</span><br/>  <span class=\"st0\">\"telnet://192.0.2.16:80/\"</span><span class=\"sy0\">,</span><br/>  <span class=\"st0\">\"urn:oasis:names:specification:docbook:dtd:xml:4.1.2\"</span><span class=\"sy0\">,</span><br/>  <span class=\"st0\">\"ssh://<a class=\"__cf_email__\" data-cfemail=\"85e4e9ece6e0c5e0fde4e8f5e9e0abe6eae8\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\"</span><span class=\"sy0\">,</span><br/>  <span class=\"st0\">\"https://bob:<a class=\"__cf_email__\" data-cfemail=\"364657454576534e575b465a531855595b\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>/place\"</span><span class=\"sy0\">,</span><br/>  <span class=\"st0\">\"http://example.com/?a=1&amp;b=2+2&amp;c=3&amp;c=4&amp;d=%65%6e%63%6F%64%65%64\"</span><br/><span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy0\">;</span></pre>"}, {"lang": "Julia", "loc": 55, "block": "<pre class=\"text highlighted_source\">\u00a0<br/>using URIParser<br/>const FIELDS = names(URI)<br/>\u00a0<br/>function detailview(uri::URI, indentlen::Int=4)<br/>    indent = \" \"^indentlen<br/>    s = String[]<br/>    for f in FIELDS<br/>        d = string(getfield(uri, f))<br/>       \u00a0!isempty(d) || continue<br/>        f\u00a0!=\u00a0:port || d\u00a0!= \"0\" || continue<br/>        push!(s, @sprintf(\"%s%s: \u00a0%s\", indent, string(f), d))<br/>    end<br/>    join(s, \"\\n\")<br/>end<br/>\u00a0<br/>test = [\"foo://example.com:8042/over/there?name=ferret#nose\",<br/>        \"urn:example:animal:ferret:nose\",<br/>        \"jdbc:mysql://test_user:<a class=\"__cf_email__\" data-cfemail=\"214e545451515152525252614d4e42404d494e5255\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>:3306/sakila?profileSQL=true\",<br/>        \"ftp://ftp.is.co.za/rfc/rfc1808.txt\",<br/>        \"http://www.ietf.org/rfc/rfc2396.txt#header1\",<br/>        \"ldap://[2001:db8::7]/c=GB?objectClass=one&amp;objectClass=two\",<br/>        \"mailto:<a class=\"__cf_email__\" data-cfemail=\"672d080f094923080227021f060a170b024904080a\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\",<br/>        \"news:comp.infosystems.www.servers.unix\",<br/>        \"tel:+1-816-555-1212\",<br/>        \"telnet://192.0.2.16:80/\",<br/>        \"urn:oasis:names:specification:docbook:dtd:xml:4.1.2\",<br/>        \"This is not a URI!\",<br/>        \"ssh://<a class=\"__cf_email__\" data-cfemail=\"57363b3e343217322f363a273b327934383a\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\",<br/>        \"https://bob:<a class=\"__cf_email__\" data-cfemail=\"84f4e5f7f7c4e1fce5e9f4e8e1aae7ebe9\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>/place\",<br/>        \"http://example.com/?a=1&amp;b=2+2&amp;c=3&amp;c=4&amp;d=%65%6e%63%6F%64%65%64\"]<br/>\u00a0<br/>isfirst = true<br/>for st in test<br/>    if isfirst<br/>        isfirst = false<br/>    else<br/>        println()<br/>    end<br/>    println(\"Attempting to parse\\n  \\\"\", st, \"\\\" as a URI:\")<br/>    uri = try<br/>        URI(st)<br/>    catch<br/>        println(\"URIParser failed to parse this URI, is it OK?\")<br/>        continue<br/>    end<br/>    print(\"This URI is parsable \")<br/>    if isvalid(uri)<br/>        println(\"and appears to be valid.\")<br/>    else<br/>        println(\"but may be invalid.\")<br/>    end<br/>    println(detailview(uri))<br/>end<br/>\u00a0</pre>"}, {"lang": "Kotlin", "loc": 50, "block": "<pre class=\"scala highlighted_source\"><span class=\"co1\">// version 1.1.2</span><br/>\u00a0<br/><a href=\"http://scala-lang.org\"><span class=\"kw1\">import</span></a> java.<span class=\"me1\">net</span>.<span class=\"me1\">URL</span><br/><a href=\"http://scala-lang.org\"><span class=\"kw1\">import</span></a> java.<span class=\"me1\">net</span>.<span class=\"me1\">MalformedURLException</span><br/>\u00a0<br/>fun parseUrl<span class=\"br0\">(</span>url<span class=\"sy0\">:</span> String<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">var</span></a> u<span class=\"sy0\">:</span> URL<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">var</span></a> scheme<span class=\"sy0\">:</span> String<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">try</span></a> <span class=\"br0\">{</span><br/>        u <span class=\"sy0\">=</span> URL<span class=\"br0\">(</span>url<span class=\"br0\">)</span><br/>        scheme <span class=\"sy0\">=</span> u.<span class=\"me1\">protocol</span> <br/>    <span class=\"br0\">}</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">catch</span></a> <span class=\"br0\">(</span>ex<span class=\"sy0\">:</span> MalformedURLException<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>        <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> index <span class=\"sy0\">=</span> url.<span class=\"me1\">indexOf</span><span class=\"br0\">(</span><span class=\"st0\">':'</span><span class=\"br0\">)</span><br/>        scheme <span class=\"sy0\">=</span> url.<span class=\"me1\">take</span><span class=\"br0\">(</span>index<span class=\"br0\">)</span><br/>        u <span class=\"sy0\">=</span> URL<span class=\"br0\">(</span><span class=\"st0\">\"http\"</span> + url.<span class=\"me1\">drop</span><span class=\"br0\">(</span>index<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>    <span class=\"br0\">}</span><br/>    println<span class=\"br0\">(</span><span class=\"st0\">\"Parsing $url\"</span><span class=\"br0\">)</span>  <br/>    println<span class=\"br0\">(</span><span class=\"st0\">\"  scheme   =  $scheme\"</span><span class=\"br0\">)</span> <br/>\u00a0<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">with</span></a><span class=\"br0\">(</span>u<span class=\"br0\">)</span> <span class=\"br0\">{</span> <br/>        <a href=\"http://scala-lang.org\"><span class=\"kw1\">if</span></a> <span class=\"br0\">(</span>userInfo <span class=\"sy0\">!=</span> <a href=\"http://scala-lang.org\"><span class=\"kw1\">null</span></a><span class=\"br0\">)</span> println<span class=\"br0\">(</span><span class=\"st0\">\"  userinfo =  $userInfo\"</span><span class=\"br0\">)</span>        <br/>        <a href=\"http://scala-lang.org\"><span class=\"kw1\">if</span></a> <span class=\"br0\">(</span><span class=\"sy0\">!</span>host.<span class=\"me1\">isEmpty</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span>  println<span class=\"br0\">(</span><span class=\"st0\">\"  domain   =  $host\"</span><span class=\"br0\">)</span><br/>        <a href=\"http://scala-lang.org\"><span class=\"kw1\">if</span></a> <span class=\"br0\">(</span>port <span class=\"sy0\">!=</span> -<span class=\"nu0\">1</span><span class=\"br0\">)</span>       println<span class=\"br0\">(</span><span class=\"st0\">\"  port     =  $port\"</span><span class=\"br0\">)</span><br/>        <a href=\"http://scala-lang.org\"><span class=\"kw1\">if</span></a> <span class=\"br0\">(</span><span class=\"sy0\">!</span>path.<span class=\"me1\">isEmpty</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span>  println<span class=\"br0\">(</span><span class=\"st0\">\"  path     =  $path\"</span><span class=\"br0\">)</span><br/>        <a href=\"http://scala-lang.org\"><span class=\"kw1\">if</span></a> <span class=\"br0\">(</span>query <span class=\"sy0\">!=</span> <a href=\"http://scala-lang.org\"><span class=\"kw1\">null</span></a><span class=\"br0\">)</span>    println<span class=\"br0\">(</span><span class=\"st0\">\"  query    =  $query\"</span><span class=\"br0\">)</span><br/>        <a href=\"http://scala-lang.org\"><span class=\"kw1\">if</span></a> <span class=\"br0\">(</span>ref <span class=\"sy0\">!=</span> <a href=\"http://scala-lang.org\"><span class=\"kw1\">null</span></a><span class=\"br0\">)</span>      println<span class=\"br0\">(</span><span class=\"st0\">\"  fragment =  $ref\"</span><span class=\"br0\">)</span> <br/>    <span class=\"br0\">}</span><br/>    println<span class=\"br0\">(</span><span class=\"br0\">)</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/>fun main<span class=\"br0\">(</span>args<span class=\"sy0\">:</span> Array<span class=\"sy0\">&lt;</span>String<span class=\"sy0\">&gt;</span><span class=\"br0\">)</span><span class=\"br0\">{</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> urls <span class=\"sy0\">=</span> arrayOf<span class=\"br0\">(</span><br/>        <span class=\"st0\">\"foo://example.com:8042/over/there?name=ferret#nose\"</span>,<br/>        <span class=\"st0\">\"urn:example:animal:ferret:nose\"</span>,<br/>        <span class=\"st0\">\"jdbc:mysql://test_user:<a class=\"__cf_email__\" data-cfemail=\"432c363633333330303030032f2c20222f2b2c3037\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>:3306/sakila?profileSQL=true\"</span>,<br/>        <span class=\"st0\">\"ftp://ftp.is.co.za/rfc/rfc1808.txt\"</span>,<br/>        <span class=\"st0\">\"http://www.ietf.org/rfc/rfc2396.txt#header1\"</span>,<br/>        <span class=\"st0\">\"ldap://[2001:db8::7]/c=GB?objectClass=one&amp;objectClass=two\"</span>,<br/>        <span class=\"st0\">\"mailto:<a class=\"__cf_email__\" data-cfemail=\"c882a7a0a6e68ca7ad88adb0a9a5b8a4ade6aba7a5\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\"</span>,<br/>        <span class=\"st0\">\"news:comp.infosystems.www.servers.unix\"</span>,<br/>        <span class=\"st0\">\"tel:+1-816-555-1212\"</span>,<br/>        <span class=\"st0\">\"telnet://192.0.2.16:80/\"</span>,<br/>        <span class=\"st0\">\"urn:oasis:names:specification:docbook:dtd:xml:4.1.2\"</span>,<br/>        <span class=\"st0\">\"ssh://<a class=\"__cf_email__\" data-cfemail=\"096865606a6c496c71686479656c276a6664\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\"</span>,<br/>        <span class=\"st0\">\"https://bob:<a class=\"__cf_email__\" data-cfemail=\"f181908282b19489909c819d94df929e9c\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>/place\"</span>,<br/>        <span class=\"st0\">\"http://example.com/?a=1&amp;b=2+2&amp;c=3&amp;c=4&amp;d=%65%6e%63%6F%64%65%64\"</span><br/>    <span class=\"br0\">)</span>  <br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">for</span></a> <span class=\"br0\">(</span>url in urls<span class=\"br0\">)</span> parseUrl<span class=\"br0\">(</span>url<span class=\"br0\">)</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "Mathematica", "loc": 1, "block": "<pre class=\"text highlighted_source\">URLParse[\"foo://example.com:8042/over/there?name=ferret#nose\"]</pre>"}, {"lang": "Nim", "loc": 41, "block": "<pre class=\"text highlighted_source\">import std/[uri, strformat, strutils]<br/>\u00a0<br/>proc printUri(url: string) =<br/>  echo url<br/>  let res = parseUri(url)<br/>  if res.scheme\u00a0!= \"\":<br/>    echo &amp;\"\\t  Scheme: {res.scheme}\"<br/>  if res.hostname\u00a0!= \"\":<br/>    echo &amp;\"\\tHostname: {res.hostname}\"<br/>  if res.username\u00a0!= \"\":<br/>    echo &amp;\"\\tUsername: {res.username}\"<br/>  if res.password\u00a0!= \"\":<br/>    echo &amp;\"\\tPassword: {res.password}\"<br/>  if res.path\u00a0!= \"\":<br/>    echo &amp;\"\\t    Path: {res.path}\"<br/>  if res.query\u00a0!= \"\":<br/>    echo &amp;\"\\t   Query: {res.query}\"<br/>  if res.port\u00a0!= \"\":<br/>    echo &amp;\"\\t    Port: {res.port}\"<br/>  if res.anchor\u00a0!= \"\":<br/>    echo &amp;\"\\t  Anchor: {res.anchor}\"<br/>  if res.opaque:<br/>    echo &amp;\"\\t  Opaque: {res.opaque}\"<br/>\u00a0<br/>let urls = @[\"foo://example.com:8042/over/there?name=ferret#nose\",<br/>            \"urn:example:animal:ferret:nose\",<br/>            \"jdbc:mysql://test_user:<a class=\"__cf_email__\" data-cfemail=\"f09f858580808083838383b09c9f93919c989f8384\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>:3306/sakila?profileSQL=true\",<br/>            \"ftp://ftp.is.co.za/rfc/rfc1808.txt\",<br/>            \"http://www.ietf.org/rfc/rfc2396.txt#header1\",<br/>            \"ldap://[2001:db8::7]/c=GB?objectClass=one&amp;objectClass=two\",<br/>            \"mailto:<a class=\"__cf_email__\" data-cfemail=\"2e64414640006a414b6e4b564f435e424b004d4143\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\",<br/>            \"news:comp.infosystems.www.servers.unix\",<br/>            \"tel:+1-816-555-1212\",<br/>            \"telnet://192.0.2.16:80/\",<br/>            \"urn:oasis:names:specification:docbook:dtd:xml:4.1.2\",<br/>            \"ssh://<a class=\"__cf_email__\" data-cfemail=\"3d5c51545e587d58455c504d5158135e5250\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\",<br/>            \"https://bob:<a class=\"__cf_email__\" data-cfemail=\"3a4a5b49497a5f425b574a565f14595557\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>/place\",<br/>            \"http://example.com/?a=1&amp;b=2+2&amp;c=3&amp;c=4&amp;d=%65%6e%63%6F%64%65%64\"]<br/>\u00a0<br/>for url in urls:<br/>  printUri(url)</pre>"}, {"lang": "Perl", "loc": 28, "block": "<pre class=\"perl highlighted_source\"><span class=\"co1\">#!/usr/bin/perl</span><br/><span class=\"kw2\">use</span> warnings<span class=\"sy0\">;</span><br/><span class=\"kw2\">use</span> strict<span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"kw2\">use</span> URI<span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"kw1\">for</span> <span class=\"kw1\">my</span> <span class=\"re0\">$uri</span> <span class=\"br0\">(</span><span class=\"kw1\">do</span> <span class=\"br0\">{</span> <a href=\"http://perldoc.perl.org/functions/no.html\"><span class=\"kw3\">no</span></a> warnings <span class=\"st_h\">'qw'</span><span class=\"sy0\">;</span><br/>                  <a href=\"http://perldoc.perl.org/functions/qw.html\"><span class=\"kw3\">qw</span></a><span class=\"br0\">(</span> foo<span class=\"sy0\">://</span>example<span class=\"sy0\">.</span>com<span class=\"sy0\">:</span><span class=\"nu0\">8042</span><span class=\"sy0\">/</span>over<span class=\"sy0\">/</span>there<span class=\"sy0\">?</span>name<span class=\"sy0\">=</span>ferret<span class=\"co1\">#nose</span><br/>                      urn<span class=\"sy0\">:</span>example<span class=\"sy0\">:</span>animal<span class=\"sy0\">:</span>ferret<span class=\"sy0\">:</span>nose<br/>                      jdbc<span class=\"sy0\">:</span>mysql<span class=\"sy0\">://</span>test_user<span class=\"sy0\">:</span>ouupppssss<span class=\"re0\">@localhost</span><span class=\"sy0\">:</span><span class=\"nu0\">3306</span><span class=\"sy0\">/</span>sakila<span class=\"sy0\">?</span>profileSQL<span class=\"sy0\">=</span>true<br/>                      ftp<span class=\"sy0\">://</span>ftp<span class=\"sy0\">.</span>is<span class=\"sy0\">.</span>co<span class=\"sy0\">.</span>za<span class=\"sy0\">/</span>rfc<span class=\"sy0\">/</span>rfc1808<span class=\"sy0\">.</span>txt<br/>                      http<span class=\"sy0\">://</span>www<span class=\"sy0\">.</span>ietf<span class=\"sy0\">.</span>org<span class=\"sy0\">/</span>rfc<span class=\"sy0\">/</span>rfc2396<span class=\"sy0\">.</span>txt<span class=\"co1\">#header1</span><br/>                      ldap<span class=\"sy0\">://</span><span class=\"br0\">[</span><span class=\"nu0\">2001</span><span class=\"sy0\">:</span>db8<span class=\"sy0\">::</span><span class=\"nu0\">7</span><span class=\"br0\">]</span><span class=\"sy0\">/</span>c<span class=\"sy0\">=</span>GB<span class=\"sy0\">?</span>objectClass<span class=\"sy0\">=</span>one<span class=\"re0\">&amp;objectClass</span><span class=\"sy0\">=</span>two<br/>                      mailto<span class=\"sy0\">:</span>John<span class=\"sy0\">.</span>Doe<span class=\"re0\">@example</span><span class=\"sy0\">.</span>com<br/>                      news<span class=\"sy0\">:</span>comp<span class=\"sy0\">.</span>infosystems<span class=\"sy0\">.</span>www<span class=\"sy0\">.</span>servers<span class=\"sy0\">.</span>unix<br/>                      tel<span class=\"sy0\">:+</span><span class=\"nu0\">1</span><span class=\"sy0\">-</span><span class=\"nu0\">816</span><span class=\"sy0\">-</span><span class=\"nu0\">555</span><span class=\"sy0\">-</span><span class=\"nu0\">1212</span><br/>                      telnet<span class=\"sy0\">://</span>192<span class=\"sy0\">.</span>0<span class=\"sy0\">.</span>2<span class=\"sy0\">.</span>16<span class=\"sy0\">:</span><span class=\"nu0\">80</span><span class=\"sy0\">/</span><br/>                      urn<span class=\"sy0\">:</span>oasis<span class=\"sy0\">:</span>names<span class=\"sy0\">:</span>specification<span class=\"sy0\">:</span>docbook<span class=\"sy0\">:</span>dtd<span class=\"sy0\">:</span>xml<span class=\"sy0\">:</span>4<span class=\"sy0\">.</span>1<span class=\"sy0\">.</span>2<br/>                   <span class=\"br0\">)</span><span class=\"br0\">}</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>    <span class=\"kw1\">my</span> <span class=\"re0\">$u</span> <span class=\"sy0\">=</span> <span class=\"st_h\">'URI'</span><span class=\"sy0\">-&gt;</span><span class=\"kw2\">new</span><span class=\"br0\">(</span><span class=\"re0\">$uri</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    <a href=\"http://perldoc.perl.org/functions/print.html\"><span class=\"kw3\">print</span></a> <span class=\"st0\">\"$uri<span class=\"es0\">\\n</span>\"</span><span class=\"sy0\">;</span><br/>    <span class=\"kw1\">for</span> <span class=\"kw1\">my</span> <span class=\"re0\">$part</span> <span class=\"br0\">(</span><a href=\"http://perldoc.perl.org/functions/qw.html\"><span class=\"kw3\">qw</span></a><span class=\"br0\">(</span> scheme path fragment authority host port query <span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>        <a href=\"http://perldoc.perl.org/functions/eval.html\"><span class=\"kw3\">eval</span></a> <span class=\"br0\">{</span> <span class=\"kw1\">my</span> <span class=\"re0\">$parsed</span> <span class=\"sy0\">=</span> <span class=\"re0\">$u</span><span class=\"sy0\">-&gt;</span><span class=\"re0\">$part</span><span class=\"sy0\">;</span><br/>               <a href=\"http://perldoc.perl.org/functions/print.html\"><span class=\"kw3\">print</span></a> <span class=\"st0\">\"<span class=\"es0\">\\t</span>\"</span><span class=\"sy0\">,</span> <span class=\"re0\">$part</span><span class=\"sy0\">,</span> <span class=\"st0\">\"<span class=\"es0\">\\t</span>\"</span><span class=\"sy0\">,</span> <span class=\"re0\">$parsed</span><span class=\"sy0\">,</span> <span class=\"st0\">\"<span class=\"es0\">\\n</span>\"</span> <span class=\"kw1\">if</span> <a href=\"http://perldoc.perl.org/functions/defined.html\"><span class=\"kw3\">defined</span></a> <span class=\"re0\">$parsed</span><span class=\"sy0\">;</span><br/>        <span class=\"br0\">}</span><span class=\"sy0\">;</span><br/>    <span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"br0\">}</span></pre>"}, {"lang": "Perl 6", "loc": 27, "block": "<pre class=\"perl6 highlighted_source\"><span class=\"kw2\">use</span> URI<span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"kw1\">my</span> <span class=\"re0\">@test</span><span class=\"sy0\">-</span>uris <span class=\"sy0\">=</span> <span class=\"sy0\">&lt;</span><br/>    foo<span class=\"sy0\">://</span>example<span class=\"sy0\">.</span><span class=\"me1\">com</span><span class=\"sy0\">:</span><span class=\"nu0\">8042</span><span class=\"sy0\">/</span>over<span class=\"sy0\">/</span>there<span class=\"sy0\">?</span>name<span class=\"sy0\">=</span>ferret<span class=\"co1\">#nose</span><br/>    urn<span class=\"sy0\">:</span>example<span class=\"sy0\">:</span>animal<span class=\"sy0\">:</span>ferret<span class=\"sy0\">:</span>nose<br/>    jdbc<span class=\"sy0\">:</span>mysql<span class=\"sy0\">://</span>test_user<span class=\"sy0\">:</span>ouupppssss<span class=\"re0\">@localhost</span><span class=\"sy0\">:</span><span class=\"nu0\">3306</span><span class=\"sy0\">/</span>sakila<span class=\"sy0\">?</span>profileSQL<span class=\"sy0\">=</span>true<br/>    ftp<span class=\"sy0\">://</span>ftp<span class=\"sy0\">.</span><span class=\"kw1\">is</span><span class=\"sy0\">.</span><span class=\"me1\">co</span><span class=\"sy0\">.</span><span class=\"me1\">za</span><span class=\"sy0\">/</span>rfc<span class=\"sy0\">/</span>rfc1808<span class=\"sy0\">.</span><span class=\"me1\">txt</span><br/>    http<span class=\"sy0\">://</span>www<span class=\"sy0\">.</span><span class=\"me1\">ietf</span><span class=\"sy0\">.</span><span class=\"me1\">org</span><span class=\"sy0\">/</span>rfc<span class=\"sy0\">/</span>rfc2396<span class=\"sy0\">.</span><span class=\"me1\">txt</span><span class=\"co1\">#header1</span><br/>    ldap<span class=\"sy0\">://</span><span class=\"br0\">[</span><span class=\"nu0\">2001</span><span class=\"sy0\">:</span>db8<span class=\"sy0\">::</span><span class=\"nu0\">7</span><span class=\"br0\">]</span><span class=\"sy0\">/</span>c<span class=\"sy0\">=</span>GB<span class=\"sy0\">?</span>objectClass<span class=\"sy0\">?</span><span class=\"kw3\">one</span><br/>    mailto<span class=\"sy0\">:</span>John<span class=\"sy0\">.</span><span class=\"me1\">Doe</span><span class=\"re0\">@example</span><span class=\"sy0\">.</span><span class=\"me1\">com</span><br/>    news<span class=\"sy0\">:</span>comp<span class=\"sy0\">.</span><span class=\"me1\">infosystems</span><span class=\"sy0\">.</span><span class=\"me1\">www</span><span class=\"sy0\">.</span><span class=\"me1\">servers</span><span class=\"sy0\">.</span><span class=\"me1\">unix</span><br/>    tel<span class=\"sy0\">:+</span><span class=\"nu0\">1</span><span class=\"sy0\">-</span><span class=\"nu0\">816</span><span class=\"sy0\">-</span><span class=\"nu0\">555</span><span class=\"sy0\">-</span><span class=\"nu0\">1212</span><br/>    telnet<span class=\"sy0\">://</span>192<span class=\"sy0\">.</span>0<span class=\"sy0\">.</span>2<span class=\"sy0\">.</span>16<span class=\"sy0\">:</span><span class=\"nu0\">80</span><span class=\"sy0\">/</span><br/>    urn<span class=\"sy0\">:</span>oasis<span class=\"sy0\">:</span>names<span class=\"sy0\">:</span>specification<span class=\"sy0\">:</span>docbook<span class=\"sy0\">:</span>dtd<span class=\"sy0\">:</span>xml<span class=\"sy0\">:</span>4<span class=\"sy0\">.</span>1<span class=\"sy0\">.</span>2<br/><span class=\"sy0\">&gt;;</span><br/>\u00a0<br/><span class=\"kw1\">my</span> <span class=\"re0\">$u</span> <span class=\"sy0\">=</span> URI<span class=\"sy0\">.</span><span class=\"kw2\">new</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"kw1\">for</span> <span class=\"re0\">@test</span><span class=\"sy0\">-</span>uris <span class=\"sy0\">-&gt;</span> <span class=\"re0\">$uri</span> <span class=\"br0\">{</span><br/>    <span class=\"kw3\">say</span> <span class=\"st0\">\"URI:<span class=\"es0\">\\t</span>\"</span><span class=\"sy0\">,</span> <span class=\"re0\">$uri</span><span class=\"sy0\">;</span><br/>        <span class=\"re0\">$u</span><span class=\"sy0\">.</span><span class=\"me1\">parse</span><span class=\"br0\">(</span><span class=\"re0\">$uri</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <span class=\"kw1\">for</span> <span class=\"sy0\">&lt;</span>scheme host port path query frag<span class=\"sy0\">&gt;</span> <span class=\"sy0\">-&gt;</span> <span class=\"re0\">$t</span> <span class=\"br0\">{</span><br/>           <span class=\"kw1\">my</span> <span class=\"re0\">$token</span> <span class=\"sy0\">=</span> try <span class=\"br0\">{</span><span class=\"re0\">$u</span><span class=\"sy0\">.</span><span class=\"st0\">\"$t\"</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">}</span> <span class=\"sy0\">||</span> <span class=\"st_h\">''</span><span class=\"sy0\">;</span><br/>           <span class=\"kw3\">say</span> <span class=\"st0\">\"$t:<span class=\"es0\">\\t</span>\"</span><span class=\"sy0\">,</span> <span class=\"re0\">$token</span> <span class=\"kw1\">if</span> <span class=\"re0\">$token</span><span class=\"sy0\">;</span><br/>        <span class=\"br0\">}</span><br/>    <span class=\"kw3\">say</span> <span class=\"st_h\">''</span><span class=\"sy0\">;</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "Phix", "loc": 43, "block": "<pre class=\"text highlighted_source\">include builtins\\pfile.e<br/>\u00a0<br/>sequence descs = repeat(\"\",8)<br/>    descs[URL_PROTOCOL]     = \"scheme\"<br/>    descs[URL_HOSTNAME]     = \"domain\"<br/>    descs[URL_PORT]         = \"port\"<br/>    descs[URL_PATH]         = \"path\"<br/>    descs[URL_USER]         = \"user\"<br/>    descs[URL_PASSWORD]     = \"password\"<br/>    descs[URL_QUERY_STRING] = \"query\"<br/>    descs[URL_FRAGMENT]     = \"fragment\"<br/>\u00a0<br/>procedure show_url_details(string uri)<br/>sequence r = parse_url(uri)<br/>   \u00a0?uri<br/>    for i=1 to length(descs) do<br/>        if r[i]!=0 then<br/>            printf(1,\"%s\u00a0:\u00a0%s\\n\",{descs[i],sprint(r[i])})<br/>        end if<br/>    end for<br/>    puts(1,\"\\n\")<br/>end procedure<br/>\u00a0<br/>constant tests = {<br/>    \"foo://example.com:8042/over/there?name=ferret#nose\",<br/>    \"urn:example:animal:ferret:nose\",<br/>    \"jdbc:mysql://test_user:ouupp<a class=\"__cf_email__\" data-cfemail=\"b0c0c3c3c3c3f0dcdfd3d1dcd8dfc3c4\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>:3306/sakila?profileSQL=true\",<br/>    \"ftp://ftp.is.co.za/rfc/rfc1808.txt\",<br/>    \"http://www.ietf.org/rfc/rfc2396.txt#header1\",<br/>    \"ldap://[2001:db8::7]/c=GB?objectClass=one&amp;objectClass=two\",<br/>    \"mailto:<a class=\"__cf_email__\" data-cfemail=\"7b31141315553f141e3b1e031a160b171e55181416\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\",<br/>    \"news:comp.infosystems.www.servers.unix\",<br/>    \"tel:+1-816-555-1212\",<br/>    \"telnet://192.0.2.16:80/\",<br/>    \"urn:oasis:names:specification:docbook:dtd:xml:4.1.2\",<br/>    \"ssh://<a class=\"__cf_email__\" data-cfemail=\"7a1b1613191f3a1f021b170a161f54191517\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\",<br/>    \"https://bob:<a class=\"__cf_email__\" data-cfemail=\"fc8c9d8f8fbc99849d918c9099d29f9391\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>/place\",<br/>    \"http://example.com/?a=1&amp;b=2+2&amp;c=3&amp;c=4&amp;d=%65%6e%63%6F%64%65%64\"<br/>}<br/>\u00a0<br/>for i=1 to length(tests) do<br/>    show_url_details(tests[i])<br/>end for</pre>"}, {"lang": "PowerShell", "loc": 45, "block": "<pre class=\"powershell highlighted_source\">\u00a0<br/><span class=\"kw3\">function</span> Get<span class=\"sy0\">-</span>ParsedUrl<br/><span class=\"br0\">{</span><br/>    <span class=\"br0\">[</span>CmdletBinding<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">]</span><br/>    <span class=\"br0\">[</span>OutputType<span class=\"br0\">(</span><span class=\"br0\">[</span>PSCustomObject<span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"br0\">]</span><br/>    <span class=\"kw3\">Param</span><br/>    <span class=\"br0\">(</span><br/>        <span class=\"br0\">[</span>Parameter<span class=\"br0\">(</span>Mandatory<span class=\"sy0\">=</span><span class=\"re0\">$true</span><span class=\"sy0\">,</span><br/>                   ValueFromPipeline<span class=\"sy0\">=</span><span class=\"re0\">$true</span><span class=\"sy0\">,</span><br/>                   ValueFromPipelineByPropertyName<span class=\"sy0\">=</span><span class=\"re0\">$true</span><span class=\"sy0\">,</span><br/>                   Position<span class=\"sy0\">=</span><span class=\"nu0\">0</span><span class=\"br0\">)</span><span class=\"br0\">]</span><br/>        <span class=\"br0\">[</span>System.Uri<span class=\"br0\">]</span><br/>        <span class=\"re0\">$InputObject</span><br/>    <span class=\"br0\">)</span><br/>\u00a0<br/>    Process<br/>    <span class=\"br0\">{</span><br/>        <span class=\"kw3\">foreach</span> <span class=\"br0\">(</span><span class=\"re0\">$url</span> <span class=\"kw3\">in</span> <span class=\"re0\">$InputObject</span><span class=\"br0\">)</span><br/>        <span class=\"br0\">{</span><br/>            <span class=\"re0\">$url</span> <span class=\"sy0\">|</span> <span class=\"kw1\">Select-Object</span> <span class=\"kw5\">-Property</span> Scheme<span class=\"sy0\">,</span><br/>                                           <span class=\"sy0\">@</span><span class=\"br0\">{</span>Name<span class=\"sy0\">=</span><span class=\"st0\">\"Domain\"</span>; Expression<span class=\"sy0\">=</span><span class=\"br0\">{</span><a href=\"about:blank\"><span class=\"kw6\">$_</span></a>.Host<span class=\"br0\">}</span><span class=\"br0\">}</span><span class=\"sy0\">,</span><br/>                                           Port<span class=\"sy0\">,</span><br/>                                           <span class=\"sy0\">@</span><span class=\"br0\">{</span>Name<span class=\"sy0\">=</span><span class=\"st0\">\"Path\"</span> \u00a0; Expression<span class=\"sy0\">=</span><span class=\"br0\">{</span><a href=\"about:blank\"><span class=\"kw6\">$_</span></a>.LocalPath<span class=\"br0\">}</span><span class=\"br0\">}</span><span class=\"sy0\">,</span><br/>                                           Query<span class=\"sy0\">,</span><br/>                                           Fragment<span class=\"sy0\">,</span><br/>                                           AbsolutePath<span class=\"sy0\">,</span><br/>                                           AbsoluteUri<span class=\"sy0\">,</span><br/>                                           Authority<span class=\"sy0\">,</span><br/>                                           HostNameType<span class=\"sy0\">,</span><br/>                                           IsDefaultPort<span class=\"sy0\">,</span><br/>                                           IsFile<span class=\"sy0\">,</span><br/>                                           IsLoopback<span class=\"sy0\">,</span><br/>                                           PathAndQuery<span class=\"sy0\">,</span><br/>                                           Segments<span class=\"sy0\">,</span><br/>                                           IsUnc<span class=\"sy0\">,</span><br/>                                           OriginalString<span class=\"sy0\">,</span><br/>                                           DnsSafeHost<span class=\"sy0\">,</span><br/>                                           IdnHost<span class=\"sy0\">,</span><br/>                                           IsAbsoluteUri<span class=\"sy0\">,</span><br/>                                           UserEscaped<span class=\"sy0\">,</span><br/>                                           UserInfo<br/>        <span class=\"br0\">}</span><br/>    <span class=\"br0\">}</span><br/><span class=\"br0\">}</span><br/>\u00a0</pre>"}, {"lang": "Python", "loc": 15, "block": "<pre class=\"python highlighted_source\"><span class=\"kw1\">import</span> <span class=\"kw3\">urllib</span>.<span class=\"me1\">parse</span> <span class=\"kw1\">as</span> up <span class=\"co1\"># urlparse for Python v2</span><br/>\u00a0<br/>url <span class=\"sy0\">=</span> up.<span class=\"kw3\">urlparse</span><span class=\"br0\">(</span><span class=\"st0\">'http://user:<a class=\"__cf_email__\" data-cfemail=\"eb9b8a9898ab8e938a869b878ec5888486\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>:8081/path/file.html;params?query1=1#fragment'</span><span class=\"br0\">)</span><br/>\u00a0<br/><span class=\"kw1\">print</span><span class=\"br0\">(</span><span class=\"st0\">'url.scheme = '</span><span class=\"sy0\">,</span> url.<span class=\"me1\">scheme</span><span class=\"br0\">)</span><br/><span class=\"kw1\">print</span><span class=\"br0\">(</span><span class=\"st0\">'url.netloc = '</span><span class=\"sy0\">,</span> url.<span class=\"me1\">netloc</span><span class=\"br0\">)</span><br/><span class=\"kw1\">print</span><span class=\"br0\">(</span><span class=\"st0\">'url.hostname = '</span><span class=\"sy0\">,</span> url.<span class=\"me1\">hostname</span><span class=\"br0\">)</span><br/><span class=\"kw1\">print</span><span class=\"br0\">(</span><span class=\"st0\">'url.port = '</span><span class=\"sy0\">,</span> url.<span class=\"me1\">port</span><span class=\"br0\">)</span><br/><span class=\"kw1\">print</span><span class=\"br0\">(</span><span class=\"st0\">'url.path = '</span><span class=\"sy0\">,</span> url.<span class=\"me1\">path</span><span class=\"br0\">)</span><br/><span class=\"kw1\">print</span><span class=\"br0\">(</span><span class=\"st0\">'url.params = '</span><span class=\"sy0\">,</span> url.<span class=\"me1\">params</span><span class=\"br0\">)</span><br/><span class=\"kw1\">print</span><span class=\"br0\">(</span><span class=\"st0\">'url.query = '</span><span class=\"sy0\">,</span> url.<span class=\"me1\">query</span><span class=\"br0\">)</span><br/><span class=\"kw1\">print</span><span class=\"br0\">(</span><span class=\"st0\">'url.fragment = '</span><span class=\"sy0\">,</span> url.<span class=\"me1\">fragment</span><span class=\"br0\">)</span><br/><span class=\"kw1\">print</span><span class=\"br0\">(</span><span class=\"st0\">'url.username = '</span><span class=\"sy0\">,</span> url.<span class=\"me1\">username</span><span class=\"br0\">)</span><br/><span class=\"kw1\">print</span><span class=\"br0\">(</span><span class=\"st0\">'url.password = '</span><span class=\"sy0\">,</span> url.<span class=\"me1\">password</span><span class=\"br0\">)</span><br/>\u00a0</pre>"}, {"lang": "Racket", "loc": 36, "block": "<pre class=\"text highlighted_source\">#lang racket/base<br/>(require racket/match net/url)<br/>(define (debug-url-string U)<br/>  (match-define (url s u h p pa? (list (path/param pas prms) ...) q f) (string-&gt;url U))<br/>  (printf \"URL: ~s~%\" U)<br/>  (printf \"-----~a~%\" (make-string (string-length (format \"~s\" U)) #\\-))<br/>  (when #t          (printf \"scheme:         ~s~%\" s))<br/>  (when u           (printf \"user:           ~s~%\" u))<br/>  (when h           (printf \"host:           ~s~%\" h))<br/>  (when p           (printf \"port:           ~s~%\" p))<br/> \u00a0;; From documentation link in text:<br/> \u00a0;; &gt; For Unix paths, the root directory is not included in `path';<br/> \u00a0;; &gt; its presence or absence is implicit in the path-absolute? flag.<br/>  (printf \"path-absolute?: ~s~%\" pa?)<br/>  (printf \"path  bits:     ~s~%\" pas)<br/> \u00a0;; prms will often be a list of lists. this will print iff<br/> \u00a0;; one of the inner lists is not null<br/>  (when (memf pair? prms) <br/>    (printf \"param bits:     ~s [interleaved with path bits]~%\" prms))<br/>  (unless (null? q) (printf \"query:          ~s~%\" q))<br/>  (when f           (printf \"fragment:       ~s~%\" f))<br/>  (newline))<br/>\u00a0<br/>(for-each<br/> debug-url-string<br/> '(\"foo://example.com:8042/over/there?name=ferret#nose\"<br/>   \"urn:example:animal:ferret:nose\"<br/>   \"jdbc:mysql://test_user:<a class=\"__cf_email__\" data-cfemail=\"afc0dadadfdfdfdcdcdcdcefc3c0cccec3c7c0dcdb\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>:3306/sakila?profileSQL=true\"<br/>   \"ftp://ftp.is.co.za/rfc/rfc1808.txt\"<br/>   \"http://www.ietf.org/rfc/rfc2396.txt#header1\"<br/>   \"ldap://[2001:db8::7]/c=GB?objectClass=one&amp;objectClass=two\"<br/>   \"mailto:<a class=\"__cf_email__\" data-cfemail=\"2862474046066c474d684d50494558444d064b4745\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\"<br/>   \"news:comp.infosystems.www.servers.unix\"<br/>   \"tel:+1-816-555-1212\"<br/>   \"telnet://192.0.2.16:80/\"<br/>   \"urn:oasis:names:specification:docbook:dtd:xml:4.1.2\"))</pre>"}, {"lang": "Ruby", "loc": 28, "block": "<pre class=\"ruby highlighted_source\"><span class=\"kw3\">require</span> <span class=\"st0\">'uri'</span><br/>\u00a0<br/>test_cases = <span class=\"br0\">[</span><br/>  <span class=\"st0\">\"foo://example.com:8042/over/there?name=ferret#nose\"</span>,<br/>  <span class=\"st0\">\"urn:example:animal:ferret:nose\"</span>,<br/>  <span class=\"st0\">\"jdbc:mysql://test_user:<a class=\"__cf_email__\" data-cfemail=\"0c6379797c7c7c7f7f7f7f4c60636f6d6064637f78\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>:3306/sakila?profileSQL=true\"</span>,<br/>  <span class=\"st0\">\"ftp://ftp.is.co.za/rfc/rfc1808.txt\"</span>,<br/>  <span class=\"st0\">\"http://www.ietf.org/rfc/rfc2396.txt#header1\"</span>,<br/>  <span class=\"st0\">\"ldap://[2001:db8::7]/c=GB?objectClass=one&amp;objectClass=two\"</span>,<br/>  <span class=\"st0\">\"mailto:<a class=\"__cf_email__\" data-cfemail=\"c78da8afa9e983a8a287a2bfa6aab7aba2e9a4a8aa\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\"</span>,<br/>  <span class=\"st0\">\"news:comp.infosystems.www.servers.unix\"</span>,<br/>  <span class=\"st0\">\"tel:+1-816-555-1212\"</span>,<br/>  <span class=\"st0\">\"telnet://192.0.2.16:80/\"</span>,<br/>  <span class=\"st0\">\"urn:oasis:names:specification:docbook:dtd:xml:4.1.2\"</span>,<br/>  <span class=\"st0\">\"ssh://<a class=\"__cf_email__\" data-cfemail=\"30515c595355705548515d405c551e535f5d\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\"</span>,<br/>  <span class=\"st0\">\"https://bob:<a class=\"__cf_email__\" data-cfemail=\"0878697b7b486d70696578646d266b6765\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>/place\"</span>,<br/>  <span class=\"st0\">\"http://example.com/?a=1&amp;b=2+2&amp;c=3&amp;c=4&amp;d=%65%6e%63%6F%64%65%64\"</span><br/><span class=\"br0\">]</span><br/>\u00a0<br/><span class=\"kw1\">class</span> <span class=\"kw4\"><span class=\"re2\">URI::Generic</span></span>; alias_method <span class=\"re3\">:domain</span>, <span class=\"re3\">:host</span>; <span class=\"kw1\">end</span><br/>\u00a0<br/>test_cases.<span class=\"me1\">each</span> <span class=\"kw1\">do</span> <span class=\"sy0\">|</span>test_case<span class=\"sy0\">|</span><br/>  <span class=\"kw3\">puts</span> test_case<br/>  uri = <span class=\"kw4\">URI</span>.<span class=\"me1\">parse</span><span class=\"br0\">(</span>test_case<span class=\"br0\">)</span><br/>  <span class=\"sy0\">%</span>w<span class=\"br0\">[</span> scheme domain port path query fragment user password <span class=\"br0\">]</span>.<span class=\"me1\">each</span> <span class=\"kw1\">do</span> <span class=\"sy0\">|</span>attr<span class=\"sy0\">|</span><br/>    <span class=\"kw3\">puts</span> <span class=\"st0\">\"  #{attr.rjust(8)} = #{uri.send(attr)}\"</span> <span class=\"kw1\">if</span> uri.<span class=\"me1\">send</span><span class=\"br0\">(</span>attr<span class=\"br0\">)</span><br/>  <span class=\"kw1\">end</span><br/><span class=\"kw1\">end</span></pre>"}, {"lang": "Scala", "loc": 34, "block": "<pre class=\"scala highlighted_source\"><a href=\"http://scala-lang.org\"><span class=\"kw1\">import</span></a> java.<span class=\"me1\">net</span>.<span class=\"me1\">URI</span><br/>\u00a0<br/><a href=\"http://scala-lang.org\"><span class=\"kw1\">object</span></a> WebAddressParser <a href=\"http://scala-lang.org\"><span class=\"kw1\">extends</span></a> App <span class=\"br0\">{</span><br/>\u00a0<br/>  parseAddress<span class=\"br0\">(</span><span class=\"st0\">\"foo://example.com:8042/over/there?name=ferret#nose\"</span><span class=\"br0\">)</span><br/>  parseAddress<span class=\"br0\">(</span><span class=\"st0\">\"ftp://ftp.is.co.za/rfc/rfc1808.txt\"</span><span class=\"br0\">)</span><br/>  parseAddress<span class=\"br0\">(</span><span class=\"st0\">\"http://example.com/?a=1&amp;b=2+2&amp;c=3&amp;c=4&amp;d=%65%6e%63%6F%64%65%64\"</span><span class=\"br0\">)</span><br/>  parseAddress<span class=\"br0\">(</span><span class=\"st0\">\"http://www.ietf.org/rfc/rfc2396.txt#header1\"</span><span class=\"br0\">)</span><br/>  parseAddress<span class=\"br0\">(</span><span class=\"st0\">\"https://bob:<a class=\"__cf_email__\" data-cfemail=\"4939283a3a092c31282439252c672a2624\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>/place\"</span><span class=\"br0\">)</span><br/>  parseAddress<span class=\"br0\">(</span><span class=\"st0\">\"jdbc:mysql://test_user:<a class=\"__cf_email__\" data-cfemail=\"bcd3c9c9cccccccfcfcfcffcd0d3dfddd0d4d3cfc8\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>:3306/sakila?profileSQL=true\"</span><span class=\"br0\">)</span><br/>  parseAddress<span class=\"br0\">(</span><span class=\"st0\">\"ldap://[2001:db8::7]/c=GB?objectClass=one&amp;objectClass=two\"</span><span class=\"br0\">)</span><br/>  parseAddress<span class=\"br0\">(</span><span class=\"st0\">\"ldap://[2001:db8::7]/c=GB?objectClass?one\"</span><span class=\"br0\">)</span><br/>  parseAddress<span class=\"br0\">(</span><span class=\"st0\">\"mailto:<a class=\"__cf_email__\" data-cfemail=\"12587d7a7c3c567d7752776a737f627e773c717d7f\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\"</span><span class=\"br0\">)</span><br/>  parseAddress<span class=\"br0\">(</span><span class=\"st0\">\"news:comp.infosystems.www.servers.unix\"</span><span class=\"br0\">)</span><br/>  parseAddress<span class=\"br0\">(</span><span class=\"st0\">\"ssh://<a class=\"__cf_email__\" data-cfemail=\"c4a5a8ada7a184a1bca5a9b4a8a1eaa7aba9\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\"</span><span class=\"br0\">)</span><br/>  parseAddress<span class=\"br0\">(</span><span class=\"st0\">\"tel:+1-816-555-1212\"</span><span class=\"br0\">)</span><br/>  parseAddress<span class=\"br0\">(</span><span class=\"st0\">\"telnet://192.0.2.16:80/\"</span><span class=\"br0\">)</span><br/>  parseAddress<span class=\"br0\">(</span><span class=\"st0\">\"urn:example:animal:ferret:nose\"</span><span class=\"br0\">)</span><br/>  parseAddress<span class=\"br0\">(</span><span class=\"st0\">\"urn:oasis:names:specification:docbook:dtd:xml:4.1.2\"</span><span class=\"br0\">)</span><br/>  parseAddress<span class=\"br0\">(</span><span class=\"st0\">\"This is not a URI!\"</span><span class=\"br0\">)</span><br/>\u00a0<br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">private</span></a> <a href=\"http://scala-lang.org\"><span class=\"kw1\">def</span></a> parseAddress<span class=\"br0\">(</span>a<span class=\"sy0\">:</span> String<span class=\"br0\">)</span><span class=\"sy0\">:</span> Unit <span class=\"sy0\">=</span> <span class=\"br0\">{</span><br/>    print<span class=\"br0\">(</span>f<span class=\"st0\">\"Parsing $a%-72s\"</span><span class=\"br0\">)</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">try</span></a> <span class=\"br0\">{</span><br/>      <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> u <span class=\"sy0\">=</span> <a href=\"http://scala-lang.org\"><span class=\"kw1\">new</span></a> URI<span class=\"br0\">(</span>a<span class=\"br0\">)</span><br/>      print<span class=\"br0\">(</span><span class=\"st0\">\"<span class=\"es3\">\\u2714</span><span class=\"es1\">\\t</span>scheme = \"</span> + u.<span class=\"me1\">getScheme</span><span class=\"br0\">)</span><br/>      print<span class=\"br0\">(</span><span class=\"st0\">\"<span class=\"es1\">\\t</span>domain = \"</span> + u.<span class=\"me1\">getHost</span><span class=\"br0\">)</span><br/>      print<span class=\"br0\">(</span><span class=\"st0\">\"<span class=\"es1\">\\t</span>port = \"</span> + <span class=\"br0\">(</span><a href=\"http://scala-lang.org\"><span class=\"kw1\">if</span></a> <span class=\"br0\">(</span>-<span class=\"nu0\">1</span> <span class=\"sy0\">==</span> u.<span class=\"me1\">getPort</span><span class=\"br0\">)</span> <span class=\"st0\">\"default\"</span> <a href=\"http://scala-lang.org\"><span class=\"kw1\">else</span></a> u.<span class=\"me1\">getPort</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>      print<span class=\"br0\">(</span><span class=\"st0\">\"<span class=\"es1\">\\t</span>path = \"</span> + <span class=\"br0\">(</span><a href=\"http://scala-lang.org\"><span class=\"kw1\">if</span></a> <span class=\"br0\">(</span>u.<span class=\"me1\">getPath</span> <span class=\"sy0\">==</span> <a href=\"http://scala-lang.org\"><span class=\"kw1\">null</span></a><span class=\"br0\">)</span> u.<span class=\"me1\">getSchemeSpecificPart</span> <a href=\"http://scala-lang.org\"><span class=\"kw1\">else</span></a> u.<span class=\"me1\">getPath</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>      print<span class=\"br0\">(</span><span class=\"st0\">\"<span class=\"es1\">\\t</span>query = \"</span> + u.<span class=\"me1\">getQuery</span><span class=\"br0\">)</span><br/>      println<span class=\"br0\">(</span><span class=\"st0\">\"<span class=\"es1\">\\t</span>fragment = \"</span> + u.<span class=\"me1\">getFragment</span><span class=\"br0\">)</span><br/>    <span class=\"br0\">}</span> <a href=\"http://scala-lang.org\"><span class=\"kw1\">catch</span></a> <span class=\"br0\">{</span> <a href=\"http://scala-lang.org\"><span class=\"kw1\">case</span></a> ex<span class=\"sy0\">:</span> Throwable <span class=\"sy0\">=&gt;</span> println<span class=\"br0\">(</span><span class=\"st0\">'<span class=\"es3\">\\u2718</span>'</span><span class=\"br0\">)</span> <span class=\"br0\">}</span><br/>  <span class=\"br0\">}</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "Tcl", "loc": 40, "block": "<pre class=\"tcl highlighted_source\"><span class=\"kw2\">package</span> require uri<br/><span class=\"kw2\">package</span> require uri::<span class=\"me1\">urn</span><br/>\u00a0<br/><span class=\"co1\"># a little bit of trickery to format results:</span><br/><span class=\"kw1\">proc</span> pdict <span class=\"br0\">{</span>d<span class=\"br0\">}</span> <span class=\"br0\">{</span><br/>    array <span class=\"kw1\">set</span> \\t <span class=\"re0\">$d</span><br/>    parray \\t<br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw1\">proc</span> parse_uri <span class=\"br0\">{</span>uri<span class=\"br0\">}</span> <span class=\"br0\">{</span><br/>    <span class=\"kw2\">regexp</span> <span class=\"br0\">{</span>^<span class=\"br0\">(</span>.<span class=\"sy0\">*?</span><span class=\"br0\">)</span>:<span class=\"br0\">(</span>.<span class=\"sy0\">*</span><span class=\"br0\">)</span><span class=\"sy0\">$</span><span class=\"br0\">}</span> <span class=\"re0\">$uri</span> -<span class=\"sy0\">&gt;</span> scheme rest<br/>    <span class=\"kw1\">if</span> <span class=\"br0\">{</span><span class=\"re0\">$scheme</span> <span class=\"kw1\">in</span> <span class=\"sy0\">$</span>::<span class=\"me1\">uri</span>::<span class=\"me1\">schemes</span><span class=\"br0\">}</span> <span class=\"br0\">{</span><br/>        <span class=\"co1\"># uri already knows how to split it:</span><br/>        <span class=\"kw1\">set</span> parts <span class=\"br0\">[</span>uri::<span class=\"kw2\">split</span> <span class=\"re0\">$uri</span><span class=\"br0\">]</span><br/>    <span class=\"br0\">}</span> <span class=\"kw1\">else</span> <span class=\"br0\">{</span><br/>        <span class=\"co1\"># parse as though it's http:</span><br/>        <span class=\"kw1\">set</span> parts <span class=\"br0\">[</span>uri::<span class=\"me1\">SplitHttp</span> <span class=\"re0\">$rest</span><span class=\"br0\">]</span><br/>        dict <span class=\"kw1\">set</span> parts scheme <span class=\"re0\">$scheme</span><br/>    <span class=\"br0\">}</span><br/>    dict filter <span class=\"re0\">$parts</span> value <span class=\"sy0\">?*</span> <span class=\"sy0\">;</span><span class=\"co1\"># omit empty sections</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw1\">set</span> tests <span class=\"br0\">{</span><br/>    foo://example.com:<span class=\"nu0\">8042</span>/over/there<span class=\"sy0\">?</span>name=ferret<span class=\"co1\">#nose</span><br/>    urn:example:animal:ferret:nose<br/>    jdbc:mysql://test_user:<a class=\"__cf_email__\" data-cfemail=\"3659434346464645454545765a5955575a5e594542\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>:<span class=\"nu0\">3306</span>/sakila<span class=\"sy0\">?</span>profileSQL=true<br/>    ftp://ftp.is.co.za/rfc/rfc1808.txt<br/>    <span class=\"kw2\">http</span>://www.ietf.org/rfc/rfc2396.txt<span class=\"co1\">#header1</span><br/>    ldap://<span class=\"br0\">[</span><span class=\"nu0\">2001</span>:db8::<span class=\"nu0\">7</span><span class=\"br0\">]</span>/c=GB<span class=\"sy0\">?</span>objectClass=one<span class=\"sy0\">&amp;</span>objectClass=two<br/>    mailto:<a class=\"__cf_email__\" data-cfemail=\"0e44616660204a616b4e6b766f637e626b206d6163\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a><br/>    news:comp.infosystems.www.servers.unix<br/>    tel:+<span class=\"nu0\">1</span>-<span class=\"nu0\">816</span>-<span class=\"nu0\">555</span>-<span class=\"nu0\">1212</span><br/>    telnet://192.0.2.16:<span class=\"nu0\">80</span>/<br/>    urn:oasis:names:specification:docbook:dtd:xml:4.1.2 <br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw1\">foreach</span> uri <span class=\"re0\">$tests</span> <span class=\"br0\">{</span><br/>    <span class=\"kw2\">puts</span> \\n<span class=\"re0\">$uri</span><br/>    pdict <span class=\"br0\">[</span>parse_uri <span class=\"re0\">$uri</span><span class=\"br0\">]</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "VBScript", "loc": 98, "block": "<pre class=\"vb highlighted_source\">\u00a0<br/><span class=\"kw2\">Function</span> parse_url(url)<br/>\tparse_url = <span class=\"st0\">\"URL: \"</span> &amp; url<br/>\t<span class=\"kw3\">If</span> InStr(url,<span class=\"st0\">\"//\"</span>) <span class=\"kw3\">Then</span><br/>\t\t<span class=\"co1\">'parse the scheme<br/></span>\t\tscheme = Split(url,<span class=\"st0\">\"//\"</span>)<br/>\t\tparse_url = parse_url &amp; vbcrlf &amp; <span class=\"st0\">\"Scheme: \"</span> &amp; Mid(scheme(0),1,Len(scheme(0))-1)<br/>\t\t<span class=\"co1\">'parse the domain<br/></span>\t\tdomain = Split(scheme(1),<span class=\"st0\">\"/\"</span>)<br/>\t\t<span class=\"co1\">'check if the domain includes a username, password, and port<br/></span>\t\t<span class=\"kw3\">If</span> InStr(domain(0),<span class=\"st0\">\"@\"</span>) <span class=\"kw3\">Then</span><br/>\t\t\tcred = Split(domain(0),<span class=\"st0\">\"@\"</span>)<br/>\t\t\t<span class=\"kw3\">If</span> InStr(cred(0),<span class=\"st0\">\".\"</span>) <span class=\"kw3\">Then</span><br/>\t\t\t\tusername = Mid(cred(0),1,InStr(1,cred(0),<span class=\"st0\">\".\"</span>)-1)<br/>\t\t\t\tpassword = Mid(cred(0),InStr(1,cred(0),<span class=\"st0\">\".\"</span>)+1,Len(cred(0))-InStr(1,cred(0),<span class=\"st0\">\".\"</span>))<br/>\t\t\t<span class=\"kw3\">ElseIf</span> InStr(cred(0),<span class=\"st0\">\":\"</span>) <span class=\"kw3\">Then</span><br/>\t\t\t\tusername = Mid(cred(0),1,InStr(1,cred(0),<span class=\"st0\">\":\"</span>)-1)<br/>\t\t\t\tpassword = Mid(cred(0),InStr(1,cred(0),<span class=\"st0\">\":\"</span>)+1,Len(cred(0))-InStr(1,cred(0),<span class=\"st0\">\":\"</span>))<br/>\t\t\t<span class=\"kw3\">End</span> <span class=\"kw3\">If</span><br/>\t\t\tparse_url = parse_url &amp; vbcrlf &amp; <span class=\"st0\">\"Username: \"</span> &amp; username &amp; vbCrLf &amp;_<br/>\t\t\t\t<span class=\"st0\">\"Password: \"</span> &amp; password<br/>\t\t\t<span class=\"co1\">'check if the domain have a port<br/></span>\t\t\t<span class=\"kw3\">If</span> InStr(cred(1),<span class=\"st0\">\":\"</span>) <span class=\"kw3\">Then</span><br/>\t\t\t\thost = Mid(cred(1),1,InStr(1,cred(1),<span class=\"st0\">\":\"</span>)-1)<br/>\t\t\t\tport = Mid(cred(1),InStr(1,cred(1),<span class=\"st0\">\":\"</span>)+1,Len(cred(1))-InStr(1,cred(1),<span class=\"st0\">\":\"</span>))<br/>\t\t\t\tparse_url = parse_url &amp; vbCrLf &amp; <span class=\"st0\">\"Domain: \"</span> &amp; host &amp; vbCrLf &amp; <span class=\"st0\">\"Port: \"</span> &amp; port <br/>\t\t\t<span class=\"kw3\">Else</span><br/>\t\t\t\tparse_url = parse_url &amp; vbCrLf &amp; <span class=\"st0\">\"Domain: \"</span> &amp; cred(1)<br/>\t\t\t<span class=\"kw3\">End</span> <span class=\"kw3\">If</span><br/>\t\t<span class=\"kw3\">ElseIf</span> InStr(domain(0),<span class=\"st0\">\":\"</span>) <span class=\"kw3\">And</span> Instr(domain(0),<span class=\"st0\">\"[\"</span>) = <span class=\"kw5\">False</span> <span class=\"kw3\">And</span> Instr(domain(0),<span class=\"st0\">\"]\"</span>) = <span class=\"kw5\">False</span> <span class=\"kw3\">Then</span><br/>\t\t\t\thost = Mid(domain(0),1,InStr(1,domain(0),<span class=\"st0\">\":\"</span>)-1)<br/>\t\t\t\tport = Mid(domain(0),InStr(1,domain(0),<span class=\"st0\">\":\"</span>)+1,Len(domain(0))-InStr(1,domain(0),<span class=\"st0\">\":\"</span>))<br/>\t\t\t\tparse_url = parse_url &amp; vbCrLf &amp; <span class=\"st0\">\"Domain: \"</span> &amp; host &amp; vbCrLf &amp; <span class=\"st0\">\"Port: \"</span> &amp; port <br/>\t\t<span class=\"kw3\">ElseIf</span> Instr(domain(0),<span class=\"st0\">\"[\"</span>) <span class=\"kw3\">And</span> Instr(domain(0),<span class=\"st0\">\"]:\"</span>) <span class=\"kw3\">Then</span><br/>\t\t\thost = Mid(domain(0),1,InStr(1,domain(0),<span class=\"st0\">\"]\"</span>))<br/>\t\t\tport = Mid(domain(0),InStr(1,domain(0),<span class=\"st0\">\"]\"</span>)+2,Len(domain(0))-(InStr(1,domain(0),<span class=\"st0\">\"]\"</span>)+1))<br/>\t\t\tparse_url = parse_url &amp; vbCrLf &amp; <span class=\"st0\">\"Domain: \"</span> &amp; host &amp; vbCrLf &amp; <span class=\"st0\">\"Port: \"</span> &amp; port <br/>\t\t<span class=\"kw3\">Else</span><br/>\t\t\tparse_url = parse_url &amp; vbCrLf &amp; <span class=\"st0\">\"Domain: \"</span> &amp; domain(0)<br/>\t\t<span class=\"kw3\">End</span> <span class=\"kw3\">If</span><br/>\t\t<span class=\"co1\">'parse the path if exist<br/></span>\t\t<span class=\"kw3\">If</span> <span class=\"kw4\">UBound</span>(domain) &gt; 0 <span class=\"kw3\">Then</span><br/>\t\t\t<span class=\"kw3\">For</span> i = 1 <span class=\"kw3\">To</span> <span class=\"kw4\">UBound</span>(domain)<br/>\t\t\t\t<span class=\"kw3\">If</span> i &lt; <span class=\"kw4\">UBound</span>(domain) <span class=\"kw3\">Then</span><br/>\t\t\t\t\tpath = path &amp; domain(i) &amp; <span class=\"st0\">\"/\"</span><br/>\t\t\t\t<span class=\"kw3\">ElseIf</span> InStr(domain(i),<span class=\"st0\">\"?\"</span>) <span class=\"kw3\">Then</span><br/>\t\t\t\t\tpath = path &amp; Mid(domain(i),1,InStr(1,domain(i),<span class=\"st0\">\"?\"</span>)-1)<br/>\t\t\t\t\t<span class=\"kw3\">If</span> InStr(domain(i),<span class=\"st0\">\"#\"</span>) <span class=\"kw3\">Then</span><br/>\t\t\t\t\t\tquery = Mid(domain(i),InStr(1,domain(i),<span class=\"st0\">\"?\"</span>)+1,InStr(1,domain(i),<span class=\"st0\">\"#\"</span>)-InStr(1,domain(i),<span class=\"st0\">\"?\"</span>)-1)<br/>\t\t\t\t\t\tfragment = Mid(domain(i),InStr(1,domain(i),<span class=\"st0\">\"#\"</span>)+1,Len(domain(i))-InStr(1,domain(i),<span class=\"st0\">\"#\"</span>))<br/>\t\t\t\t\t\tpath = path &amp; vbcrlf &amp; <span class=\"st0\">\"Query: \"</span> &amp; query &amp; vbCrLf &amp; <span class=\"st0\">\"Fragment: \"</span> &amp; fragment<br/>\t\t\t\t\t<span class=\"kw3\">Else</span><br/>\t\t\t\t\t\tquery = Mid(domain(i),InStr(1,domain(i),<span class=\"st0\">\"?\"</span>)+1,Len(domain(i))-InStr(1,domain(i),<span class=\"st0\">\"?\"</span>))<br/>\t\t\t\t\t\tpath = path &amp; vbcrlf &amp; <span class=\"st0\">\"Query: \"</span> &amp; query<br/>\t\t\t\t\t<span class=\"kw3\">End</span> <span class=\"kw3\">If</span><br/>\t\t\t\t<span class=\"kw3\">ElseIf</span> InStr(domain(i),<span class=\"st0\">\"#\"</span>) <span class=\"kw3\">Then</span><br/>\t\t\t\t\tfragment = Mid(domain(i),InStr(1,domain(i),<span class=\"st0\">\"#\"</span>)+1,Len(domain(i))-InStr(1,domain(i),<span class=\"st0\">\"#\"</span>))<br/>\t\t\t\t\tpath = path &amp; Mid(domain(i),1,InStr(1,domain(i),<span class=\"st0\">\"#\"</span>)-1) &amp; vbCrLf &amp;_<br/>\t\t\t\t\t\t <span class=\"st0\">\"Fragment: \"</span> &amp; fragment<br/>\t\t\t\t<span class=\"kw3\">Else</span><br/>\t\t\t\t\tpath = path &amp; domain(i)<br/>\t\t\t\t<span class=\"kw3\">End</span> <span class=\"kw3\">If</span><br/>\t\t\t<span class=\"kw3\">Next</span><br/>\t\t\tparse_url = parse_url &amp; vbCrLf &amp; <span class=\"st0\">\"Path: \"</span> &amp; path <br/>\t\t<span class=\"kw3\">End</span> <span class=\"kw3\">If</span><br/>\t<span class=\"kw3\">ElseIf</span> InStr(url,<span class=\"st0\">\":\"</span>) <span class=\"kw3\">Then</span><br/>\t\tscheme = Mid(url,1,InStr(1,url,<span class=\"st0\">\":\"</span>)-1)<br/>\t\tpath = Mid(url,InStr(1,url,<span class=\"st0\">\":\"</span>)+1,Len(url)-InStr(1,url,<span class=\"st0\">\":\"</span>))<br/>\t\tparse_url = parse_url &amp; vbcrlf &amp; <span class=\"st0\">\"Scheme: \"</span> &amp; scheme &amp; vbCrLf &amp; <span class=\"st0\">\"Path: \"</span> &amp; path<br/>\t<span class=\"kw3\">Else</span><br/>\t\tparse_url = parse_url &amp; vbcrlf &amp; <span class=\"st0\">\"Invalid!!!\"</span><br/>\t<span class=\"kw3\">End</span> <span class=\"kw3\">If</span><br/>\u00a0<br/><span class=\"kw3\">End</span> <span class=\"kw2\">Function</span><br/>\u00a0<br/><span class=\"co1\">'test the convoluted function\u00a0:-(<br/></span>WScript.StdOut.WriteLine parse_url(<span class=\"st0\">\"foo://example.com:8042/over/there?name=ferret#nose\"</span>)<br/>WScript.StdOut.WriteLine <span class=\"st0\">\"-------------------------------\"</span><br/>WScript.StdOut.WriteLine parse_url(<span class=\"st0\">\"jdbc:mysql://test_user:<a class=\"__cf_email__\" data-cfemail=\"335c464643434340404040735f5c50525f5b5c4047\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>:3306/sakila?profileSQL=true\"</span>)<br/>WScript.StdOut.WriteLine <span class=\"st0\">\"-------------------------------\"</span><br/>WScript.StdOut.WriteLine parse_url(<span class=\"st0\">\"ftp://ftp.is.co.za/rfc/rfc1808.txt\"</span>)<br/>WScript.StdOut.WriteLine <span class=\"st0\">\"-------------------------------\"</span><br/>WScript.StdOut.WriteLine parse_url(<span class=\"st0\">\"http://www.ietf.org/rfc/rfc2396.txt#header1\"</span>)<br/>WScript.StdOut.WriteLine <span class=\"st0\">\"-------------------------------\"</span><br/>WScript.StdOut.WriteLine parse_url(<span class=\"st0\">\"ldap://[2001:db8::7]/c=GB?objectClass=one&amp;objectClass=two\"</span>)<br/>WScript.StdOut.WriteLine <span class=\"st0\">\"-------------------------------\"</span><br/>WScript.StdOut.WriteLine parse_url(<span class=\"st0\">\"mailto:<a class=\"__cf_email__\" data-cfemail=\"12587d7a7c3c567d7752776a737f627e773c717d7f\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\"</span>)<br/>WScript.StdOut.WriteLine <span class=\"st0\">\"-------------------------------\"</span><br/>WScript.StdOut.WriteLine parse_url(<span class=\"st0\">\"news:comp.infosystems.www.servers.unix\"</span>)<br/>WScript.StdOut.WriteLine <span class=\"st0\">\"-------------------------------\"</span><br/>WScript.StdOut.WriteLine parse_url(<span class=\"st0\">\"tel:+1-816-555-1212\"</span>)<br/>WScript.StdOut.WriteLine <span class=\"st0\">\"-------------------------------\"</span><br/>WScript.StdOut.WriteLine parse_url(<span class=\"st0\">\"telnet://192.0.2.16:80/\"</span>)<br/>WScript.StdOut.WriteLine <span class=\"st0\">\"-------------------------------\"</span><br/>WScript.StdOut.WriteLine parse_url(<span class=\"st0\">\"urn:oasis:names:specification:docbook:dtd:xml:4.1.2\"</span>)<br/>WScript.StdOut.WriteLine <span class=\"st0\">\"-------------------------------\"</span><br/>WScript.StdOut.WriteLine parse_url(<span class=\"st0\">\"this code is messy, long, and needs a makeover!!!\"</span>)<br/>\u00a0</pre>"}]}