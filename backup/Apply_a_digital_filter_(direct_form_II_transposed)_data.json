{"task": "Apply_a_digital_filter_(direct_form_II_transposed)", "blocks": [{"lang": "C", "loc": 115, "block": "<pre class=\"c highlighted_source\">\u00a0<br/><span class=\"co2\">#include&lt;stdlib.h&gt;</span><br/><span class=\"co2\">#include&lt;string.h&gt;</span><br/><span class=\"co2\">#include&lt;stdio.h&gt;</span><br/>\u00a0<br/><span class=\"co2\">#define MAX_LEN 1000</span><br/>\u00a0<br/><span class=\"kw4\">typedef</span> <span class=\"kw4\">struct</span><span class=\"br0\">{</span><br/>\t<span class=\"kw4\">float</span><span class=\"sy0\">*</span> values<span class=\"sy0\">;</span><br/>\t<span class=\"kw4\">int</span> size<span class=\"sy0\">;</span><br/><span class=\"br0\">}</span>vector<span class=\"sy0\">;</span><br/>\u00a0<br/>vector extractVector<span class=\"br0\">(</span><span class=\"kw4\">char</span><span class=\"sy0\">*</span> str<span class=\"br0\">)</span><span class=\"br0\">{</span><br/>\tvector coeff<span class=\"sy0\">;</span><br/>\t<span class=\"kw4\">int</span> i<span class=\"sy0\">=</span><span class=\"nu0\">0</span><span class=\"sy0\">,</span>count <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>\t<span class=\"kw4\">char</span><span class=\"sy0\">*</span> token<span class=\"sy0\">;</span><br/>\u00a0<br/>\t<span class=\"kw1\">while</span><span class=\"br0\">(</span>str<span class=\"br0\">[</span>i<span class=\"br0\">]</span><span class=\"sy0\">!=</span><span class=\"nu8\">00</span><span class=\"br0\">)</span><span class=\"br0\">{</span><br/>\t\t<span class=\"kw1\">if</span><span class=\"br0\">(</span>str<span class=\"br0\">[</span>i<span class=\"sy0\">++</span><span class=\"br0\">]</span><span class=\"sy0\">==</span><span class=\"st0\">' '</span><span class=\"br0\">)</span><br/>\t\t\tcount<span class=\"sy0\">++;</span><br/>\t<span class=\"br0\">}</span><br/>\u00a0<br/>\tcoeff.<span class=\"me1\">values</span> <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"kw4\">float</span><span class=\"sy0\">*</span><span class=\"br0\">)</span><a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/malloc.html\"><span class=\"kw3\">malloc</span></a><span class=\"br0\">(</span>count<span class=\"sy0\">*</span><span class=\"kw4\">sizeof</span><span class=\"br0\">(</span><span class=\"kw4\">float</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\tcoeff.<span class=\"me1\">size</span> <span class=\"sy0\">=</span> count<span class=\"sy0\">;</span><br/>\u00a0<br/>\ttoken <span class=\"sy0\">=</span> <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/strtok.html\"><span class=\"kw3\">strtok</span></a><span class=\"br0\">(</span>str<span class=\"sy0\">,</span><span class=\"st0\">\" \"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>\ti <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span><br/>\u00a0<br/>\t<span class=\"kw1\">while</span><span class=\"br0\">(</span>token<span class=\"sy0\">!=</span>NULL<span class=\"br0\">)</span><span class=\"br0\">{</span><br/>\t\tcoeff.<span class=\"me1\">values</span><span class=\"br0\">[</span>i<span class=\"sy0\">++</span><span class=\"br0\">]</span> <span class=\"sy0\">=</span> <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/atof.html\"><span class=\"kw3\">atof</span></a><span class=\"br0\">(</span>token<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t\ttoken <span class=\"sy0\">=</span> <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/strtok.html\"><span class=\"kw3\">strtok</span></a><span class=\"br0\">(</span>NULL<span class=\"sy0\">,</span><span class=\"st0\">\" \"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t<span class=\"br0\">}</span><br/>\u00a0<br/>\t<span class=\"kw1\">return</span> coeff<span class=\"sy0\">;</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/>vector processSignalFile<span class=\"br0\">(</span><span class=\"kw4\">char</span><span class=\"sy0\">*</span> fileName<span class=\"br0\">)</span><span class=\"br0\">{</span><br/>\t<span class=\"kw4\">int</span> i<span class=\"sy0\">,</span>j<span class=\"sy0\">;</span><br/>\t<span class=\"kw4\">float</span> sum<span class=\"sy0\">;</span><br/>\t<span class=\"kw4\">char</span> str<span class=\"br0\">[</span>MAX_LEN<span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>\tvector coeff1<span class=\"sy0\">,</span>coeff2<span class=\"sy0\">,</span>signal<span class=\"sy0\">,</span>filteredSignal<span class=\"sy0\">;</span><br/>\u00a0<br/>\tFILE<span class=\"sy0\">*</span> fp <span class=\"sy0\">=</span> <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/fopen.html\"><span class=\"kw3\">fopen</span></a><span class=\"br0\">(</span>fileName<span class=\"sy0\">,</span><span class=\"st0\">\"r\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>\t<a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/fgets.html\"><span class=\"kw3\">fgets</span></a><span class=\"br0\">(</span>str<span class=\"sy0\">,</span>MAX_LEN<span class=\"sy0\">,</span>fp<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\tcoeff1 <span class=\"sy0\">=</span> extractVector<span class=\"br0\">(</span>str<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>\t<a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/fgets.html\"><span class=\"kw3\">fgets</span></a><span class=\"br0\">(</span>str<span class=\"sy0\">,</span>MAX_LEN<span class=\"sy0\">,</span>fp<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\tcoeff2 <span class=\"sy0\">=</span> extractVector<span class=\"br0\">(</span>str<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>\t<a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/fgets.html\"><span class=\"kw3\">fgets</span></a><span class=\"br0\">(</span>str<span class=\"sy0\">,</span>MAX_LEN<span class=\"sy0\">,</span>fp<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\tsignal <span class=\"sy0\">=</span> extractVector<span class=\"br0\">(</span>str<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>        <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/fclose.html\"><span class=\"kw3\">fclose</span></a><span class=\"br0\">(</span>fp<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>\tfilteredSignal.<span class=\"me1\">values</span> <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"kw4\">float</span><span class=\"sy0\">*</span><span class=\"br0\">)</span><a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/calloc.html\"><span class=\"kw3\">calloc</span></a><span class=\"br0\">(</span>signal.<span class=\"me1\">size</span><span class=\"sy0\">,</span><span class=\"kw4\">sizeof</span><span class=\"br0\">(</span><span class=\"kw4\">float</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\tfilteredSignal.<span class=\"me1\">size</span> <span class=\"sy0\">=</span> signal.<span class=\"me1\">size</span><span class=\"sy0\">;</span><br/>\u00a0<br/>\t<span class=\"kw1\">for</span><span class=\"br0\">(</span>i<span class=\"sy0\">=</span><span class=\"nu0\">0</span><span class=\"sy0\">;</span>i<span class=\"sy0\">&lt;</span>signal.<span class=\"me1\">size</span><span class=\"sy0\">;</span>i<span class=\"sy0\">++</span><span class=\"br0\">)</span><span class=\"br0\">{</span><br/>\t\tsum <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span><br/>\u00a0<br/>\t\t<span class=\"kw1\">for</span><span class=\"br0\">(</span>j<span class=\"sy0\">=</span><span class=\"nu0\">0</span><span class=\"sy0\">;</span>j<span class=\"sy0\">&lt;</span>coeff2.<span class=\"me1\">size</span><span class=\"sy0\">;</span>j<span class=\"sy0\">++</span><span class=\"br0\">)</span><span class=\"br0\">{</span><br/>\t\t\t<span class=\"kw1\">if</span><span class=\"br0\">(</span>i<span class=\"sy0\">-</span>j<span class=\"sy0\">&gt;=</span><span class=\"nu0\">0</span><span class=\"br0\">)</span><br/>\t\t\t\tsum <span class=\"sy0\">+=</span> coeff2.<span class=\"me1\">values</span><span class=\"br0\">[</span>j<span class=\"br0\">]</span><span class=\"sy0\">*</span>signal.<span class=\"me1\">values</span><span class=\"br0\">[</span>i<span class=\"sy0\">-</span>j<span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>\t\t<span class=\"br0\">}</span><br/>\u00a0<br/>\t\t<span class=\"kw1\">for</span><span class=\"br0\">(</span>j<span class=\"sy0\">=</span><span class=\"nu0\">0</span><span class=\"sy0\">;</span>j<span class=\"sy0\">&lt;</span>coeff1.<span class=\"me1\">size</span><span class=\"sy0\">;</span>j<span class=\"sy0\">++</span><span class=\"br0\">)</span><span class=\"br0\">{</span><br/>\t\t\t<span class=\"kw1\">if</span><span class=\"br0\">(</span>i<span class=\"sy0\">-</span>j<span class=\"sy0\">&gt;=</span><span class=\"nu0\">0</span><span class=\"br0\">)</span><br/>\t\t\t\tsum <span class=\"sy0\">-=</span> coeff1.<span class=\"me1\">values</span><span class=\"br0\">[</span>j<span class=\"br0\">]</span><span class=\"sy0\">*</span>filteredSignal.<span class=\"me1\">values</span><span class=\"br0\">[</span>i<span class=\"sy0\">-</span>j<span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>\t\t<span class=\"br0\">}</span><br/>\u00a0<br/>\t\tsum <span class=\"sy0\">/=</span> coeff1.<span class=\"me1\">values</span><span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>\t\tfilteredSignal.<span class=\"me1\">values</span><span class=\"br0\">[</span>i<span class=\"br0\">]</span> <span class=\"sy0\">=</span> sum<span class=\"sy0\">;</span><br/>\t<span class=\"br0\">}</span><br/>\u00a0<br/>\t<span class=\"kw1\">return</span> filteredSignal<span class=\"sy0\">;</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw4\">void</span> printVector<span class=\"br0\">(</span>vector v<span class=\"sy0\">,</span> <span class=\"kw4\">char</span><span class=\"sy0\">*</span> outputFile<span class=\"br0\">)</span><span class=\"br0\">{</span><br/>\t<span class=\"kw4\">int</span> i<span class=\"sy0\">;</span><br/>\u00a0<br/>\t<span class=\"kw1\">if</span><span class=\"br0\">(</span>outputFile<span class=\"sy0\">==</span>NULL<span class=\"br0\">)</span><span class=\"br0\">{</span><br/>\t\t<a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/printf.html\"><span class=\"kw3\">printf</span></a><span class=\"br0\">(</span><span class=\"st0\">\"[\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t\t<span class=\"kw1\">for</span><span class=\"br0\">(</span>i<span class=\"sy0\">=</span><span class=\"nu0\">0</span><span class=\"sy0\">;</span>i<span class=\"sy0\">&lt;</span>v.<span class=\"me1\">size</span><span class=\"sy0\">;</span>i<span class=\"sy0\">++</span><span class=\"br0\">)</span><br/>\t\t\t<a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/printf.html\"><span class=\"kw3\">printf</span></a><span class=\"br0\">(</span><span class=\"st0\">\"%.12f, \"</span><span class=\"sy0\">,</span>v.<span class=\"me1\">values</span><span class=\"br0\">[</span>i<span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t\t<a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/printf.html\"><span class=\"kw3\">printf</span></a><span class=\"br0\">(</span><span class=\"st0\">\"<span class=\"es1\">\\b</span><span class=\"es1\">\\b</span>]\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t<span class=\"br0\">}</span><br/>\u00a0<br/>\t<span class=\"kw1\">else</span><span class=\"br0\">{</span><br/>\t\tFILE<span class=\"sy0\">*</span> fp <span class=\"sy0\">=</span> <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/fopen.html\"><span class=\"kw3\">fopen</span></a><span class=\"br0\">(</span>outputFile<span class=\"sy0\">,</span><span class=\"st0\">\"w\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t\t<span class=\"kw1\">for</span><span class=\"br0\">(</span>i<span class=\"sy0\">=</span><span class=\"nu0\">0</span><span class=\"sy0\">;</span>i<span class=\"sy0\">&lt;</span>v.<span class=\"me1\">size</span><span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">;</span>i<span class=\"sy0\">++</span><span class=\"br0\">)</span><br/>\t\t\t<a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/fprintf.html\"><span class=\"kw3\">fprintf</span></a><span class=\"br0\">(</span>fp<span class=\"sy0\">,</span><span class=\"st0\">\"%.12f, \"</span><span class=\"sy0\">,</span>v.<span class=\"me1\">values</span><span class=\"br0\">[</span>i<span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t\t<a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/fprintf.html\"><span class=\"kw3\">fprintf</span></a><span class=\"br0\">(</span>fp<span class=\"sy0\">,</span><span class=\"st0\">\"%.12f\"</span><span class=\"sy0\">,</span>v.<span class=\"me1\">values</span><span class=\"br0\">[</span>i<span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t\t<a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/fclose.html\"><span class=\"kw3\">fclose</span></a><span class=\"br0\">(</span>fp<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t<span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw4\">int</span> main<span class=\"br0\">(</span><span class=\"kw4\">int</span> argC<span class=\"sy0\">,</span><span class=\"kw4\">char</span><span class=\"sy0\">*</span> argV<span class=\"br0\">[</span><span class=\"br0\">]</span><span class=\"br0\">)</span><br/><span class=\"br0\">{</span><br/>\t<span class=\"kw4\">char</span> <span class=\"sy0\">*</span>str<span class=\"sy0\">;</span><br/>\t<span class=\"kw1\">if</span><span class=\"br0\">(</span>argC<span class=\"sy0\">&lt;</span><span class=\"nu0\">2</span><span class=\"sy0\">||</span>argC<span class=\"sy0\">&gt;</span><span class=\"nu0\">3</span><span class=\"br0\">)</span><br/>\t\t<a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/printf.html\"><span class=\"kw3\">printf</span></a><span class=\"br0\">(</span><span class=\"st0\">\"Usage\u00a0:\u00a0%s &lt;name of signal data file and optional output file.&gt;\"</span><span class=\"sy0\">,</span>argV<span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t<span class=\"kw1\">else</span><span class=\"br0\">{</span><br/>\t\t<span class=\"kw1\">if</span><span class=\"br0\">(</span>argC<span class=\"sy0\">!=</span><span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"br0\">{</span><br/>\t\t\tstr <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"kw4\">char</span><span class=\"sy0\">*</span><span class=\"br0\">)</span><a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/malloc.html\"><span class=\"kw3\">malloc</span></a><span class=\"br0\">(</span><span class=\"br0\">(</span><a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/strlen.html\"><span class=\"kw3\">strlen</span></a><span class=\"br0\">(</span>argV<span class=\"br0\">[</span><span class=\"nu0\">2</span><span class=\"br0\">]</span><span class=\"br0\">)</span> <span class=\"sy0\">+</span> <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/strlen.html\"><span class=\"kw3\">strlen</span></a><span class=\"br0\">(</span>str<span class=\"br0\">)</span> <span class=\"sy0\">+</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy0\">*</span><span class=\"kw4\">sizeof</span><span class=\"br0\">(</span><span class=\"kw4\">char</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t\t\t<a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/strcpy.html\"><span class=\"kw3\">strcpy</span></a><span class=\"br0\">(</span>str<span class=\"sy0\">,</span><span class=\"st0\">\"written to \"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t\t<span class=\"br0\">}</span><br/>\t\t<a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/printf.html\"><span class=\"kw3\">printf</span></a><span class=\"br0\">(</span><span class=\"st0\">\"Filtered signal\u00a0%s\"</span><span class=\"sy0\">,</span><span class=\"br0\">(</span>argC<span class=\"sy0\">==</span><span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"sy0\">?</span><span class=\"st0\">\"is:<span class=\"es1\">\\n</span>\"</span><span class=\"sy0\">:</span><a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/strcat.html\"><span class=\"kw3\">strcat</span></a><span class=\"br0\">(</span>str<span class=\"sy0\">,</span>argV<span class=\"br0\">[</span><span class=\"nu0\">2</span><span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t\tprintVector<span class=\"br0\">(</span>processSignalFile<span class=\"br0\">(</span>argV<span class=\"br0\">[</span><span class=\"nu0\">1</span><span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy0\">,</span>argV<span class=\"br0\">[</span><span class=\"nu0\">2</span><span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t<span class=\"br0\">}</span><br/>\t<span class=\"kw1\">return</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span><br/><span class=\"br0\">}</span><br/>\u00a0</pre>"}, {"lang": "C++", "loc": 52, "block": "<pre class=\"cpp highlighted_source\"><span class=\"co2\">#include &lt;vector&gt;</span><br/><span class=\"co2\">#include &lt;iostream&gt;</span><br/><span class=\"kw2\">using</span> <span class=\"kw2\">namespace</span> std<span class=\"sy4\">;</span><br/>\u00a0<br/><span class=\"kw4\">void</span> Filter<span class=\"br0\">(</span><span class=\"kw4\">const</span> vector<span class=\"sy1\">&lt;</span><span class=\"kw4\">float</span><span class=\"sy1\">&gt;</span> <span class=\"sy3\">&amp;</span>b, <span class=\"kw4\">const</span> vector<span class=\"sy1\">&lt;</span><span class=\"kw4\">float</span><span class=\"sy1\">&gt;</span> <span class=\"sy3\">&amp;</span>a, <span class=\"kw4\">const</span> vector<span class=\"sy1\">&lt;</span><span class=\"kw4\">float</span><span class=\"sy1\">&gt;</span> <span class=\"sy3\">&amp;</span>in, vector<span class=\"sy1\">&lt;</span><span class=\"kw4\">float</span><span class=\"sy1\">&gt;</span> <span class=\"sy3\">&amp;</span>out<span class=\"br0\">)</span><br/><span class=\"br0\">{</span><br/>\u00a0<br/>\tout.<span class=\"me1\">resize</span><span class=\"br0\">(</span><span class=\"nu0\">0</span><span class=\"br0\">)</span><span class=\"sy4\">;</span><br/>\tout.<span class=\"me1\">resize</span><span class=\"br0\">(</span>in.<span class=\"me1\">size</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy4\">;</span><br/>\u00a0<br/>\t<span class=\"kw1\">for</span><span class=\"br0\">(</span><span class=\"kw4\">int</span> i<span class=\"sy1\">=</span><span class=\"nu0\">0</span><span class=\"sy4\">;</span> i <span class=\"sy1\">&lt;</span> in.<span class=\"me1\">size</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy4\">;</span> i<span class=\"sy2\">++</span><span class=\"br0\">)</span><br/>\t<span class=\"br0\">{</span><br/>\t\t<span class=\"kw4\">float</span> tmp <span class=\"sy1\">=</span> <span class=\"nu0\">0</span>.<span class=\"sy4\">;</span><br/>\t\t<span class=\"kw4\">int</span> j<span class=\"sy1\">=</span><span class=\"nu0\">0</span><span class=\"sy4\">;</span><br/>\t\tout<span class=\"br0\">[</span>i<span class=\"br0\">]</span> <span class=\"sy1\">=</span> <span class=\"nu0\">0</span>.<span class=\"me1\">f</span><span class=\"sy4\">;</span><br/>\t\t<span class=\"kw1\">for</span><span class=\"br0\">(</span>j<span class=\"sy1\">=</span><span class=\"nu0\">0</span><span class=\"sy4\">;</span> j <span class=\"sy1\">&lt;</span> b.<span class=\"me1\">size</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy4\">;</span> j<span class=\"sy2\">++</span><span class=\"br0\">)</span><br/>\t\t<span class=\"br0\">{</span><br/>\t\t\t<span class=\"kw1\">if</span><span class=\"br0\">(</span>i <span class=\"sy2\">-</span> j <span class=\"sy1\">&lt;</span> <span class=\"nu0\">0</span><span class=\"br0\">)</span> <span class=\"kw1\">continue</span><span class=\"sy4\">;</span><br/>\t\t\ttmp <span class=\"sy2\">+</span><span class=\"sy1\">=</span> b<span class=\"br0\">[</span>j<span class=\"br0\">]</span> <span class=\"sy2\">*</span> in<span class=\"br0\">[</span>i<span class=\"sy2\">-</span>j<span class=\"br0\">]</span><span class=\"sy4\">;</span><br/>\t\t<span class=\"br0\">}</span><br/>\u00a0<br/>\t\t<span class=\"kw1\">for</span><span class=\"br0\">(</span>j<span class=\"sy1\">=</span><span class=\"nu0\">1</span><span class=\"sy4\">;</span> j <span class=\"sy1\">&lt;</span> a.<span class=\"me1\">size</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy4\">;</span> j<span class=\"sy2\">++</span><span class=\"br0\">)</span><br/>\t\t<span class=\"br0\">{</span><br/>\t\t\t<span class=\"kw1\">if</span><span class=\"br0\">(</span>i <span class=\"sy2\">-</span> j <span class=\"sy1\">&lt;</span> <span class=\"nu0\">0</span><span class=\"br0\">)</span> <span class=\"kw1\">continue</span><span class=\"sy4\">;</span><br/>\t\t\ttmp <span class=\"sy2\">-</span><span class=\"sy1\">=</span> a<span class=\"br0\">[</span>j<span class=\"br0\">]</span><span class=\"sy2\">*</span>out<span class=\"br0\">[</span>i<span class=\"sy2\">-</span>j<span class=\"br0\">]</span><span class=\"sy4\">;</span><br/>\t\t<span class=\"br0\">}</span><br/>\u00a0<br/>\t\ttmp <span class=\"sy2\">/</span><span class=\"sy1\">=</span> a<span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span><span class=\"sy4\">;</span><br/>\t\tout<span class=\"br0\">[</span>i<span class=\"br0\">]</span> <span class=\"sy1\">=</span> tmp<span class=\"sy4\">;</span><br/>\t<span class=\"br0\">}</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw4\">int</span> main<span class=\"br0\">(</span><span class=\"br0\">)</span><br/><span class=\"br0\">{</span><br/>\tvector<span class=\"sy1\">&lt;</span><span class=\"kw4\">float</span><span class=\"sy1\">&gt;</span> sig <span class=\"sy1\">=</span> <span class=\"br0\">{</span><span class=\"sy2\">-</span><span class=\"nu16\">0.917843918645</span>,<span class=\"nu16\">0.141984778794</span>,<span class=\"nu16\">1.20536903482</span>,<span class=\"nu16\">0.190286794412</span>,<span class=\"sy2\">-</span><span class=\"nu16\">0.662370894973</span>,<span class=\"sy2\">-</span><span class=\"nu16\">1.00700480494</span>,\\<br/>\t\t<span class=\"sy2\">-</span><span class=\"nu16\">0.404707073677</span>,<span class=\"nu16\">0.800482325044</span>,<span class=\"nu16\">0.743500089861</span>,<span class=\"nu16\">1.01090520172</span>,<span class=\"nu16\">0.741527555207</span>,\\<br/>\t\t<span class=\"nu16\">0.277841675195</span>,<span class=\"nu16\">0.400833448236</span>,<span class=\"sy2\">-</span><span class=\"nu16\">0.2085993586</span>,<span class=\"sy2\">-</span><span class=\"nu16\">0.172842103641</span>,<span class=\"sy2\">-</span><span class=\"nu16\">0.134316096293</span>,\\<br/>\t\t<span class=\"nu16\">0.0259303398477</span>,<span class=\"nu16\">0.490105989562</span>,<span class=\"nu16\">0.549391221511</span>,<span class=\"nu16\">0.9047198589</span><span class=\"br0\">}</span><span class=\"sy4\">;</span><br/>\u00a0<br/>\t<span class=\"co1\">//Constants for a Butterworth filter (order 3, low pass)</span><br/>\tvector<span class=\"sy1\">&lt;</span><span class=\"kw4\">float</span><span class=\"sy1\">&gt;</span> a <span class=\"sy1\">=</span> <span class=\"br0\">{</span><span class=\"nu16\">1.00000000</span>, <span class=\"sy2\">-</span><span class=\"nu19\">2.77555756e-16</span>, <span class=\"nu19\">3.33333333e-01</span>, <span class=\"sy2\">-</span><span class=\"nu19\">1.85037171e-17</span><span class=\"br0\">}</span><span class=\"sy4\">;</span><br/>\tvector<span class=\"sy1\">&lt;</span><span class=\"kw4\">float</span><span class=\"sy1\">&gt;</span> b <span class=\"sy1\">=</span> <span class=\"br0\">{</span><span class=\"nu16\">0.16666667</span>, <span class=\"nu16\">0.5</span>, <span class=\"nu16\">0.5</span>, <span class=\"nu16\">0.16666667</span><span class=\"br0\">}</span><span class=\"sy4\">;</span><br/>\u00a0<br/>\tvector<span class=\"sy1\">&lt;</span><span class=\"kw4\">float</span><span class=\"sy1\">&gt;</span> result<span class=\"sy4\">;</span><br/>\tFilter<span class=\"br0\">(</span>b, a, sig, result<span class=\"br0\">)</span><span class=\"sy4\">;</span><br/>\u00a0<br/>\t<span class=\"kw1\">for</span><span class=\"br0\">(</span><span class=\"kw4\">size_t</span> i<span class=\"sy1\">=</span><span class=\"nu0\">0</span><span class=\"sy4\">;</span>i<span class=\"sy1\">&lt;</span>result.<span class=\"me1\">size</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy4\">;</span>i<span class=\"sy2\">++</span><span class=\"br0\">)</span><br/>\t\t<span class=\"kw3\">cout</span> <span class=\"sy1\">&lt;&lt;</span> result<span class=\"br0\">[</span>i<span class=\"br0\">]</span> <span class=\"sy1\">&lt;&lt;</span> <span class=\"st0\">\",\"</span><span class=\"sy4\">;</span><br/>\t<span class=\"kw3\">cout</span> <span class=\"sy1\">&lt;&lt;</span> endl<span class=\"sy4\">;</span>\t\t\t<br/>\u00a0<br/>\t<span class=\"kw1\">return</span> <span class=\"nu0\">0</span><span class=\"sy4\">;</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "C#", "loc": 42, "block": "<pre class=\"csharp highlighted_source\"><span class=\"kw1\">using</span> <span class=\"co3\">System</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"kw1\">namespace</span> ApplyDigitalFilter <span class=\"br0\">{</span><br/>    <span class=\"kw4\">class</span> Program <span class=\"br0\">{</span><br/>        <span class=\"kw1\">private</span> <span class=\"kw1\">static</span> <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> Filter<span class=\"br0\">(</span><span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> a, <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> b, <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> signal<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>            <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> result <span class=\"sy0\">=</span> <a href=\"http://www.google.com/search?q=new+msdn.microsoft.com\"><span class=\"kw3\">new</span></a> <span class=\"kw4\">double</span><span class=\"br0\">[</span>signal<span class=\"sy0\">.</span><span class=\"me1\">Length</span><span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>            <span class=\"kw1\">for</span> <span class=\"br0\">(</span><span class=\"kw4\">int</span> i <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span> i <span class=\"sy0\">&lt;</span> signal<span class=\"sy0\">.</span><span class=\"me1\">Length</span><span class=\"sy0\">;</span> <span class=\"sy0\">++</span>i<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>                <span class=\"kw4\">double</span> tmp <span class=\"sy0\">=</span> <span class=\"nu0\">0.0</span><span class=\"sy0\">;</span><br/>                <span class=\"kw1\">for</span> <span class=\"br0\">(</span><span class=\"kw4\">int</span> j <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span> j <span class=\"sy0\">&lt;</span> b<span class=\"sy0\">.</span><span class=\"me1\">Length</span><span class=\"sy0\">;</span> <span class=\"sy0\">++</span>j<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>                    <span class=\"kw1\">if</span> <span class=\"br0\">(</span>i <span class=\"sy0\">-</span> j <span class=\"sy0\">&lt;</span> <span class=\"nu0\">0</span><span class=\"br0\">)</span> <span class=\"kw1\">continue</span><span class=\"sy0\">;</span><br/>                    tmp <span class=\"sy0\">+=</span> b<span class=\"br0\">[</span>j<span class=\"br0\">]</span> <span class=\"sy0\">*</span> signal<span class=\"br0\">[</span>i <span class=\"sy0\">-</span> j<span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>                <span class=\"br0\">}</span><br/>                <span class=\"kw1\">for</span> <span class=\"br0\">(</span><span class=\"kw4\">int</span> j <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span> j <span class=\"sy0\">&lt;</span> a<span class=\"sy0\">.</span><span class=\"me1\">Length</span><span class=\"sy0\">;</span> <span class=\"sy0\">++</span>j<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>                    <span class=\"kw1\">if</span> <span class=\"br0\">(</span>i <span class=\"sy0\">-</span> j <span class=\"sy0\">&lt;</span> <span class=\"nu0\">0</span><span class=\"br0\">)</span> <span class=\"kw1\">continue</span><span class=\"sy0\">;</span><br/>                    tmp <span class=\"sy0\">-=</span> a<span class=\"br0\">[</span>j<span class=\"br0\">]</span> <span class=\"sy0\">*</span> result<span class=\"br0\">[</span>i <span class=\"sy0\">-</span> j<span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>                <span class=\"br0\">}</span><br/>                tmp <span class=\"sy0\">/=</span> a<span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>                result<span class=\"br0\">[</span>i<span class=\"br0\">]</span> <span class=\"sy0\">=</span> tmp<span class=\"sy0\">;</span><br/>            <span class=\"br0\">}</span><br/>            <span class=\"kw1\">return</span> result<span class=\"sy0\">;</span><br/>        <span class=\"br0\">}</span><br/>\u00a0<br/>        <span class=\"kw1\">static</span> <span class=\"kw4\">void</span> Main<span class=\"br0\">(</span><span class=\"kw4\">string</span><span class=\"br0\">[</span><span class=\"br0\">]</span> args<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>            <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> a <span class=\"sy0\">=</span> <a href=\"http://www.google.com/search?q=new+msdn.microsoft.com\"><span class=\"kw3\">new</span></a> <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> <span class=\"br0\">{</span> <span class=\"nu0\">1.00000000</span>, <span class=\"sy0\">-</span>2<span class=\"sy0\">.</span>77555756e<span class=\"sy0\">-</span>16, 3<span class=\"sy0\">.</span>33333333e<span class=\"sy0\">-</span>01, <span class=\"sy0\">-</span>1<span class=\"sy0\">.</span>85037171e<span class=\"sy0\">-</span>17 <span class=\"br0\">}</span><span class=\"sy0\">;</span><br/>            <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> b <span class=\"sy0\">=</span> <a href=\"http://www.google.com/search?q=new+msdn.microsoft.com\"><span class=\"kw3\">new</span></a> <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> <span class=\"br0\">{</span> <span class=\"nu0\">0.16666667</span>, <span class=\"nu0\">0.5</span>, <span class=\"nu0\">0.5</span>, <span class=\"nu0\">0.16666667</span> <span class=\"br0\">}</span><span class=\"sy0\">;</span><br/>\u00a0<br/>            <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> signal <span class=\"sy0\">=</span> <a href=\"http://www.google.com/search?q=new+msdn.microsoft.com\"><span class=\"kw3\">new</span></a> <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> <span class=\"br0\">{</span><br/>                <span class=\"sy0\">-</span><span class=\"nu0\">0.917843918645</span>, <span class=\"nu0\">0.141984778794</span>, <span class=\"nu0\">1.20536903482</span>, <span class=\"nu0\">0.190286794412</span>,<br/>                <span class=\"sy0\">-</span><span class=\"nu0\">0.662370894973</span>, <span class=\"sy0\">-</span><span class=\"nu0\">1.00700480494</span>, <span class=\"sy0\">-</span><span class=\"nu0\">0.404707073677</span>, <span class=\"nu0\">0.800482325044</span>,<br/>                <span class=\"nu0\">0.743500089861</span>, <span class=\"nu0\">1.01090520172</span>, <span class=\"nu0\">0.741527555207</span>, <span class=\"nu0\">0.277841675195</span>,<br/>                <span class=\"nu0\">0.400833448236</span>, <span class=\"sy0\">-</span><span class=\"nu0\">0.2085993586</span>, <span class=\"sy0\">-</span><span class=\"nu0\">0.172842103641</span>, <span class=\"sy0\">-</span><span class=\"nu0\">0.134316096293</span>,<br/>                <span class=\"nu0\">0.0259303398477</span>, <span class=\"nu0\">0.490105989562</span>, <span class=\"nu0\">0.549391221511</span>, <span class=\"nu0\">0.9047198589</span><br/>            <span class=\"br0\">}</span><span class=\"sy0\">;</span><br/>\u00a0<br/>            <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> result <span class=\"sy0\">=</span> Filter<span class=\"br0\">(</span>a, b, signal<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            <span class=\"kw1\">for</span> <span class=\"br0\">(</span><span class=\"kw4\">int</span> i <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span> i <span class=\"sy0\">&lt;</span> result<span class=\"sy0\">.</span><span class=\"me1\">Length</span><span class=\"sy0\">;</span> <span class=\"sy0\">++</span>i<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>                Console<span class=\"sy0\">.</span><span class=\"me1\">Write</span><span class=\"br0\">(</span><span class=\"st0\">\"{0,11:F8}\"</span>, result<span class=\"br0\">[</span>i<span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>                Console<span class=\"sy0\">.</span><span class=\"me1\">Write</span><span class=\"br0\">(</span><span class=\"br0\">(</span>i <span class=\"sy0\">+</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span> <span class=\"sy0\">%</span> <span class=\"nu0\">5</span> <span class=\"sy0\">!=</span> <span class=\"nu0\">0</span> <span class=\"sy0\">?</span> <span class=\"st0\">\", \"</span> <span class=\"sy0\">:</span> <span class=\"st0\">\"<span class=\"es0\">\\n</span>\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            <span class=\"br0\">}</span><br/>        <span class=\"br0\">}</span><br/>    <span class=\"br0\">}</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "D", "loc": 47, "block": "<pre class=\"d highlighted_source\"><span class=\"kw2\">import</span> std.<span class=\"me1\">stdio</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"kw2\">alias</span> T <span class=\"sy0\">=</span> <span class=\"kw4\">real</span><span class=\"sy0\">;</span><br/><span class=\"kw2\">alias</span> AT <span class=\"sy0\">=</span> T<span class=\"br0\">[</span><span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>\u00a0<br/>AT filter<span class=\"br0\">(</span><span class=\"kw4\">const</span> AT a<span class=\"sy0\">,</span> <span class=\"kw4\">const</span> AT b<span class=\"sy0\">,</span> <span class=\"kw4\">const</span> AT signal<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>    AT result <span class=\"sy0\">=</span> <span class=\"kw2\">new</span> T<span class=\"br0\">[</span>signal.<span class=\"me1\">length</span><span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>\u00a0<br/>    <span class=\"kw1\">foreach</span> <span class=\"br0\">(</span><span class=\"kw4\">int</span> i<span class=\"sy0\">;</span> <span class=\"nu0\">0</span><span class=\"sy0\">..</span><span class=\"me1\">signal</span>.<span class=\"me1\">length</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>        T tmp <span class=\"sy0\">=</span> <span class=\"nu16\">0.0</span><span class=\"sy0\">;</span><br/>        <span class=\"kw1\">foreach</span> <span class=\"br0\">(</span><span class=\"kw4\">int</span> j<span class=\"sy0\">;</span> <span class=\"nu0\">0</span><span class=\"sy0\">..</span><span class=\"me1\">b</span>.<span class=\"me1\">length</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>            <span class=\"kw1\">if</span> <span class=\"br0\">(</span>i<span class=\"sy0\">-</span>j<span class=\"sy0\">&lt;</span><span class=\"nu0\">0</span><span class=\"br0\">)</span> <span class=\"kw1\">continue</span><span class=\"sy0\">;</span><br/>            tmp <span class=\"sy0\">+=</span> b<span class=\"br0\">[</span>j<span class=\"br0\">]</span> <span class=\"sy0\">*</span> signal<span class=\"br0\">[</span>i<span class=\"sy0\">-</span>j<span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>        <span class=\"br0\">}</span><br/>        <span class=\"kw1\">foreach</span> <span class=\"br0\">(</span><span class=\"kw4\">int</span> j<span class=\"sy0\">;</span> <span class=\"nu0\">1</span><span class=\"sy0\">..</span><span class=\"me1\">a</span>.<span class=\"me1\">length</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>            <span class=\"kw1\">if</span> <span class=\"br0\">(</span>i<span class=\"sy0\">-</span>j<span class=\"sy0\">&lt;</span><span class=\"nu0\">0</span><span class=\"br0\">)</span> <span class=\"kw1\">continue</span><span class=\"sy0\">;</span><br/>            tmp <span class=\"sy0\">-=</span> a<span class=\"br0\">[</span>j<span class=\"br0\">]</span> <span class=\"sy0\">*</span> result<span class=\"br0\">[</span>i<span class=\"sy0\">-</span>j<span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>        <span class=\"br0\">}</span><br/>        tmp <span class=\"sy0\">/=</span> a<span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>        result<span class=\"br0\">[</span>i<span class=\"br0\">]</span> <span class=\"sy0\">=</span> tmp<span class=\"sy0\">;</span><br/>    <span class=\"br0\">}</span><br/>\u00a0<br/>    <span class=\"kw1\">return</span> result<span class=\"sy0\">;</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw4\">void</span> main<span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>    AT a <span class=\"sy0\">=</span> <span class=\"br0\">[</span><span class=\"nu16\">1.00000000</span><span class=\"sy0\">,</span> <span class=\"sy0\">-</span><span class=\"nu19\">2.77555756e-16</span><span class=\"sy0\">,</span> <span class=\"nu19\">3.33333333e-01</span><span class=\"sy0\">,</span> <span class=\"sy0\">-</span><span class=\"nu19\">1.85037171e-17</span><span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>    AT b <span class=\"sy0\">=</span> <span class=\"br0\">[</span><span class=\"nu16\">0.16666667</span><span class=\"sy0\">,</span> <span class=\"nu16\">0.5</span><span class=\"sy0\">,</span> <span class=\"nu16\">0.5</span><span class=\"sy0\">,</span> <span class=\"nu16\">0.16666667</span><span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>\u00a0<br/>    AT signal <span class=\"sy0\">=</span> <span class=\"br0\">[</span><br/>        <span class=\"sy0\">-</span><span class=\"nu16\">0.917843918645</span><span class=\"sy0\">,</span> <span class=\"nu16\">0.141984778794</span><span class=\"sy0\">,</span> <span class=\"nu16\">1.20536903482</span><span class=\"sy0\">,</span> <span class=\"nu16\">0.190286794412</span><span class=\"sy0\">,</span><br/>        <span class=\"sy0\">-</span><span class=\"nu16\">0.662370894973</span><span class=\"sy0\">,</span> <span class=\"sy0\">-</span><span class=\"nu16\">1.00700480494</span><span class=\"sy0\">,</span> <span class=\"sy0\">-</span><span class=\"nu16\">0.404707073677</span><span class=\"sy0\">,</span> <span class=\"nu16\">0.800482325044</span><span class=\"sy0\">,</span><br/>        <span class=\"nu16\">0.743500089861</span><span class=\"sy0\">,</span> <span class=\"nu16\">1.01090520172</span><span class=\"sy0\">,</span> <span class=\"nu16\">0.741527555207</span><span class=\"sy0\">,</span> <span class=\"nu16\">0.277841675195</span><span class=\"sy0\">,</span><br/>        <span class=\"nu16\">0.400833448236</span><span class=\"sy0\">,</span> <span class=\"sy0\">-</span><span class=\"nu16\">0.2085993586</span><span class=\"sy0\">,</span> <span class=\"sy0\">-</span><span class=\"nu16\">0.172842103641</span><span class=\"sy0\">,</span> <span class=\"sy0\">-</span><span class=\"nu16\">0.134316096293</span><span class=\"sy0\">,</span><br/>        <span class=\"nu16\">0.0259303398477</span><span class=\"sy0\">,</span> <span class=\"nu16\">0.490105989562</span><span class=\"sy0\">,</span> <span class=\"nu16\">0.549391221511</span><span class=\"sy0\">,</span> <span class=\"nu16\">0.9047198589</span><br/>    <span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>\u00a0<br/>    AT result <span class=\"sy0\">=</span> filter<span class=\"br0\">(</span>a<span class=\"sy0\">,</span>b<span class=\"sy0\">,</span>signal<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    <span class=\"kw1\">foreach</span> <span class=\"br0\">(</span>i<span class=\"sy0\">;</span> <span class=\"nu0\">0</span><span class=\"sy0\">..</span><span class=\"me1\">result</span>.<span class=\"me1\">length</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>        writef<span class=\"br0\">(</span><span class=\"st0\">\"% .8f\"</span><span class=\"sy0\">,</span> result<span class=\"br0\">[</span>i<span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <span class=\"kw1\">if</span> <span class=\"br0\">(</span><span class=\"br0\">(</span>i<span class=\"sy0\">+</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy0\">%</span><span class=\"nu19\">5</span> <span class=\"sy0\">!=</span> <span class=\"nu0\">0</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>            write<span class=\"br0\">(</span><span class=\"st0\">\", \"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <span class=\"br0\">}</span> <span class=\"kw1\">else</span> <span class=\"br0\">{</span><br/>            writeln<span class=\"sy0\">;</span><br/>        <span class=\"br0\">}</span><br/>    <span class=\"br0\">}</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "Go", "loc": 51, "block": "<pre class=\"go highlighted_source\"><span class=\"kw1\">package</span> main<br/>\u00a0<br/><span class=\"kw1\">import</span> <span class=\"st0\">\"fmt\"</span><br/>\u00a0<br/><span class=\"kw1\">type</span> filter <span class=\"kw4\">struct</span> <span class=\"sy1\">{</span><br/>    b<span class=\"sy1\">,</span> a <span class=\"sy1\">[]</span><span class=\"kw4\">float64</span><br/><span class=\"sy1\">}</span><br/>\u00a0<br/><span class=\"kw4\">func</span> <span class=\"sy1\">(</span>f filter<span class=\"sy1\">)</span> filter<span class=\"sy1\">(</span>in <span class=\"sy1\">[]</span><span class=\"kw4\">float64</span><span class=\"sy1\">)</span> <span class=\"sy1\">[]</span><span class=\"kw4\">float64</span> <span class=\"sy1\">{</span><br/>    out <span class=\"sy2\">:=</span> <span class=\"kw3\">make</span><span class=\"sy1\">([]</span><span class=\"kw4\">float64</span><span class=\"sy1\">,</span> <span class=\"kw3\">len</span><span class=\"sy1\">(</span>in<span class=\"sy1\">))</span><br/>    s <span class=\"sy2\">:=</span> <span class=\"nu0\">1</span><span class=\"sy3\">.</span> <span class=\"sy3\">/</span> f<span class=\"sy3\">.</span>a<span class=\"sy1\">[</span><span class=\"nu0\">0</span><span class=\"sy1\">]</span><br/>    <span class=\"kw1\">for</span> <span class=\"nu2\">i</span> <span class=\"sy2\">:=</span> <span class=\"kw1\">range</span> in <span class=\"sy1\">{</span><br/>        tmp <span class=\"sy2\">:=</span> <span class=\"nu0\">0</span><span class=\"sy3\">.</span><br/>        b <span class=\"sy2\">:=</span> f<span class=\"sy3\">.</span>b<br/>        <span class=\"kw1\">if</span> <span class=\"nu2\">i</span><span class=\"sy3\">+</span><span class=\"nu0\">1</span> &lt; <span class=\"kw3\">len</span><span class=\"sy1\">(</span>b<span class=\"sy1\">)</span> <span class=\"sy1\">{</span><br/>            b <span class=\"sy2\">=</span> b<span class=\"sy1\">[:</span><span class=\"nu2\">i</span><span class=\"sy3\">+</span><span class=\"nu0\">1</span><span class=\"sy1\">]</span><br/>        <span class=\"sy1\">}</span><br/>        <span class=\"kw1\">for</span> j<span class=\"sy1\">,</span> bj <span class=\"sy2\">:=</span> <span class=\"kw1\">range</span> b <span class=\"sy1\">{</span><br/>            tmp <span class=\"sy2\">+=</span> bj <span class=\"sy3\">*</span> in<span class=\"sy1\">[</span><span class=\"nu2\">i</span><span class=\"sy3\">-</span>j<span class=\"sy1\">]</span><br/>        <span class=\"sy1\">}</span><br/>        a <span class=\"sy2\">:=</span> f<span class=\"sy3\">.</span>a<span class=\"sy1\">[</span><span class=\"nu0\">1</span><span class=\"sy1\">:]</span><br/>        <span class=\"kw1\">if</span> <span class=\"nu2\">i</span> &lt; <span class=\"kw3\">len</span><span class=\"sy1\">(</span>a<span class=\"sy1\">)</span> <span class=\"sy1\">{</span><br/>            a <span class=\"sy2\">=</span> a<span class=\"sy1\">[:</span><span class=\"nu2\">i</span><span class=\"sy1\">]</span><br/>        <span class=\"sy1\">}</span><br/>        <span class=\"kw1\">for</span> j<span class=\"sy1\">,</span> aj <span class=\"sy2\">:=</span> <span class=\"kw1\">range</span> a <span class=\"sy1\">{</span><br/>            tmp <span class=\"sy2\">-=</span> aj <span class=\"sy3\">*</span> out<span class=\"sy1\">[</span><span class=\"nu2\">i</span><span class=\"sy3\">-</span>j<span class=\"sy3\">-</span><span class=\"nu0\">1</span><span class=\"sy1\">]</span><br/>        <span class=\"sy1\">}</span><br/>        out<span class=\"sy1\">[</span><span class=\"nu2\">i</span><span class=\"sy1\">]</span> <span class=\"sy2\">=</span> tmp <span class=\"sy3\">*</span> s<br/>    <span class=\"sy1\">}</span><br/>    <span class=\"kw1\">return</span> out<br/><span class=\"sy1\">}</span><br/>\u00a0<br/><span class=\"co1\">//Constants for a Butterworth filter (order 3, low pass)</span><br/><span class=\"kw1\">var</span> bwf <span class=\"sy2\">=</span> filter<span class=\"sy1\">{</span><br/>    a<span class=\"sy1\">:</span> <span class=\"sy1\">[]</span><span class=\"kw4\">float64</span><span class=\"sy1\">{</span><span class=\"nu0\">1</span><span class=\"sy3\">.</span><span class=\"nu0\">00000000</span><span class=\"sy1\">,</span> <span class=\"sy3\">-</span><span class=\"nu0\">2</span><span class=\"sy3\">.</span>77555756e<span class=\"sy3\">-</span><span class=\"nu0\">16</span><span class=\"sy1\">,</span> <span class=\"nu0\">3</span><span class=\"sy3\">.</span>33333333e<span class=\"sy3\">-</span><span class=\"nu0\">01</span><span class=\"sy1\">,</span> <span class=\"sy3\">-</span><span class=\"nu0\">1</span><span class=\"sy3\">.</span>85037171e<span class=\"sy3\">-</span><span class=\"nu0\">17</span><span class=\"sy1\">},</span><br/>    b<span class=\"sy1\">:</span> <span class=\"sy1\">[]</span><span class=\"kw4\">float64</span><span class=\"sy1\">{</span><span class=\"nu0\">0</span><span class=\"sy3\">.</span><span class=\"nu0\">16666667</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy3\">.</span><span class=\"nu0\">5</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy3\">.</span><span class=\"nu0\">5</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy3\">.</span><span class=\"nu0\">16666667</span><span class=\"sy1\">},</span><br/><span class=\"sy1\">}</span><br/>\u00a0<br/><span class=\"kw1\">var</span> sig <span class=\"sy2\">=</span> <span class=\"sy1\">[]</span><span class=\"kw4\">float64</span><span class=\"sy1\">{</span><br/>    <span class=\"sy3\">-</span><span class=\"nu0\">0</span><span class=\"sy3\">.</span><span class=\"nu0\">917843918645</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy3\">.</span><span class=\"nu0\">141984778794</span><span class=\"sy1\">,</span> <span class=\"nu0\">1</span><span class=\"sy3\">.</span><span class=\"nu0\">20536903482</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy3\">.</span><span class=\"nu0\">190286794412</span><span class=\"sy1\">,</span><br/>    <span class=\"sy3\">-</span><span class=\"nu0\">0</span><span class=\"sy3\">.</span><span class=\"nu0\">662370894973</span><span class=\"sy1\">,</span> <span class=\"sy3\">-</span><span class=\"nu0\">1</span><span class=\"sy3\">.</span>00700480494<span class=\"sy1\">,</span> <span class=\"sy3\">-</span><span class=\"nu0\">0</span><span class=\"sy3\">.</span><span class=\"nu0\">404707073677</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy3\">.</span><span class=\"nu0\">800482325044</span><span class=\"sy1\">,</span><br/>    <span class=\"nu0\">0</span><span class=\"sy3\">.</span><span class=\"nu0\">743500089861</span><span class=\"sy1\">,</span> <span class=\"nu0\">1</span><span class=\"sy3\">.</span>01090520172<span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy3\">.</span><span class=\"nu0\">741527555207</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy3\">.</span><span class=\"nu0\">277841675195</span><span class=\"sy1\">,</span><br/>    <span class=\"nu0\">0</span><span class=\"sy3\">.</span><span class=\"nu0\">400833448236</span><span class=\"sy1\">,</span> <span class=\"sy3\">-</span><span class=\"nu0\">0</span><span class=\"sy3\">.</span><span class=\"nu0\">2085993586</span><span class=\"sy1\">,</span> <span class=\"sy3\">-</span><span class=\"nu0\">0</span><span class=\"sy3\">.</span><span class=\"nu0\">172842103641</span><span class=\"sy1\">,</span> <span class=\"sy3\">-</span><span class=\"nu0\">0</span><span class=\"sy3\">.</span><span class=\"nu0\">134316096293</span><span class=\"sy1\">,</span><br/>    <span class=\"nu0\">0</span><span class=\"sy3\">.</span>0259303398477<span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy3\">.</span><span class=\"nu0\">490105989562</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy3\">.</span><span class=\"nu0\">549391221511</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy3\">.</span><span class=\"nu0\">9047198589</span><span class=\"sy1\">,</span><br/><span class=\"sy1\">}</span><br/>\u00a0<br/><span class=\"kw4\">func</span> main<span class=\"sy1\">()</span> <span class=\"sy1\">{</span><br/>    <span class=\"kw1\">for</span> _<span class=\"sy1\">,</span> v <span class=\"sy2\">:=</span> <span class=\"kw1\">range</span> bwf<span class=\"sy3\">.</span>filter<span class=\"sy1\">(</span>sig<span class=\"sy1\">)</span> <span class=\"sy1\">{</span><br/>        fmt<span class=\"sy3\">.</span>Printf<span class=\"sy1\">(</span><span class=\"st0\">\"%9.6f<span class=\"es1\">\\n</span>\"</span><span class=\"sy1\">,</span> v<span class=\"sy1\">)</span><br/>    <span class=\"sy1\">}</span><br/><span class=\"sy1\">}</span></pre>"}, {"lang": "Java", "loc": 38, "block": "<pre class=\"java highlighted_source\"><span class=\"kw1\">public</span> <span class=\"kw1\">class</span> DigitalFilter <span class=\"br0\">{</span><br/>    <span class=\"kw1\">private</span> <span class=\"kw1\">static</span> <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> filter<span class=\"br0\">(</span><span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> a, <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> b, <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> signal<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>        <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> result <span class=\"sy0\">=</span> <span class=\"kw1\">new</span> <span class=\"kw4\">double</span><span class=\"br0\">[</span>signal.<span class=\"me1\">length</span><span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>        <span class=\"kw1\">for</span> <span class=\"br0\">(</span><span class=\"kw4\">int</span> i <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span> i <span class=\"sy0\">&lt;</span> signal.<span class=\"me1\">length</span><span class=\"sy0\">;</span> <span class=\"sy0\">++</span>i<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>            <span class=\"kw4\">double</span> tmp <span class=\"sy0\">=</span> <span class=\"nu0\">0.0</span><span class=\"sy0\">;</span><br/>            <span class=\"kw1\">for</span> <span class=\"br0\">(</span><span class=\"kw4\">int</span> j <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span> j <span class=\"sy0\">&lt;</span> b.<span class=\"me1\">length</span><span class=\"sy0\">;</span> <span class=\"sy0\">++</span>j<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>                <span class=\"kw1\">if</span> <span class=\"br0\">(</span>i <span class=\"sy0\">-</span> j <span class=\"sy0\">&lt;</span> <span class=\"nu0\">0</span><span class=\"br0\">)</span> <span class=\"kw1\">continue</span><span class=\"sy0\">;</span><br/>                tmp <span class=\"sy0\">+=</span> b<span class=\"br0\">[</span>j<span class=\"br0\">]</span> <span class=\"sy0\">*</span> signal<span class=\"br0\">[</span>i <span class=\"sy0\">-</span> j<span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>            <span class=\"br0\">}</span><br/>            <span class=\"kw1\">for</span> <span class=\"br0\">(</span><span class=\"kw4\">int</span> j <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span> j <span class=\"sy0\">&lt;</span> a.<span class=\"me1\">length</span><span class=\"sy0\">;</span> <span class=\"sy0\">++</span>j<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>                <span class=\"kw1\">if</span> <span class=\"br0\">(</span>i <span class=\"sy0\">-</span> j <span class=\"sy0\">&lt;</span> <span class=\"nu0\">0</span><span class=\"br0\">)</span> <span class=\"kw1\">continue</span><span class=\"sy0\">;</span><br/>                tmp <span class=\"sy0\">-=</span> a<span class=\"br0\">[</span>j<span class=\"br0\">]</span> <span class=\"sy0\">*</span> result<span class=\"br0\">[</span>i <span class=\"sy0\">-</span> j<span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>            <span class=\"br0\">}</span><br/>            tmp <span class=\"sy0\">/=</span> a<span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>            result<span class=\"br0\">[</span>i<span class=\"br0\">]</span> <span class=\"sy0\">=</span> tmp<span class=\"sy0\">;</span><br/>        <span class=\"br0\">}</span><br/>        <span class=\"kw1\">return</span> result<span class=\"sy0\">;</span><br/>    <span class=\"br0\">}</span><br/>\u00a0<br/>    <span class=\"kw1\">public</span> <span class=\"kw1\">static</span> <span class=\"kw4\">void</span> main<span class=\"br0\">(</span><a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">String</span></a><span class=\"br0\">[</span><span class=\"br0\">]</span> args<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>        <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> a <span class=\"sy0\">=</span> <span class=\"kw1\">new</span> <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span><span class=\"br0\">{</span><span class=\"nu0\">1.00000000</span>, <span class=\"sy0\">-</span>2.77555756e<span class=\"sy0\">-</span>16, 3.33333333e<span class=\"sy0\">-</span>01, <span class=\"sy0\">-</span>1.85037171e<span class=\"sy0\">-</span>17<span class=\"br0\">}</span><span class=\"sy0\">;</span><br/>        <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> b <span class=\"sy0\">=</span> <span class=\"kw1\">new</span> <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span><span class=\"br0\">{</span><span class=\"nu0\">0.16666667</span>, <span class=\"nu0\">0.5</span>, <span class=\"nu0\">0.5</span>, <span class=\"nu0\">0.16666667</span><span class=\"br0\">}</span><span class=\"sy0\">;</span><br/>\u00a0<br/>        <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> signal <span class=\"sy0\">=</span> <span class=\"kw1\">new</span> <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span><span class=\"br0\">{</span><br/>            <span class=\"sy0\">-</span><span class=\"nu0\">0.917843918645</span>, <span class=\"nu0\">0.141984778794</span>, <span class=\"nu0\">1.20536903482</span>, <span class=\"nu0\">0.190286794412</span>,<br/>            <span class=\"sy0\">-</span><span class=\"nu0\">0.662370894973</span>, <span class=\"sy0\">-</span><span class=\"nu0\">1.00700480494</span>, <span class=\"sy0\">-</span><span class=\"nu0\">0.404707073677</span>, <span class=\"nu0\">0.800482325044</span>,<br/>            <span class=\"nu0\">0.743500089861</span>, <span class=\"nu0\">1.01090520172</span>, <span class=\"nu0\">0.741527555207</span>, <span class=\"nu0\">0.277841675195</span>,<br/>            <span class=\"nu0\">0.400833448236</span>, <span class=\"sy0\">-</span><span class=\"nu0\">0.2085993586</span>, <span class=\"sy0\">-</span><span class=\"nu0\">0.172842103641</span>, <span class=\"sy0\">-</span><span class=\"nu0\">0.134316096293</span>,<br/>            <span class=\"nu0\">0.0259303398477</span>, <span class=\"nu0\">0.490105989562</span>, <span class=\"nu0\">0.549391221511</span>, <span class=\"nu0\">0.9047198589</span><br/>        <span class=\"br0\">}</span><span class=\"sy0\">;</span><br/>\u00a0<br/>        <span class=\"kw4\">double</span><span class=\"br0\">[</span><span class=\"br0\">]</span> result <span class=\"sy0\">=</span> filter<span class=\"br0\">(</span>a, b, signal<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <span class=\"kw1\">for</span> <span class=\"br0\">(</span><span class=\"kw4\">int</span> i <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span> i <span class=\"sy0\">&lt;</span> result.<span class=\"me1\">length</span><span class=\"sy0\">;</span> <span class=\"sy0\">++</span>i<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>            <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">printf</span><span class=\"br0\">(</span><span class=\"st0\">\"% .8f\"</span>, result<span class=\"br0\">[</span>i<span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">print</span><span class=\"br0\">(</span><span class=\"br0\">(</span>i <span class=\"sy0\">+</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span> <span class=\"sy0\">%</span> <span class=\"nu0\">5</span> <span class=\"sy0\">!=</span> <span class=\"nu0\">0</span> <span class=\"sy0\">?</span> <span class=\"st0\">\", \"</span> <span class=\"sy0\">:</span> <span class=\"st0\">\"<span class=\"es0\">\\n</span>\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <span class=\"br0\">}</span><br/>    <span class=\"br0\">}</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "Julia", "loc": 18, "block": "<pre class=\"text highlighted_source\">function DF2TFilter(a::Vector, b::Vector, sig::Vector)<br/>    rst = zeros(sig)<br/>    for i in eachindex(sig)<br/>        tmp =  sum(b[j] * sig[i-j+1] for j in 1:min(i, length(b)))<br/>        tmp -= sum(a[j] * rst[i-j+1] for j in 1:min(i, length(a)))<br/>        rst[i] = tmp / a[1]<br/>    end<br/>    return rst<br/>end<br/>\u00a0<br/>acoef = [1.00000000, -2.77555756e-16, 3.33333333e-01, -1.85037171e-17]<br/>bcoef = [0.16666667, 0.5, 0.5, 0.16666667]<br/>signal = [-0.917843918645,  0.141984778794, 1.20536903482, 0.190286794412,<br/>          -0.662370894973, -1.00700480494, -0.404707073677,  0.800482325044,<br/>           0.743500089861,  1.01090520172,  0.741527555207,  0.277841675195,<br/>           0.400833448236, -0.2085993586,  -0.172842103641, -0.134316096293,<br/>           0.0259303398477, 0.490105989562, 0.549391221511,  0.9047198589]<br/>@show DF2TFilter(acoef, bcoef, signal)</pre>"}, {"lang": "Kotlin", "loc": 38, "block": "<pre class=\"scala highlighted_source\"><span class=\"co1\">// version 1.1.3</span><br/>\u00a0<br/>fun filter<span class=\"br0\">(</span>a<span class=\"sy0\">:</span> DoubleArray, b<span class=\"sy0\">:</span> DoubleArray, signal<span class=\"sy0\">:</span> DoubleArray<span class=\"br0\">)</span><span class=\"sy0\">:</span> DoubleArray <span class=\"br0\">{</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> result <span class=\"sy0\">=</span> DoubleArray<span class=\"br0\">(</span>signal.<span class=\"me1\">size</span><span class=\"br0\">)</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">for</span></a> <span class=\"br0\">(</span>i in <span class=\"nu0\">0</span> until signal.<span class=\"me1\">size</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>        <a href=\"http://scala-lang.org\"><span class=\"kw1\">var</span></a> tmp <span class=\"sy0\">=</span> <span class=\"nu0\">0.0</span><br/>        <a href=\"http://scala-lang.org\"><span class=\"kw1\">for</span></a> <span class=\"br0\">(</span>j in <span class=\"nu0\">0</span> until b.<span class=\"me1\">size</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>            <a href=\"http://scala-lang.org\"><span class=\"kw1\">if</span></a> <span class=\"br0\">(</span>i - j <span class=\"sy0\">&lt;</span> <span class=\"nu0\">0</span><span class=\"br0\">)</span> continue<br/>            tmp +<span class=\"sy0\">=</span> b<span class=\"br0\">[</span>j<span class=\"br0\">]</span> <span class=\"sy0\">*</span> signal<span class=\"br0\">[</span>i - j<span class=\"br0\">]</span><br/>        <span class=\"br0\">}</span><br/>        <a href=\"http://scala-lang.org\"><span class=\"kw1\">for</span></a> <span class=\"br0\">(</span>j in <span class=\"nu0\">1</span> until a.<span class=\"me1\">size</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>            <a href=\"http://scala-lang.org\"><span class=\"kw1\">if</span></a> <span class=\"br0\">(</span>i - j <span class=\"sy0\">&lt;</span> <span class=\"nu0\">0</span><span class=\"br0\">)</span> continue<br/>            tmp -<span class=\"sy0\">=</span> a<span class=\"br0\">[</span>j<span class=\"br0\">]</span> <span class=\"sy0\">*</span> result<span class=\"br0\">[</span>i - j<span class=\"br0\">]</span><br/>        <span class=\"br0\">}</span><br/>        tmp /<span class=\"sy0\">=</span> a<span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span><br/>        result<span class=\"br0\">[</span>i<span class=\"br0\">]</span> <span class=\"sy0\">=</span> tmp<br/>    <span class=\"br0\">}</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">return</span></a> result<br/><span class=\"br0\">}</span><br/>\u00a0<br/>fun main<span class=\"br0\">(</span>args<span class=\"sy0\">:</span> Array<span class=\"sy0\">&lt;</span>String<span class=\"sy0\">&gt;</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> a <span class=\"sy0\">=</span> doubleArrayOf<span class=\"br0\">(</span><span class=\"nu0\">1.00000000</span>, -2.77555756e-16, 3.33333333e-01, -1.85037171e-17<span class=\"br0\">)</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> b <span class=\"sy0\">=</span> doubleArrayOf<span class=\"br0\">(</span><span class=\"nu0\">0.16666667</span>, <span class=\"nu0\">0.5</span>, <span class=\"nu0\">0.5</span>, <span class=\"nu0\">0.16666667</span><span class=\"br0\">)</span><br/>\u00a0<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> signal <span class=\"sy0\">=</span> doubleArrayOf<span class=\"br0\">(</span><br/>        -<span class=\"nu0\">0.917843918645</span>, <span class=\"nu0\">0.141984778794</span>, <span class=\"nu0\">1.20536903482</span>, <span class=\"nu0\">0.190286794412</span>,<br/>        -<span class=\"nu0\">0.662370894973</span>, -<span class=\"nu0\">1.00700480494</span>, -<span class=\"nu0\">0.404707073677</span>, <span class=\"nu0\">0.800482325044</span>,<br/>        <span class=\"nu0\">0.743500089861</span>, <span class=\"nu0\">1.01090520172</span>, <span class=\"nu0\">0.741527555207</span>, <span class=\"nu0\">0.277841675195</span>,<br/>        <span class=\"nu0\">0.400833448236</span>, -<span class=\"nu0\">0.2085993586</span>, -<span class=\"nu0\">0.172842103641</span>, -<span class=\"nu0\">0.134316096293</span>,<br/>        <span class=\"nu0\">0.0259303398477</span>, <span class=\"nu0\">0.490105989562</span>, <span class=\"nu0\">0.549391221511</span>, <span class=\"nu0\">0.9047198589</span><br/>    <span class=\"br0\">)</span><br/>\u00a0<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> result <span class=\"sy0\">=</span> filter<span class=\"br0\">(</span>a, b, signal<span class=\"br0\">)</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">for</span></a> <span class=\"br0\">(</span>i in <span class=\"nu0\">0</span> until result.<span class=\"me1\">size</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>        print<span class=\"br0\">(</span><span class=\"st0\">\"% .8f\"</span>.<span class=\"me1\">format</span><span class=\"br0\">(</span>result<span class=\"br0\">[</span>i<span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>        print<span class=\"br0\">(</span><a href=\"http://scala-lang.org\"><span class=\"kw1\">if</span></a> <span class=\"br0\">(</span><span class=\"br0\">(</span>i + <span class=\"nu0\">1</span><span class=\"br0\">)</span> <span class=\"sy0\">%</span> <span class=\"nu0\">5</span> <span class=\"sy0\">!=</span> <span class=\"nu0\">0</span><span class=\"br0\">)</span> <span class=\"st0\">\", \"</span> <a href=\"http://scala-lang.org\"><span class=\"kw1\">else</span></a> <span class=\"st0\">\"<span class=\"es1\">\\n</span>\"</span><span class=\"br0\">)</span><br/>    <span class=\"br0\">}</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "MATLAB", "loc": 18, "block": "<pre class=\"matlab highlighted_source\">\u00a0<br/>signal = <span class=\"br0\">[</span>-<span class=\"nu0\">0.917843918645</span>, <span class=\"nu0\">0.141984778794</span>, <span class=\"nu0\">1.20536903482</span>, <span class=\"nu0\">0.190286794412</span>, -<span class=\"nu0\">0.662370894973</span>, -<span class=\"nu0\">1.00700480494</span>, -<span class=\"nu0\">0.404707073677</span> ,<span class=\"nu0\">0.800482325044</span>, <span class=\"nu0\">0.743500089861</span>, <span class=\"nu0\">1.01090520172</span>, <span class=\"nu0\">0.741527555207</span>, <span class=\"nu0\">0.277841675195</span>, <span class=\"nu0\">0.400833448236</span>, -<span class=\"nu0\">0.2085993586</span>, -<span class=\"nu0\">0.172842103641</span>, -<span class=\"nu0\">0.134316096293</span>, <span class=\"nu0\">0.0259303398477</span>, <span class=\"nu0\">0.490105989562</span>, <span class=\"nu0\">0.549391221511</span>, <span class=\"nu0\">0.9047198589</span><span class=\"br0\">]</span>;<br/>a = <span class=\"br0\">[</span><span class=\"nu0\">1.00000000</span>, -2.77555756e-16, 3.33333333e-01, -1.85037171e-17<span class=\"br0\">]</span>;<br/>b = <span class=\"br0\">[</span><span class=\"nu0\">0.16666667</span>, <span class=\"nu0\">0.5</span>, <span class=\"nu0\">0.5</span>, <span class=\"nu0\">0.16666667</span><span class=\"br0\">]</span>;<br/>\u00a0<br/>out = <a href=\"http://www.mathworks.com/access/helpdesk/help/techdoc/ref/filter.html\"><span class=\"kw2\">filter</span></a><span class=\"br0\">(</span>b,a,signal<span class=\"br0\">)</span><br/>\u00a0<br/><a href=\"http://www.mathworks.com/access/helpdesk/help/techdoc/ref/figure.html\"><span class=\"kw2\">figure</span></a><br/><a href=\"http://www.mathworks.com/access/helpdesk/help/techdoc/ref/subplot.html\"><span class=\"kw2\">subplot</span></a><span class=\"br0\">(</span><span class=\"nu0\">1</span>,<span class=\"nu0\">2</span>,<span class=\"nu0\">1</span><span class=\"br0\">)</span><br/><a href=\"http://www.mathworks.com/access/helpdesk/help/techdoc/ref/stem.html\"><span class=\"kw2\">stem</span></a><span class=\"br0\">(</span><span class=\"nu0\">0</span>:<span class=\"nu0\">19</span>, signal<span class=\"br0\">)</span><br/><a href=\"http://www.mathworks.com/access/helpdesk/help/techdoc/ref/xlabel.html\"><span class=\"kw2\">xlabel</span></a><span class=\"br0\">(</span><span class=\"co2\">'n'</span><span class=\"br0\">)</span><br/><a href=\"http://www.mathworks.com/access/helpdesk/help/techdoc/ref/title.html\"><span class=\"kw2\">title</span></a><span class=\"br0\">(</span><span class=\"co2\">'Original Signal'</span><span class=\"br0\">)</span><br/>\u00a0<br/><a href=\"http://www.mathworks.com/access/helpdesk/help/techdoc/ref/subplot.html\"><span class=\"kw2\">subplot</span></a><span class=\"br0\">(</span><span class=\"nu0\">1</span>,<span class=\"nu0\">2</span>,<span class=\"nu0\">2</span><span class=\"br0\">)</span><br/><a href=\"http://www.mathworks.com/access/helpdesk/help/techdoc/ref/stem.html\"><span class=\"kw2\">stem</span></a><span class=\"br0\">(</span><span class=\"nu0\">0</span>:<span class=\"nu0\">19</span>, out<span class=\"br0\">)</span><br/><a href=\"http://www.mathworks.com/access/helpdesk/help/techdoc/ref/xlabel.html\"><span class=\"kw2\">xlabel</span></a><span class=\"br0\">(</span><span class=\"co2\">'n'</span><span class=\"br0\">)</span><br/><a href=\"http://www.mathworks.com/access/helpdesk/help/techdoc/ref/title.html\"><span class=\"kw2\">title</span></a><span class=\"br0\">(</span><span class=\"co2\">'Filtered Signal'</span><span class=\"br0\">)</span><br/>\u00a0</pre>"}, {"lang": "ooRexx", "loc": 37, "block": "<pre class=\"oorexx highlighted_source\"><span class=\"coMULTI\">/* REXX */</span><br/>a=<span class=\"sy0\">.</span>array~of<span class=\"br0\">(</span><span class=\"nu0\">1.00000000</span>, -2<span class=\"sy0\">.</span>77555756e-16, 3<span class=\"sy0\">.</span>33333333e-01, -1<span class=\"sy0\">.</span>85037171e-17<span class=\"br0\">)</span><br/>b=<span class=\"sy0\">.</span>array~of<span class=\"br0\">(</span><span class=\"nu0\">0.16666667</span>, <span class=\"nu0\">0.5</span>, <span class=\"nu0\">0.5</span>, <span class=\"nu0\">0.16666667</span><span class=\"br0\">)</span><br/>s=<span class=\"sy0\">.</span>array~of<span class=\"br0\">(</span>-<span class=\"nu0\">0.917843918645</span>, <span class=\"nu0\">0.141984778794</span>, <span class=\"nu0\">1.20536903482</span>, <span class=\"nu0\">0.190286794412</span>,,<br/>            -<span class=\"nu0\">0.662370894973</span>, -<span class=\"nu0\">1.00700480494</span>, -<span class=\"nu0\">0.404707073677</span> ,<span class=\"nu0\">0.800482325044</span>,,<br/>             <span class=\"nu0\">0.743500089861</span>, <span class=\"nu0\">1.01090520172</span>, <span class=\"nu0\">0.741527555207</span>, <span class=\"nu0\">0.277841675195</span>,,<br/>             <span class=\"nu0\">0.400833448236</span>, -<span class=\"nu0\">0.2085993586</span>, -<span class=\"nu0\">0.172842103641</span>, -<span class=\"nu0\">0.134316096293</span>,,<br/>             <span class=\"nu0\">0.0259303398477</span>, <span class=\"nu0\">0.490105989562</span>, <span class=\"nu0\">0.549391221511</span>, <span class=\"nu0\">0.9047198589</span><span class=\"br0\">)</span><br/>\u00a0<br/>ret=<span class=\"sy0\">.</span>array~new<span class=\"br0\">(</span>s~items<span class=\"br0\">)</span>~~fill<span class=\"br0\">(</span><span class=\"nu0\">0</span><span class=\"br0\">)</span> <span class=\"coMULTI\">/* create array and fill with zeroes */</span><br/>\u00a0<br/><span class=\"kw1\">Call</span> filter a,b,s,ret<br/><span class=\"kw1\">Do</span> i=<span class=\"nu0\">1</span> <span class=\"kw2\">To</span> ret~items<br/>  <span class=\"kw1\">Say</span> <span class=\"kw6\">format</span><span class=\"br0\">(</span>i,<span class=\"nu0\">2</span><span class=\"br0\">)</span> <span class=\"kw6\">format</span><span class=\"br0\">(</span>ret<span class=\"br0\">[</span>i<span class=\"br0\">]</span>,<span class=\"nu0\">2</span>,<span class=\"nu0\">12</span><span class=\"br0\">)</span><br/>  <span class=\"kw3\">End</span><br/><span class=\"kw1\">Exit</span><br/>\u00a0<br/>::Routine filter<br/><span class=\"kw1\">Use</span> <span class=\"kw1\">Arg</span> a,b,s,ret<br/><span class=\"kw1\">Do</span> i=<span class=\"nu0\">1</span> <span class=\"kw2\">To</span> s~items<br/>  temp=<span class=\"nu0\">0</span><br/>  <span class=\"kw1\">Do</span> j=<span class=\"nu0\">1</span> <span class=\"kw2\">To</span> b~items<br/>    <span class=\"kw1\">if</span> i-j<span class=\"sy0\">&gt;</span>=<span class=\"nu0\">0</span> <span class=\"kw3\">Then</span><br/>      temp=temp+b<span class=\"br0\">[</span>j<span class=\"br0\">]</span><span class=\"sy0\">*</span>s<span class=\"br0\">[</span>i-j+<span class=\"nu0\">1</span><span class=\"br0\">]</span><br/>    <span class=\"kw3\">End</span><br/>  <span class=\"kw1\">Do</span> j=<span class=\"nu0\">1</span> <span class=\"kw2\">To</span> a~items<br/>    <span class=\"kw1\">if</span> i-j<span class=\"sy0\">&gt;</span>=<span class=\"nu0\">0</span> <span class=\"kw3\">Then</span> <span class=\"kw1\">Do</span><br/>      u=i-j+<span class=\"nu0\">1</span><br/>      temp=temp-a<span class=\"br0\">[</span>j<span class=\"br0\">]</span><span class=\"sy0\">*</span>ret<span class=\"br0\">[</span>u<span class=\"br0\">]</span><br/>      <span class=\"kw3\">End</span><br/>    <span class=\"kw3\">End</span><br/>  ret<span class=\"br0\">[</span>i<span class=\"br0\">]</span>=temp<span class=\"sy0\">/</span>a<span class=\"br0\">[</span><span class=\"nu0\">1</span><span class=\"br0\">]</span><br/>  <span class=\"kw3\">End</span><br/><span class=\"kw1\">Return</span><br/>\u00a0<br/>::<span class=\"kw1\">OPTIONS</span> <span class=\"kw2\">digits</span> <span class=\"nu0\">24</span>      <span class=\"coMULTI\">/* Numeric Digits 24, everywhere */</span><br/>\u00a0</pre>"}, {"lang": "Perl 6", "loc": 23, "block": "<pre class=\"perl6 highlighted_source\"><span class=\"kw2\">sub</span> TDF<span class=\"sy0\">-</span>II<span class=\"sy0\">-</span>filter <span class=\"br0\">(</span> <span class=\"re0\">@signal</span><span class=\"sy0\">,</span> <span class=\"re0\">@a</span><span class=\"sy0\">,</span> <span class=\"re0\">@b</span> <span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>    <span class=\"kw1\">my</span> <span class=\"re0\">@out</span> <span class=\"sy0\">=</span> <span class=\"nu0\">0</span> <span class=\"kw1\">xx</span> <span class=\"re0\">@signal</span><span class=\"sy0\">;</span><br/>    <span class=\"kw1\">for</span> <span class=\"sy0\">^</span><span class=\"re0\">@signal</span> <span class=\"sy0\">-&gt;</span> <span class=\"re0\">$i</span> <span class=\"br0\">{</span><br/>        <span class=\"kw1\">my</span> <span class=\"re0\">$this</span><span class=\"sy0\">;</span><br/>        <span class=\"re0\">$this</span> <span class=\"sy0\">+=</span> <span class=\"re0\">@b</span><span class=\"br0\">[</span><span class=\"re0\">$_</span><span class=\"br0\">]</span> <span class=\"sy0\">*</span> <span class=\"re0\">@signal</span><span class=\"br0\">[</span><span class=\"re0\">$i</span><span class=\"sy0\">-</span><span class=\"re0\">$_</span><span class=\"br0\">]</span> <span class=\"kw1\">if</span> <span class=\"re0\">$i</span><span class=\"sy0\">-</span><span class=\"re0\">$_</span> <span class=\"sy0\">&gt;=</span> <span class=\"nu0\">0</span> <span class=\"kw1\">for</span> <span class=\"sy0\">^</span><span class=\"re0\">@b</span><span class=\"sy0\">;</span><br/>        <span class=\"re0\">$this</span> <span class=\"sy0\">-=</span> <span class=\"re0\">@a</span><span class=\"br0\">[</span><span class=\"re0\">$_</span><span class=\"br0\">]</span> <span class=\"sy0\">*</span>    <span class=\"re0\">@out</span><span class=\"br0\">[</span><span class=\"re0\">$i</span><span class=\"sy0\">-</span><span class=\"re0\">$_</span><span class=\"br0\">]</span> <span class=\"kw1\">if</span> <span class=\"re0\">$i</span><span class=\"sy0\">-</span><span class=\"re0\">$_</span> <span class=\"sy0\">&gt;=</span> <span class=\"nu0\">0</span> <span class=\"kw1\">for</span> <span class=\"sy0\">^</span><span class=\"re0\">@a</span><span class=\"sy0\">;</span><br/>        <span class=\"re0\">@out</span><span class=\"br0\">[</span><span class=\"re0\">$i</span><span class=\"br0\">]</span> <span class=\"sy0\">=</span> <span class=\"re0\">$this</span> <span class=\"sy0\">/</span> <span class=\"re0\">@a</span><span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>    <span class=\"br0\">}</span><br/>    <span class=\"re0\">@out</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw1\">my</span> <span class=\"re0\">@signal</span> <span class=\"sy0\">=</span> <span class=\"br0\">[</span><br/>    <span class=\"sy0\">-</span><span class=\"nu0\">0.917843918645</span><span class=\"sy0\">,</span>  <span class=\"nu0\">0.141984778794</span><span class=\"sy0\">,</span> <span class=\"nu0\">1.20536903482</span><span class=\"sy0\">,</span>   <span class=\"nu0\">0.190286794412</span><span class=\"sy0\">,</span><br/>    <span class=\"sy0\">-</span><span class=\"nu0\">0.662370894973</span><span class=\"sy0\">,</span> <span class=\"sy0\">-</span><span class=\"nu0\">1.00700480494</span><span class=\"sy0\">,</span> <span class=\"sy0\">-</span><span class=\"nu0\">0.404707073677</span><span class=\"sy0\">,</span>  <span class=\"nu0\">0.800482325044</span><span class=\"sy0\">,</span><br/>     <span class=\"nu0\">0.743500089861</span><span class=\"sy0\">,</span>  <span class=\"nu0\">1.01090520172</span><span class=\"sy0\">,</span>  <span class=\"nu0\">0.741527555207</span><span class=\"sy0\">,</span>  <span class=\"nu0\">0.277841675195</span><span class=\"sy0\">,</span><br/>     <span class=\"nu0\">0.400833448236</span><span class=\"sy0\">,</span> <span class=\"sy0\">-</span><span class=\"nu0\">0.2085993586</span><span class=\"sy0\">,</span>  <span class=\"sy0\">-</span><span class=\"nu0\">0.172842103641</span><span class=\"sy0\">,</span> <span class=\"sy0\">-</span><span class=\"nu0\">0.134316096293</span><span class=\"sy0\">,</span><br/>     <span class=\"nu0\">0.0259303398477</span><span class=\"sy0\">,</span> <span class=\"nu0\">0.490105989562</span><span class=\"sy0\">,</span> <span class=\"nu0\">0.549391221511</span><span class=\"sy0\">,</span>  <span class=\"nu0\">0.9047198589</span><br/><span class=\"br0\">]</span><span class=\"sy0\">;</span><br/><span class=\"kw1\">my</span> <span class=\"re0\">@a</span> <span class=\"sy0\">=</span> <span class=\"br0\">[</span> <span class=\"nu0\">1.00000000</span><span class=\"sy0\">,</span> <span class=\"sy0\">-</span>2<span class=\"sy0\">.</span>77555756e<span class=\"sy0\">-</span>16<span class=\"sy0\">,</span> 3<span class=\"sy0\">.</span>33333333e<span class=\"sy0\">-</span>01<span class=\"sy0\">,</span> <span class=\"sy0\">-</span>1<span class=\"sy0\">.</span>85037171e<span class=\"sy0\">-</span>17 <span class=\"br0\">]</span><span class=\"sy0\">;</span><br/><span class=\"kw1\">my</span> <span class=\"re0\">@b</span> <span class=\"sy0\">=</span> <span class=\"br0\">[</span> <span class=\"nu0\">0.16666667</span><span class=\"sy0\">,</span>  <span class=\"nu0\">0.5</span><span class=\"sy0\">,</span>            <span class=\"nu0\">0.5</span><span class=\"sy0\">,</span>             <span class=\"nu0\">0.16666667</span>     <span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"kw3\">say</span> TDF<span class=\"sy0\">-</span>II<span class=\"sy0\">-</span>filter<span class=\"br0\">(</span><span class=\"re0\">@signal</span><span class=\"sy0\">,</span> <span class=\"re0\">@a</span><span class=\"sy0\">,</span> <span class=\"re0\">@b</span><span class=\"br0\">)</span>\u00bb<span class=\"sy0\">.</span><span class=\"kw3\">fmt</span><span class=\"br0\">(</span><span class=\"st0\">\"% 0.8f\"</span><span class=\"br0\">)</span><br/>    <span class=\"kw1\">Z</span><span class=\"sy0\">~</span> flat <span class=\"br0\">(</span><span class=\"st_h\">', '</span> <span class=\"kw1\">xx</span> <span class=\"nu0\">4</span><span class=\"sy0\">,</span> <span class=\"st0\">\",<span class=\"es0\">\\n</span>\"</span><span class=\"br0\">)</span> <span class=\"kw1\">xx</span> <span class=\"sy0\">*;</span></pre>"}, {"lang": "Python", "loc": 23, "block": "<pre class=\"python highlighted_source\"><span class=\"co1\">#!/bin/python</span><br/><span class=\"kw1\">from</span> <span class=\"kw3\">__future__</span> <span class=\"kw1\">import</span> print_function<br/><span class=\"kw1\">from</span> scipy <span class=\"kw1\">import</span> <span class=\"kw3\">signal</span><br/><span class=\"kw1\">import</span> matplotlib.<span class=\"me1\">pyplot</span> <span class=\"kw1\">as</span> plt<br/>\u00a0<br/><span class=\"kw1\">if</span> __name__<span class=\"sy0\">==</span><span class=\"st0\">\"__main__\"</span>:<br/>\tsig <span class=\"sy0\">=</span> <span class=\"br0\">[</span>-<span class=\"nu0\">0.917843918645</span><span class=\"sy0\">,</span><span class=\"nu0\">0.141984778794</span><span class=\"sy0\">,</span><span class=\"nu0\">1.20536903482</span><span class=\"sy0\">,</span><span class=\"nu0\">0.190286794412</span><span class=\"sy0\">,</span>-<span class=\"nu0\">0.662370894973</span><span class=\"sy0\">,</span>-<span class=\"nu0\">1.00700480494</span><span class=\"sy0\">,</span><br/>\t\t-<span class=\"nu0\">0.404707073677</span><span class=\"sy0\">,</span><span class=\"nu0\">0.800482325044</span><span class=\"sy0\">,</span><span class=\"nu0\">0.743500089861</span><span class=\"sy0\">,</span><span class=\"nu0\">1.01090520172</span><span class=\"sy0\">,</span><span class=\"nu0\">0.741527555207</span><span class=\"sy0\">,</span><br/>\t\t<span class=\"nu0\">0.277841675195</span><span class=\"sy0\">,</span><span class=\"nu0\">0.400833448236</span><span class=\"sy0\">,</span>-<span class=\"nu0\">0.2085993586</span><span class=\"sy0\">,</span>-<span class=\"nu0\">0.172842103641</span><span class=\"sy0\">,</span>-<span class=\"nu0\">0.134316096293</span><span class=\"sy0\">,</span><br/>\t\t<span class=\"nu0\">0.0259303398477</span><span class=\"sy0\">,</span><span class=\"nu0\">0.490105989562</span><span class=\"sy0\">,</span><span class=\"nu0\">0.549391221511</span><span class=\"sy0\">,</span><span class=\"nu0\">0.9047198589</span><span class=\"br0\">]</span><br/>\u00a0<br/>\t<span class=\"co1\">#Create an order 3 lowpass butterworth filter</span><br/>\t<span class=\"co1\">#Generated using b, a = signal.butter(3, 0.5)</span><br/>\ta <span class=\"sy0\">=</span> <span class=\"br0\">[</span><span class=\"nu0\">1.00000000</span><span class=\"sy0\">,</span> -<span class=\"nu0\">2.77555756e-16</span><span class=\"sy0\">,</span> <span class=\"nu0\">3.33333333e-01</span><span class=\"sy0\">,</span> -<span class=\"nu0\">1.85037171e-17</span><span class=\"br0\">]</span><br/>\tb <span class=\"sy0\">=</span> <span class=\"br0\">[</span><span class=\"nu0\">0.16666667</span><span class=\"sy0\">,</span> <span class=\"nu0\">0.5</span><span class=\"sy0\">,</span> <span class=\"nu0\">0.5</span><span class=\"sy0\">,</span> <span class=\"nu0\">0.16666667</span><span class=\"br0\">]</span><br/>\u00a0<br/>\t<span class=\"co1\">#Apply the filter to signal</span><br/>\tfilt <span class=\"sy0\">=</span> <span class=\"kw3\">signal</span>.<span class=\"me1\">lfilter</span><span class=\"br0\">(</span>b<span class=\"sy0\">,</span> a<span class=\"sy0\">,</span> sig<span class=\"br0\">)</span><br/>\t<span class=\"kw1\">print</span> <span class=\"br0\">(</span>filt<span class=\"br0\">)</span><br/>\u00a0<br/>\tplt.<span class=\"me1\">plot</span><span class=\"br0\">(</span>sig<span class=\"sy0\">,</span> <span class=\"st0\">'b'</span><span class=\"br0\">)</span><br/>\tplt.<span class=\"me1\">plot</span><span class=\"br0\">(</span>filt<span class=\"sy0\">,</span> <span class=\"st0\">'r--'</span><span class=\"br0\">)</span><br/>\tplt.<span class=\"me1\">show</span><span class=\"br0\">(</span><span class=\"br0\">)</span></pre>"}, {"lang": "REXX", "loc": 21, "block": "<pre class=\"rexx highlighted_source\"><span class=\"coMULTI\">/*REXX pgm filters a signal with a order3 lowpass Butterworth, direct form II transposed*/</span><br/><span class=\"kw1\">numeric</span> <span class=\"kw2\">digits</span> <span class=\"nu0\">24</span>                                                  <span class=\"coMULTI\">/*use 20 decimal digs*/</span><br/>@a= <span class=\"st0\">'1           -2.77555756e-16  3.33333333e-1  -1.85037171e-17'</span>  <span class=\"coMULTI\">/*filter coefficients*/</span><br/>@b=  <span class=\"nu0\">0.16666667</span>   <span class=\"nu0\">0.5</span>             <span class=\"nu0\">0.5</span>             <span class=\"nu0\">0.16666667</span>       <span class=\"coMULTI\">/*  \"          \"     */</span><br/>@s= <span class=\"st0\">'-0.917843918645  0.141984778794   1.20536903482    0.190286794412  -0.662370894973'</span> ,<br/>    <span class=\"st0\">'-1.00700480494  -0.404707073677   0.800482325044   0.743500089861   1.01090520172 '</span> ,<br/>    <span class=\"st0\">' 0.741527555207  0.277841675195   0.400833448236  -0.2085993586    -0.172842103641'</span> ,<br/>    <span class=\"st0\">'-0.134316096293  0.0259303398477  0.490105989562   0.549391221511   0.9047198589  '</span><br/>$<span class=\"sy0\">.</span>=<span class=\"nu0\">0</span>;            N=<span class=\"kw6\">words</span><span class=\"br0\">(</span>@s<span class=\"br0\">)</span>;     w=<span class=\"kw6\">length</span><span class=\"br0\">(</span>n<span class=\"br0\">)</span>                      <span class=\"coMULTI\">/* [\u2191]  signal vector*/</span><br/>     <span class=\"kw1\">do</span> i=<span class=\"nu0\">1</span>  <span class=\"kw2\">for</span> N                               <span class=\"coMULTI\">/*process each of the vector elements. */</span><br/>     #=<span class=\"nu0\">0</span>                                         <span class=\"coMULTI\">/*temp variable used in calculations.  */</span><br/>         <span class=\"kw1\">do</span> j=<span class=\"nu0\">1</span>  <span class=\"kw2\">for</span> <span class=\"kw6\">words</span><span class=\"br0\">(</span>@b<span class=\"br0\">)</span>; <span class=\"kw1\">if</span> i-j <span class=\"sy0\">&gt;</span>= <span class=\"nu0\">0</span>  <span class=\"kw3\">then</span> #= #  +  <span class=\"kw6\">word</span><span class=\"br0\">(</span>@b, j<span class=\"br0\">)</span>  <span class=\"sy0\">*</span>  <span class=\"kw6\">word</span><span class=\"br0\">(</span>@s, i-j+<span class=\"nu0\">1</span><span class=\"br0\">)</span><br/>         <span class=\"kw3\">end</span>   <span class=\"coMULTI\">/*j*/</span>                             <span class=\"coMULTI\">/* [\u2191]  process all the B coefficients.*/</span><br/>\u00a0<br/>         <span class=\"kw1\">do</span> k=<span class=\"nu0\">1</span>  <span class=\"kw2\">for</span> <span class=\"kw6\">words</span><span class=\"br0\">(</span>@a<span class=\"br0\">)</span>;   _=i - k + <span class=\"nu0\">1</span>;   <span class=\"kw1\">if</span> i-k <span class=\"sy0\">&gt;</span>= <span class=\"nu0\">0</span>  <span class=\"kw3\">then</span> #=# - <span class=\"kw6\">word</span><span class=\"br0\">(</span>@a, k<span class=\"br0\">)</span> <span class=\"sy0\">*</span> $<span class=\"sy0\">.</span>_<br/>         <span class=\"kw3\">end</span>   <span class=\"coMULTI\">/*k*/</span>                             <span class=\"coMULTI\">/* [\u2191]  process all the A coefficients.*/</span><br/>     $<span class=\"sy0\">.</span>i= # <span class=\"sy0\">/</span> <span class=\"kw6\">word</span><span class=\"br0\">(</span>@a ,<span class=\"nu0\">1</span><span class=\"br0\">)</span>;        <span class=\"kw1\">call</span> tell      <span class=\"coMULTI\">/*only display using half the dec digs.*/</span><br/>     <span class=\"kw3\">end</span>               <span class=\"coMULTI\">/*i*/</span><br/><span class=\"kw1\">exit</span>                                             <span class=\"coMULTI\">/*stick a fork in it,  we're all done. */</span><br/><span class=\"coMULTI\">/*\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500*/</span><br/>tell: <span class=\"kw1\">numeric</span> <span class=\"kw2\">digits</span> <span class=\"kw2\">digits</span><span class=\"br0\">(</span><span class=\"br0\">)</span>%2;  <span class=\"kw1\">say</span> <span class=\"kw6\">right</span><span class=\"br0\">(</span>i, w<span class=\"br0\">)</span>   <span class=\"st0\">\" \"</span>   <span class=\"kw6\">left</span><span class=\"br0\">(</span><span class=\"st0\">''</span>, $<span class=\"sy0\">.</span>i<span class=\"sy0\">&gt;</span>=<span class=\"nu0\">0</span><span class=\"br0\">)</span>$<span class=\"sy0\">.</span>i <span class=\"sy0\">/</span><span class=\"nu0\">1</span>;   <span class=\"kw1\">return</span></pre>"}, {"lang": "Rust", "loc": 102, "block": "<pre class=\"text highlighted_source\">use std::cmp::Ordering;<br/>\u00a0<br/>struct IIRFilter&lt;'f&gt;(&amp;'f [f32], &amp;'f [f32]);<br/>\u00a0<br/>impl&lt;'f&gt; IIRFilter&lt;'f&gt; {<br/>    pub fn with_coefficients(a: &amp;'f [f32], b: &amp;'f [f32]) -&gt; IIRFilter&lt;'f&gt; {<br/>        IIRFilter(a, b)<br/>    }<br/>\u00a0<br/>    // Performs the calculation as an iterator chain.<br/>    pub fn apply&lt;I: Iterator&lt;Item = &amp;'f f32&gt; + 'f&gt;(<br/>        &amp;self,<br/>        samples: I,<br/>    ) -&gt; impl Iterator&lt;Item = f32&gt; + 'f {<br/>        // Name some things for readability<br/>        let a_coeff = self.0;<br/>        let b_coeff = self.1;<br/>\u00a0<br/>        let mut prev_results = Vec::&lt;f32&gt;::new();<br/>        let mut prev_samples = Vec::&lt;f32&gt;::new();<br/>\u00a0<br/>        // The actual calculation, done one number at a time<br/>        samples.enumerate() // (i, sample[i])<br/>            .map(move |(i, sample)| { // for each sample, apply this function<br/>                prev_samples.push(*sample);<br/>                prev_results.push(0f32); // the initial version of the previous result<br/>\u00a0<br/>                let sum_b: f32 = b_coeff.iter() // for each coefficient in b<br/>                    .enumerate() // (j, b_coeff[j])<br/>                    .map(|(j, c)| { // calculate the weight of the coefficient<br/>                        if i &gt;= j {<br/>                            (*c) * prev_samples[i-j]<br/>                        } else {<br/>                            0f32<br/>                        }<br/>                    })<br/>                    .sum(); // add them all together<br/>\u00a0<br/>                let sum_a: f32 = a_coeff.iter() // for each coefficient in a<br/>                    .enumerate() // (j, a_coeff[j])<br/>                    .map(|(j, c)| { // calculate the weight of the coefficient<br/>                        if i &gt;= j {<br/>                            (*c) * prev_results[i-j]<br/>                        } else {<br/>                            0f32<br/>                        }<br/>                    })<br/>                    .sum(); // add them all together<br/>\u00a0<br/>                // perform the final calculation<br/>                let result = (sum_b - sum_a) / a_coeff[0];<br/>\u00a0<br/>                // update the previous result for the next iteration<br/>                prev_results[i] = result;<br/>\u00a0<br/>                // return the current result in this iteration<br/>                result<br/>            }<br/>        )<br/>    }<br/>}<br/>\u00a0<br/>fn main() {<br/>    let a: &amp;[f32] = &amp;[1.00000000, -2.77555756e-16, 3.33333333e-01, -1.85037171e-17];<br/>    let b: &amp;[f32] = &amp;[0.16666667, 0.5, 0.5, 0.16666667];<br/>\u00a0<br/>    let samples: Vec&lt;f32&gt; = vec![<br/>        -0.917843918645,<br/>        0.141984778794,<br/>        1.20536903482,<br/>        0.190286794412,<br/>        -0.662370894973,<br/>        -1.00700480494,<br/>        -0.404707073677,<br/>        0.800482325044,<br/>        0.743500089861,<br/>        1.01090520172,<br/>        0.741527555207,<br/>        0.277841675195,<br/>        0.400833448236,<br/>        -0.2085993586,<br/>        -0.172842103641,<br/>        -0.134316096293,<br/>        0.0259303398477,<br/>        0.490105989562,<br/>        0.549391221511,<br/>        0.9047198589,<br/>    ];<br/>\u00a0<br/>    for (i, result) in IIRFilter::with_coefficients(a, b)<br/>        .apply(samples.iter())<br/>        .enumerate()<br/>    {<br/>        print!(\"{:.8}\", result);<br/>        if (i + 1)\u00a0% 5\u00a0!= 0 {<br/>            print!(\", \");<br/>        } else {<br/>            println!();<br/>        }<br/>    }<br/>    println!();<br/>}</pre>"}, {"lang": "Sidef", "loc": 26, "block": "<pre class=\"ruby highlighted_source\">func TDF_II_filter<span class=\"br0\">(</span>signal, a, b<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>    var out = <span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span><span class=\"sy0\">*</span>signal.<span class=\"me1\">len</span><br/>    <span class=\"kw1\">for</span> i <span class=\"kw1\">in</span> ^signal <span class=\"br0\">{</span><br/>        var this = <span class=\"nu0\">0</span><br/>        <span class=\"kw1\">for</span> j <span class=\"kw1\">in</span> ^b <span class=\"br0\">{</span> i<span class=\"sy0\">-</span>j <span class=\"sy0\">&gt;</span>= <span class=\"nu0\">0</span> <span class=\"sy0\">&amp;&amp;</span> <span class=\"br0\">(</span>this <span class=\"sy0\">+</span>= b<span class=\"br0\">[</span>j<span class=\"br0\">]</span><span class=\"sy0\">*</span>signal<span class=\"br0\">[</span>i<span class=\"sy0\">-</span>j<span class=\"br0\">]</span><span class=\"br0\">)</span> <span class=\"br0\">}</span><br/>        <span class=\"kw1\">for</span> j <span class=\"kw1\">in</span> ^a <span class=\"br0\">{</span> i<span class=\"sy0\">-</span>j <span class=\"sy0\">&gt;</span>= <span class=\"nu0\">0</span> <span class=\"sy0\">&amp;&amp;</span> <span class=\"br0\">(</span>this <span class=\"sy0\">-</span>= a<span class=\"br0\">[</span>j<span class=\"br0\">]</span><span class=\"sy0\">*</span>   out<span class=\"br0\">[</span>i<span class=\"sy0\">-</span>j<span class=\"br0\">]</span><span class=\"br0\">)</span> <span class=\"br0\">}</span><br/>        out<span class=\"br0\">[</span>i<span class=\"br0\">]</span> = this<span class=\"sy0\">/</span>a<span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span><br/>    <span class=\"br0\">}</span><br/>    <span class=\"kw2\">return</span> out<br/><span class=\"br0\">}</span><br/>\u00a0<br/>var signal = <span class=\"br0\">[</span><br/>    <span class=\"sy0\">-</span><span class=\"nu0\">0.917843918645</span>,  <span class=\"nu0\">0.141984778794</span>, <span class=\"nu0\">1.20536903482</span>,   <span class=\"nu0\">0.190286794412</span>,<br/>    <span class=\"sy0\">-</span><span class=\"nu0\">0.662370894973</span>, <span class=\"sy0\">-</span><span class=\"nu0\">1.00700480494</span>, <span class=\"sy0\">-</span><span class=\"nu0\">0.404707073677</span>,  <span class=\"nu0\">0.800482325044</span>,<br/>     <span class=\"nu0\">0.743500089861</span>,  <span class=\"nu0\">1.01090520172</span>,  <span class=\"nu0\">0.741527555207</span>,  <span class=\"nu0\">0.277841675195</span>,<br/>     <span class=\"nu0\">0.400833448236</span>, <span class=\"sy0\">-</span><span class=\"nu0\">0.2085993586</span>,  <span class=\"sy0\">-</span><span class=\"nu0\">0.172842103641</span>, <span class=\"sy0\">-</span><span class=\"nu0\">0.134316096293</span>,<br/>     <span class=\"nu0\">0.0259303398477</span>, <span class=\"nu0\">0.490105989562</span>, <span class=\"nu0\">0.549391221511</span>,  <span class=\"nu0\">0.9047198589</span><br/><span class=\"br0\">]</span><br/>\u00a0<br/>var a = <span class=\"br0\">[</span><span class=\"nu0\">1.00000000</span>, <span class=\"sy0\">-</span>2.77555756e<span class=\"sy0\">-</span>16, 3.33333333e<span class=\"sy0\">-</span>01, <span class=\"sy0\">-</span>1.85037171e<span class=\"sy0\">-</span>17<span class=\"br0\">]</span><br/>var b = <span class=\"br0\">[</span><span class=\"nu0\">0.16666667</span>,  <span class=\"nu0\">0.5</span>,            <span class=\"nu0\">0.5</span>,             <span class=\"nu0\">0.16666667</span>    <span class=\"br0\">]</span><br/>var f = TDF_II_filter<span class=\"br0\">(</span>signal, a, b<span class=\"br0\">)</span><br/>\u00a0<br/>say <span class=\"st0\">\"[\"</span><br/>say f.<span class=\"me1\">map</span> <span class=\"br0\">{</span> <span class=\"st0\">\"% 0.8f\"</span> <span class=\"sy0\">%</span> _ <span class=\"br0\">}</span>.<span class=\"me1\">slices</span><span class=\"br0\">(</span><span class=\"nu0\">5</span><span class=\"br0\">)</span>.<span class=\"me1\">map</span><span class=\"br0\">{</span>.<span class=\"me1\">join</span><span class=\"br0\">(</span><span class=\"st0\">', '</span><span class=\"br0\">)</span><span class=\"br0\">}</span>.<span class=\"me1\">join</span><span class=\"br0\">(</span><span class=\"st0\">\",<span class=\"es0\">\\n</span>\"</span><span class=\"br0\">)</span><br/>say <span class=\"st0\">\"]\"</span></pre>"}, {"lang": "zkl", "loc": 10, "block": "<pre class=\"text highlighted_source\">fcn direct_form_II_transposed_filter(b,a,signal){<br/>   out:=List.createLong(signal.len(),0.0);  // vector of zeros<br/>   foreach i in (signal.len()){<br/>      tmp:=0.0;<br/>      foreach j in (b.len()){ if(i-j &gt;=0) tmp += b[j]*signal[i-j] }<br/>      foreach j in (a.len()){ if(i-j &gt;=0) tmp -= a[j]*out[i-j]    }<br/>      out[i] = tmp/a[0];<br/>   }<br/>   out<br/>}</pre>"}]}