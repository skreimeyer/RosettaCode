{"task": "Find_the_last_Sunday_of_each_month", "blocks": [{"lang": "360 Assembly", "loc": 79, "block": "<pre class=\"text highlighted_source\">*        Last Sunday of each month 31/01/2017<br/>LASTSUND CSECT<br/>         USING  LASTSUND,R13       base register<br/>         B      72(R15)            skip savearea<br/>         DC     17F'0'             savearea<br/>         STM    R14,R12,12(R13)    prolog<br/>         ST     R13,4(R15)         \" &lt;-<br/>         ST     R15,8(R13)         \" -&gt;<br/>         LR     R13,R15            \" addressability<br/>         L      R4,YEAR            year<br/>         SRDA   R4,32              .<br/>         D      R4,=F'400'         year/400<br/>         LTR    R4,R4              if year//400=0<br/>         BZ     LEAP<br/>         L      R4,YEAR            year<br/>         SRDA   R4,32              .<br/>         D      R4,=F'4'           year/4<br/>         LTR    R4,R4              if year//4=0<br/>         BNZ    NOTLEAP<br/>         L      R4,YEAR            year<br/>         SRDA   R4,32              .<br/>         D      R4,=F'100'         year/400<br/>         LTR    R4,R4              if year//100=0<br/>         BZ     NOTLEAP<br/>LEAP     MVC    DAYS+4(4),=F'29'   days(2)=29<br/>NOTLEAP  L      R8,YEAR            year<br/>         BCTR   R8,0               y=year-1<br/>         LA     R7,42              42<br/>         AR     R7,R8              +y<br/>         LR     R3,R8              y<br/>         SRA    R3,2               y/4<br/>         AR     R7,R3              +y/4<br/>         LR     R4,R8              y<br/>         SRDA   R4,32              .<br/>         D      R4,=F'100'         y/100<br/>         LA     R4,0               .<br/>         M      R4,=F'6'           *6<br/>         AR     R7,R5              +6*(y/100)<br/>         LR     R4,R8              y<br/>         SRDA   R4,32              .<br/>         D      R4,=F'400'         y/100<br/>         AR     R7,R5              k=42+y+y/4+6*(y/100)+y/400<br/>         LA     R6,1               m=1<br/>LOOPM    C      R6,=F'12'          do m=1 to 12<br/>         BH     ELOOPM<br/>         LR     R1,R6              m<br/>         SLA    R1,2               .<br/>         L      R2,DAYS-4(R1)      days(m)<br/>         AR     R7,R2              k=k+days(m)<br/>         LR     R4,R7              k<br/>         SRDA   R4,32              .<br/>         D      R4,=F'7'           k/7<br/>         SR     R2,R4              days(m)-k//7<br/>         LR     R9,R2              d=days(m)-k//7<br/>         L      R1,YEAR            year<br/>         CVD    R1,DW              year: binary to packed <br/>         OI     DW+7,X'0F'           zap sign<br/>         UNPK   PG(4),DW             unpack (ZL4)<br/>         CVD    R6,DW              m\u00a0: binary to packed <br/>         OI     DW+7,X'0F'           zap sign<br/>         UNPK   PG+5(2),DW           unpack (ZL2)<br/>         CVD    R9,DW              d: binary to packed <br/>         OI     DW+7,X'0F'           zap sign<br/>         UNPK   PG+8(2),DW           unpack (ZL2)<br/>         XPRNT  PG,L'PG            print buffer<br/>         LA     R6,1(R6)           m=m+1<br/>         B      LOOPM<br/>ELOOPM   L      R13,4(0,R13)       epilog <br/>         LM     R14,R12,12(R13)    \" restore<br/>         XR     R15,R15            \" rc=0<br/>         BR     R14                exit<br/>YEAR     DC     F'2013'            &lt;== input year<br/>DAYS     DC     F'31',F'28',F'31',F'30',F'31',F'30'<br/>         DC     F'31',F'31',F'30',F'31',F'30',F'31'<br/>PG       DC     CL80'YYYY-MM-DD'   buffer<br/>XDEC     DS     CL12               temp<br/>DW       DS     D                  packed (PL8) 15num<br/>         YREGS<br/>         END    LASTSUND</pre>"}, {"lang": "Ada", "loc": 1, "block": "<pre>&gt;./last_weekday_in_month sunday 2013\n2013-01-27\n2013-02-24\n2013-03-31\n2013-04-28\n2013-05-26\n2013-06-30\n2013-07-28\n2013-08-25\n2013-09-29\n2013-10-27\n2013-11-24\n2013-12-29</pre>"}, {"lang": "AppleScript", "loc": 186, "block": "<pre class=\"applescript highlighted_source\"><span class=\"co1\">-- LAST SUNDAYS OF YEAR ------------------------------------------------------</span><br/>\u00a0<br/><span class=\"co1\">--  lastSundaysOfYear\u00a0:: Int -&gt; [Date]</span><br/><span class=\"kw3\">on</span> lastSundaysOfYear<span class=\"br0\">(</span>y<span class=\"br0\">)</span><br/>\u00a0<br/>    <span class=\"co1\">-- lastWeekDaysOfYear\u00a0:: Int -&gt; Int -&gt; [Date]</span><br/>    <span class=\"kw3\">script</span> lastWeekDaysOfYear<br/>        <span class=\"kw3\">on</span> |\u03bb|<span class=\"br0\">(</span>intYear, iWeekday<span class=\"br0\">)</span><br/>\u00a0<br/>            <span class=\"co1\">-- lastWeekDay\u00a0:: Int -&gt; Int -&gt; Date</span><br/>            <span class=\"kw3\">script</span> lastWeekDay<br/>                <span class=\"kw3\">on</span> |\u03bb|<span class=\"br0\">(</span>iLastDay, iMonth<span class=\"br0\">)</span><br/>                    <span class=\"kw3\">set</span> iYear <span class=\"kw3\">to</span> intYear<br/>\u00a0<br/>                    calendarDate<span class=\"br0\">(</span>iYear, iMonth, iLastDay <span class=\"sy0\">-</span> \u00ac<br/>                        <span class=\"br0\">(</span><span class=\"br0\">(</span><span class=\"br0\">(</span><span class=\"kw1\">weekday</span> <span class=\"kw3\">of</span> calendarDate<span class=\"br0\">(</span>iYear, iMonth, iLastDay<span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"kw2\">as</span> <span class=\"kw1\">integer</span><span class=\"br0\">)</span> <span class=\"sy0\">+</span> \u00ac<br/>                            <span class=\"br0\">(</span><span class=\"nu0\">7</span> <span class=\"sy0\">-</span> <span class=\"br0\">(</span>iWeekday<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"kw2\">mod</span> <span class=\"nu0\">7</span><span class=\"br0\">)</span><br/>                <span class=\"kw3\">end</span> |\u03bb|<br/>            <span class=\"kw3\">end</span> <span class=\"kw3\">script</span><br/>\u00a0<br/>            map<span class=\"br0\">(</span>lastWeekDay, lastDaysOfMonths<span class=\"br0\">(</span>intYear<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>        <span class=\"kw3\">end</span> |\u03bb|<br/>\u00a0<br/>        <span class=\"co1\">-- isLeapYear\u00a0:: Int -&gt; Bool</span><br/>        <span class=\"kw3\">on</span> isLeapYear<span class=\"br0\">(</span>y<span class=\"br0\">)</span><br/>            <span class=\"br0\">(</span><span class=\"nu0\">0</span> <span class=\"sy0\">=</span> y <span class=\"kw2\">mod</span> <span class=\"nu0\">4</span><span class=\"br0\">)</span> <span class=\"kw2\">and</span> <span class=\"br0\">(</span><span class=\"nu0\">0</span> \u2260 y <span class=\"kw2\">mod</span> <span class=\"nu0\">100</span><span class=\"br0\">)</span> <span class=\"kw2\">or</span> <span class=\"br0\">(</span><span class=\"nu0\">0</span> <span class=\"sy0\">=</span> y <span class=\"kw2\">mod</span> <span class=\"nu0\">400</span><span class=\"br0\">)</span><br/>        <span class=\"kw3\">end</span> isLeapYear<br/>\u00a0<br/>        <span class=\"co1\">-- lastDaysOfMonths\u00a0:: Int -&gt; [Int]</span><br/>        <span class=\"kw3\">on</span> lastDaysOfMonths<span class=\"br0\">(</span>y<span class=\"br0\">)</span><br/>            <span class=\"br0\">{</span><span class=\"nu0\">31</span>, cond<span class=\"br0\">(</span>isLeapYear<span class=\"br0\">(</span>y<span class=\"br0\">)</span>, <span class=\"nu0\">29</span>, <span class=\"nu0\">28</span><span class=\"br0\">)</span>, <span class=\"nu0\">31</span>, <span class=\"nu0\">30</span>, <span class=\"nu0\">31</span>, <span class=\"nu0\">30</span>, <span class=\"nu0\">31</span>, <span class=\"nu0\">31</span>, <span class=\"nu0\">30</span>, <span class=\"nu0\">31</span>, <span class=\"nu0\">30</span>, <span class=\"nu0\">31</span><span class=\"br0\">}</span><br/>        <span class=\"kw3\">end</span> lastDaysOfMonths<br/>    <span class=\"kw3\">end</span> <span class=\"kw3\">script</span><br/>\u00a0<br/>    lastWeekDaysOfYear<span class=\"co2\">'</span>s |\u03bb|<span class=\"br0\">(</span>y, <span class=\"kw1\">Sunday</span> <span class=\"kw2\">as</span> <span class=\"kw1\">integer</span><span class=\"br0\">)</span><br/><span class=\"kw3\">end</span> lastSundaysOfYear<br/>\u00a0<br/>\u00a0<br/><span class=\"co1\">-- TEST ----------------------------------------------------------------------</span><br/><span class=\"kw3\">on</span> <span class=\"kw1\">run</span> argv<br/>\u00a0<br/>    intercalate<span class=\"br0\">(</span>linefeed, \u00ac<br/>        map<span class=\"br0\">(</span>isoRow, \u00ac<br/>            transpose<span class=\"br0\">(</span>map<span class=\"br0\">(</span>lastSundaysOfYear, \u00ac<br/>                apply<span class=\"br0\">(</span>cond<span class=\"br0\">(</span>class <span class=\"kw3\">of</span> argv <span class=\"kw3\">is</span> <span class=\"kw1\">list</span> <span class=\"kw2\">and</span> argv \u2260 <span class=\"br0\">{</span><span class=\"br0\">}</span>, \u00ac<br/>                    singleYearOrRange, fiveCurrentYears<span class=\"br0\">)</span>, argIntegers<span class=\"br0\">(</span>argv<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>\u00a0<br/><span class=\"kw3\">end</span> <span class=\"kw1\">run</span><br/>\u00a0<br/><span class=\"co1\">-- ARGUMENT HANDLING ---------------------------------------------------------</span><br/>\u00a0<br/><span class=\"co1\">-- Up to two optional command line arguments: [yearFrom], [yearTo]</span><br/><span class=\"co1\">-- (Default range in absence of arguments: from two years ago, to two years ahead)</span><br/>\u00a0<br/><span class=\"co1\">-- ~ $ osascript ~/Desktop/lastSundays.scpt </span><br/><span class=\"co1\">-- ~ $ osascript ~/Desktop/lastSundays.scpt 2013</span><br/><span class=\"co1\">-- ~ $ osascript ~/Desktop/lastSundays.scpt 2013 2016</span><br/>\u00a0<br/><span class=\"co1\">-- singleYearOrRange\u00a0:: [Int] -&gt; [Int]</span><br/><span class=\"kw3\">on</span> singleYearOrRange<span class=\"br0\">(</span>argv<span class=\"br0\">)</span><br/>    apply<span class=\"br0\">(</span>cond<span class=\"br0\">(</span>length <span class=\"kw3\">of</span> argv &gt; <span class=\"nu0\">0</span>, <span class=\"kw3\">my</span> range, <span class=\"kw3\">my</span> fiveCurrentYears<span class=\"br0\">)</span>, argv<span class=\"br0\">)</span><br/><span class=\"kw3\">end</span> singleYearOrRange<br/>\u00a0<br/><span class=\"co1\">-- fiveCurrentYears\u00a0:: () -&gt; [Int]</span><br/><span class=\"kw3\">on</span> fiveCurrentYears<span class=\"br0\">(</span>_<span class=\"br0\">)</span><br/>    <span class=\"kw3\">set</span> intThisYear <span class=\"kw3\">to</span> year <span class=\"kw3\">of</span> <span class=\"br0\">(</span>current date<span class=\"br0\">)</span><br/>    enumFromTo<span class=\"br0\">(</span>intThisYear <span class=\"sy0\">-</span> <span class=\"nu0\">2</span>, intThisYear <span class=\"sy0\">+</span> <span class=\"nu0\">2</span><span class=\"br0\">)</span><br/><span class=\"kw3\">end</span> fiveCurrentYears<br/>\u00a0<br/><span class=\"co1\">-- argIntegers\u00a0:: maybe [String] -&gt; [Int]</span><br/><span class=\"kw3\">on</span> argIntegers<span class=\"br0\">(</span>argv<span class=\"br0\">)</span><br/>    <span class=\"kw3\">if</span> class <span class=\"kw3\">of</span> argv <span class=\"kw3\">is</span> <span class=\"kw1\">list</span> <span class=\"kw2\">and</span> argv \u2260 <span class=\"br0\">{</span><span class=\"br0\">}</span> <span class=\"kw3\">then</span><br/>        <span class=\"br0\">{</span>map<span class=\"br0\">(</span><span class=\"kw3\">my</span> parseInt, argv<span class=\"br0\">)</span><span class=\"br0\">}</span><br/>    <span class=\"kw3\">else</span><br/>        <span class=\"br0\">{</span><span class=\"br0\">}</span><br/>    <span class=\"kw3\">end</span> <span class=\"kw3\">if</span><br/><span class=\"kw3\">end</span> argIntegers<br/>\u00a0<br/>\u00a0<br/><span class=\"co1\">-- GENERIC FUNCTIONS ---------------------------------------------------------</span><br/>\u00a0<br/><span class=\"co1\">-- apply (a -&gt; b) -&gt; a -&gt; b</span><br/><span class=\"kw3\">on</span> apply<span class=\"br0\">(</span>f, a<span class=\"br0\">)</span><br/>    mReturn<span class=\"br0\">(</span>f<span class=\"br0\">)</span>'s |\u03bb|<span class=\"br0\">(</span>a<span class=\"br0\">)</span><br/><span class=\"kw3\">end</span> apply<br/>\u00a0<br/><span class=\"co1\">-- calendarDate\u00a0:: Int -&gt; Int -&gt; Int -&gt; Date</span><br/><span class=\"kw3\">on</span> calendarDate<span class=\"br0\">(</span>intYear, intMonth, intDay<span class=\"br0\">)</span><br/>    <span class=\"kw3\">tell</span> <span class=\"br0\">(</span>current date<span class=\"br0\">)</span><br/>        <span class=\"kw3\">set</span> <span class=\"br0\">{</span>its year, its <span class=\"kw1\">month</span>, its day, its time<span class=\"br0\">}</span> <span class=\"kw3\">to</span> \u00ac<br/>            <span class=\"br0\">{</span>intYear, intMonth, intDay, <span class=\"nu0\">0</span><span class=\"br0\">}</span><br/>        <span class=\"kw3\">return</span> <span class=\"kw1\">it</span><br/>    <span class=\"kw3\">end</span> <span class=\"kw3\">tell</span><br/><span class=\"kw3\">end</span> calendarDate<br/>\u00a0<br/><span class=\"co1\">-- cond\u00a0:: Bool -&gt; (a -&gt; b) -&gt; (a -&gt; b) -&gt; (a -&gt; b)</span><br/><span class=\"kw3\">on</span> cond<span class=\"br0\">(</span>bool, f, g<span class=\"br0\">)</span><br/>    <span class=\"kw3\">if</span> bool <span class=\"kw3\">then</span><br/>        f<br/>    <span class=\"kw3\">else</span><br/>        g<br/>    <span class=\"kw3\">end</span> <span class=\"kw3\">if</span><br/><span class=\"kw3\">end</span> cond<br/>\u00a0<br/><span class=\"co1\">-- enumFromTo\u00a0:: Int -&gt; Int -&gt; [Int]</span><br/><span class=\"kw3\">on</span> enumFromTo<span class=\"br0\">(</span>m, n<span class=\"br0\">)</span><br/>    <span class=\"kw3\">if</span> m &gt; n <span class=\"kw3\">then</span><br/>        <span class=\"kw3\">set</span> d <span class=\"kw3\">to</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span><br/>    <span class=\"kw3\">else</span><br/>        <span class=\"kw3\">set</span> d <span class=\"kw3\">to</span> <span class=\"nu0\">1</span><br/>    <span class=\"kw3\">end</span> <span class=\"kw3\">if</span><br/>    <span class=\"kw3\">set</span> lst <span class=\"kw3\">to</span> <span class=\"br0\">{</span><span class=\"br0\">}</span><br/>    <span class=\"kw3\">repeat</span> <span class=\"kw3\">with</span> i <span class=\"kw3\">from</span> m <span class=\"kw3\">to</span> n <span class=\"kw1\">by</span> d<br/>        <span class=\"kw3\">set</span> <span class=\"kw3\">end</span> <span class=\"kw3\">of</span> lst <span class=\"kw3\">to</span> i<br/>    <span class=\"kw3\">end</span> <span class=\"kw3\">repeat</span><br/>    <span class=\"kw3\">return</span> lst<br/><span class=\"kw3\">end</span> enumFromTo<br/>\u00a0<br/><span class=\"co1\">-- intercalate\u00a0:: Text -&gt; [Text] -&gt; Text</span><br/><span class=\"kw3\">on</span> intercalate<span class=\"br0\">(</span>strText, lstText<span class=\"br0\">)</span><br/>    <span class=\"kw3\">set</span> <span class=\"br0\">{</span>dlm, <span class=\"kw3\">my</span> <span class=\"kw1\">text</span> <span class=\"kw1\">item</span> <span class=\"kw1\">delimiters</span><span class=\"br0\">}</span> <span class=\"kw3\">to</span> \u00ac<br/>        <span class=\"br0\">{</span><span class=\"kw3\">my</span> <span class=\"kw1\">text</span> <span class=\"kw1\">item</span> <span class=\"kw1\">delimiters</span>, strText<span class=\"br0\">}</span><br/>    <span class=\"kw3\">set</span> strJoined <span class=\"kw3\">to</span> lstText <span class=\"kw2\">as</span> <span class=\"kw1\">text</span><br/>    <span class=\"kw3\">set</span> <span class=\"kw3\">my</span> <span class=\"kw1\">text</span> <span class=\"kw1\">item</span> <span class=\"kw1\">delimiters</span> <span class=\"kw3\">to</span> dlm<br/>    <span class=\"kw3\">return</span> strJoined<br/><span class=\"kw3\">end</span> intercalate<br/>\u00a0<br/><span class=\"co1\">-- isoDateString\u00a0:: Date -&gt; String</span><br/><span class=\"kw3\">on</span> isoDateString<span class=\"br0\">(</span>dte<span class=\"br0\">)</span><br/>    <span class=\"br0\">(</span><span class=\"br0\">(</span><span class=\"br0\">(</span>year <span class=\"kw3\">of</span> dte<span class=\"br0\">)</span> <span class=\"kw2\">as</span> <span class=\"kw1\">string</span><span class=\"br0\">)</span> <span class=\"sy0\">&amp;</span> \u00ac<br/>        <span class=\"st0\">\"-\"</span> <span class=\"sy0\">&amp;</span> <span class=\"kw1\">text</span> <span class=\"kw1\">items</span> <span class=\"sy0\">-</span><span class=\"nu0\">2</span> <span class=\"kw2\">thru</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span> <span class=\"kw3\">of</span> \u00ac<br/>        <span class=\"br0\">(</span><span class=\"st0\">\"0\"</span> <span class=\"sy0\">&amp;</span> <span class=\"br0\">(</span><span class=\"br0\">(</span><span class=\"kw1\">month</span> <span class=\"kw3\">of</span> dte<span class=\"br0\">)</span> <span class=\"kw2\">as</span> <span class=\"kw1\">integer</span><span class=\"br0\">)</span> <span class=\"kw2\">as</span> <span class=\"kw1\">string</span><span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"sy0\">&amp;</span> \u00ac<br/>        <span class=\"st0\">\"-\"</span> <span class=\"sy0\">&amp;</span> <span class=\"kw1\">text</span> <span class=\"kw1\">items</span> <span class=\"sy0\">-</span><span class=\"nu0\">2</span> <span class=\"kw2\">thru</span> <span class=\"sy0\">-</span><span class=\"nu0\">1</span> <span class=\"kw3\">of</span> \u00ac<br/>        <span class=\"br0\">(</span><span class=\"st0\">\"0\"</span> <span class=\"sy0\">&amp;</span> day <span class=\"kw3\">of</span> dte<span class=\"br0\">)</span><br/><span class=\"kw3\">end</span> isoDateString<br/>\u00a0<br/><span class=\"co1\">-- isoRow\u00a0:: [Date] -&gt; String</span><br/><span class=\"kw3\">on</span> isoRow<span class=\"br0\">(</span>lstDate<span class=\"br0\">)</span><br/>    intercalate<span class=\"br0\">(</span><span class=\"kw1\">tab</span>, map<span class=\"br0\">(</span><span class=\"kw3\">my</span> isoDateString, lstDate<span class=\"br0\">)</span><span class=\"br0\">)</span><br/><span class=\"kw3\">end</span> isoRow<br/>\u00a0<br/><span class=\"co1\">-- map\u00a0:: (a -&gt; b) -&gt; [a] -&gt; [b]</span><br/><span class=\"kw3\">on</span> map<span class=\"br0\">(</span>f, xs<span class=\"br0\">)</span><br/>    <span class=\"kw3\">tell</span> mReturn<span class=\"br0\">(</span>f<span class=\"br0\">)</span><br/>        <span class=\"kw3\">set</span> lng <span class=\"kw3\">to</span> length <span class=\"kw3\">of</span> xs<br/>        <span class=\"kw3\">set</span> lst <span class=\"kw3\">to</span> <span class=\"br0\">{</span><span class=\"br0\">}</span><br/>        <span class=\"kw3\">repeat</span> <span class=\"kw3\">with</span> i <span class=\"kw3\">from</span> <span class=\"nu0\">1</span> <span class=\"kw3\">to</span> lng<br/>            <span class=\"kw3\">set</span> <span class=\"kw3\">end</span> <span class=\"kw3\">of</span> lst <span class=\"kw3\">to</span> |\u03bb|<span class=\"br0\">(</span><span class=\"kw1\">item</span> i <span class=\"kw3\">of</span> xs, i, xs<span class=\"br0\">)</span><br/>        <span class=\"kw3\">end</span> <span class=\"kw3\">repeat</span><br/>        <span class=\"kw3\">return</span> lst<br/>    <span class=\"kw3\">end</span> <span class=\"kw3\">tell</span><br/><span class=\"kw3\">end</span> map<br/>\u00a0<br/><span class=\"co1\">-- Lift 2nd class handler function into 1st class script wrapper </span><br/><span class=\"co1\">-- mReturn\u00a0:: Handler -&gt; Script</span><br/><span class=\"kw3\">on</span> mReturn<span class=\"br0\">(</span>f<span class=\"br0\">)</span><br/>    <span class=\"kw3\">if</span> class <span class=\"kw3\">of</span> f <span class=\"kw3\">is</span> <span class=\"kw3\">script</span> <span class=\"kw3\">then</span><br/>        f<br/>    <span class=\"kw3\">else</span><br/>        <span class=\"kw3\">script</span><br/>            <span class=\"kw3\">property</span> |\u03bb|\u00a0: f<br/>        <span class=\"kw3\">end</span> <span class=\"kw3\">script</span><br/>    <span class=\"kw3\">end</span> <span class=\"kw3\">if</span><br/><span class=\"kw3\">end</span> mReturn<br/>\u00a0<br/><span class=\"co1\">-- parseInt\u00a0:: String -&gt; Int</span><br/><span class=\"kw3\">on</span> parseInt<span class=\"br0\">(</span>s<span class=\"br0\">)</span><br/>    s <span class=\"kw2\">as</span> <span class=\"kw1\">integer</span><br/><span class=\"kw3\">end</span> parseInt<br/>\u00a0<br/><span class=\"co1\">-- transpose\u00a0:: [[a]] -&gt; [[a]]</span><br/><span class=\"kw3\">on</span> transpose<span class=\"br0\">(</span>xss<span class=\"br0\">)</span><br/>    <span class=\"kw3\">script</span> column<br/>        <span class=\"kw3\">on</span> |\u03bb|<span class=\"br0\">(</span>_, iCol<span class=\"br0\">)</span><br/>            <span class=\"kw3\">script</span> row<br/>                <span class=\"kw3\">on</span> |\u03bb|<span class=\"br0\">(</span>xs<span class=\"br0\">)</span><br/>                    <span class=\"kw1\">item</span> iCol <span class=\"kw3\">of</span> xs<br/>                <span class=\"kw3\">end</span> |\u03bb|<br/>            <span class=\"kw3\">end</span> <span class=\"kw3\">script</span><br/>\u00a0<br/>            map<span class=\"br0\">(</span>row, xss<span class=\"br0\">)</span><br/>        <span class=\"kw3\">end</span> |\u03bb|<br/>    <span class=\"kw3\">end</span> <span class=\"kw3\">script</span><br/>\u00a0<br/>    map<span class=\"br0\">(</span>column, <span class=\"kw1\">item</span> <span class=\"nu0\">1</span> <span class=\"kw3\">of</span> xss<span class=\"br0\">)</span><br/><span class=\"kw3\">end</span> transpose</pre>"}, {"lang": "AutoHotkey", "loc": 20, "block": "<pre class=\"autohotkey highlighted_source\"><a href=\"http://www.autohotkey.com/docs/commands/InputBox.htm\"><span class=\"kw3\">InputBox</span></a><span class=\"sy0\">,</span> Year<span class=\"sy0\">,</span> <span class=\"sy0\">,</span> <span class=\"kw6\">Enter</span> a year<span class=\"sy0\">.,</span> <span class=\"sy0\">,</span> <span class=\"nu0\">300</span><span class=\"sy0\">,</span> <span class=\"nu0\">135</span><br/>Date <span class=\"sy0\">:=</span> Year <span class=\"sy0\">.</span> <span class=\"st0\">\"0101\"</span><br/>\u00a0<br/><span class=\"kw1\">while</span> <a href=\"http://www.autohotkey.com/docs/Functions.htm#BuiltIn\"><span class=\"kw4\">SubStr</span></a><span class=\"br0\">(</span>Date<span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"sy0\">,</span> <span class=\"nu0\">4</span><span class=\"br0\">)</span> <span class=\"sy0\">=</span> Year <span class=\"br0\">{</span><br/>    <a href=\"http://www.autohotkey.com/docs/commands/FormatTime.htm\"><span class=\"kw3\">FormatTime</span></a><span class=\"sy0\">,</span> WD<span class=\"sy0\">,</span>\u00a0% Date<span class=\"sy0\">,</span> WDay<br/>    <span class=\"kw1\">if</span> <span class=\"br0\">(</span>WD <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span><br/>        MM <span class=\"sy0\">:=</span> LTrim<span class=\"br0\">(</span><a href=\"http://www.autohotkey.com/docs/Functions.htm#BuiltIn\"><span class=\"kw4\">SubStr</span></a><span class=\"br0\">(</span>Date<span class=\"sy0\">,</span> <span class=\"nu0\">5</span><span class=\"sy0\">,</span> <span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"sy0\">,</span> <span class=\"st0\">\"0\"</span><span class=\"br0\">)</span><span class=\"sy0\">,</span> Day<span class=\"re0\">%MM%</span> <span class=\"sy0\">:=</span> <a href=\"http://www.autohotkey.com/docs/Functions.htm#BuiltIn\"><span class=\"kw4\">SubStr</span></a><span class=\"br0\">(</span>Date<span class=\"sy0\">,</span> <span class=\"nu0\">7</span><span class=\"sy0\">,</span> <span class=\"nu0\">2</span><span class=\"br0\">)</span><br/>    Date <span class=\"sy0\">+=</span> <span class=\"nu0\">1</span><span class=\"sy0\">,</span> Days<br/><span class=\"br0\">}</span><br/>\u00a0<br/><a href=\"http://www.autohotkey.com/docs/commands/Gui.htm\"><span class=\"kw3\">Gui</span></a><span class=\"sy0\">,</span> <a href=\"http://www.autohotkey.com/docs/commands/Gui.htm#Font\"><span class=\"kw7\">Font</span></a><span class=\"sy0\">,</span> S10<span class=\"sy0\">,</span> Courier New<br/><a href=\"http://www.autohotkey.com/docs/commands/Gui.htm\"><span class=\"kw3\">Gui</span></a><span class=\"sy0\">,</span> <a href=\"http://www.autohotkey.com/docs/commands/Gui.htm#Add\"><span class=\"kw7\">Add</span></a><span class=\"sy0\">,</span> <a href=\"http://www.autohotkey.com/docs/commands/GuiControls.htm#Text\"><span class=\"kw8\">Text</span></a><span class=\"sy0\">,</span> <span class=\"sy0\">,</span>\u00a0% <span class=\"st0\">\"Last Sundays of \"</span> Year <span class=\"st0\">\":`n---------------------\"</span><br/>\u00a0<br/><a href=\"http://www.autohotkey.com/docs/commands/Loop.htm\"><span class=\"kw3\">Loop</span></a><span class=\"sy0\">,</span> <span class=\"nu0\">12</span> <span class=\"br0\">{</span><br/>    <a href=\"http://www.autohotkey.com/docs/commands/FormatTime.htm\"><span class=\"kw3\">FormatTime</span></a><span class=\"sy0\">,</span> Month<span class=\"sy0\">,</span>\u00a0% Year <span class=\"br0\">(</span><a href=\"http://www.autohotkey.com/docs/Variables.htm#A_Index\"><span class=\"kw2\">A_Index</span></a> <span class=\"sy0\">&gt;</span> <span class=\"nu0\">9</span>\u00a0? <span class=\"st0\">\"\"</span>\u00a0: <span class=\"st0\">\"0\"</span><span class=\"br0\">)</span> <a href=\"http://www.autohotkey.com/docs/Variables.htm#A_Index\"><span class=\"kw2\">A_Index</span></a><span class=\"sy0\">,</span> MMMM<br/>    <a href=\"http://www.autohotkey.com/docs/commands/Gui.htm\"><span class=\"kw3\">Gui</span></a><span class=\"sy0\">,</span> <a href=\"http://www.autohotkey.com/docs/commands/Gui.htm#Add\"><span class=\"kw7\">Add</span></a><span class=\"sy0\">,</span> <a href=\"http://www.autohotkey.com/docs/commands/GuiControls.htm#Text\"><span class=\"kw8\">Text</span></a><span class=\"sy0\">,</span> y<span class=\"sy0\">+</span><span class=\"nu0\">1</span><span class=\"sy0\">,</span>\u00a0% Month <span class=\"br0\">(</span><a href=\"http://www.autohotkey.com/docs/Functions.htm#BuiltIn\"><span class=\"kw4\">StrLen</span></a><span class=\"br0\">(</span>Month<span class=\"br0\">)</span> <span class=\"sy0\">&gt;</span> <span class=\"nu0\">7</span>\u00a0? <span class=\"st0\">\"\"</span>\u00a0: <span class=\"st0\">\"`t\"</span><span class=\"br0\">)</span> <span class=\"st0\">\"`t\"</span> Day<span class=\"re0\">%A_Index%</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/><a href=\"http://www.autohotkey.com/docs/commands/Gui.htm\"><span class=\"kw3\">Gui</span></a><span class=\"sy0\">,</span> <a href=\"http://www.autohotkey.com/docs/commands/Gui.htm#Show\"><span class=\"kw7\">Show</span></a><br/><span class=\"kw1\">return</span></pre>"}, {"lang": "AWK", "loc": 19, "block": "<pre class=\"awk highlighted_source\">\u00a0<br/><span class=\"co1\"># syntax: GAWK -f FIND_THE_LAST_SUNDAY_OF_EACH_MONTH.AWK [year]</span><br/><span class=\"kw2\">BEGIN</span> <span class=\"br0\">{</span><br/>    <span class=\"kw4\">split</span><span class=\"br0\">(</span><span class=\"st0\">\"31,28,31,30,31,30,31,31,30,31,30,31\"</span>,daynum_array,<span class=\"st0\">\",\"</span><span class=\"br0\">)</span> <span class=\"co1\"># days per month in non leap year</span><br/>    year = <span class=\"br0\">(</span><span class=\"kw3\">ARGV</span><span class=\"br0\">[</span><span class=\"nu0\">1</span><span class=\"br0\">]</span> <span class=\"sy2\">==</span> <span class=\"st0\">\"\"</span><span class=\"br0\">)</span> <span class=\"sy5\">?</span> strftime<span class=\"br0\">(</span><span class=\"st0\">\"%Y\"</span><span class=\"br0\">)</span> <span class=\"sy5\">:</span> <span class=\"kw3\">ARGV</span><span class=\"br0\">[</span><span class=\"nu0\">1</span><span class=\"br0\">]</span><br/>    <span class=\"kw1\">if</span> <span class=\"br0\">(</span>year <span class=\"sy3\">%</span> <span class=\"nu0\">400</span> <span class=\"sy2\">==</span> <span class=\"nu0\">0</span> <span class=\"sy1\">||</span> <span class=\"br0\">(</span>year <span class=\"sy3\">%</span> <span class=\"nu0\">4</span> <span class=\"sy2\">==</span> <span class=\"nu0\">0</span> <span class=\"sy1\">&amp;&amp;</span> year <span class=\"sy3\">%</span> <span class=\"nu0\">100</span> <span class=\"sy2\">!=</span> <span class=\"nu0\">0</span><span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>      daynum_array<span class=\"br0\">[</span><span class=\"nu0\">2</span><span class=\"br0\">]</span> = <span class=\"nu0\">29</span><br/>    <span class=\"br0\">}</span><br/>    <span class=\"kw1\">for</span> <span class=\"br0\">(</span>m=<span class=\"nu0\">1</span>; m<span class=\"sy2\">&lt;=</span><span class=\"nu0\">12</span>; m<span class=\"sy3\">++</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>      <span class=\"kw1\">for</span> <span class=\"br0\">(</span>d=daynum_array<span class=\"br0\">[</span>m<span class=\"br0\">]</span>; d<span class=\"sy2\">&gt;=</span><span class=\"nu0\">1</span>; d<span class=\"sy3\">--</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>        <span class=\"kw1\">if</span> <span class=\"br0\">(</span>strftime<span class=\"br0\">(</span><span class=\"st0\">\"%a\"</span>,mktime<span class=\"br0\">(</span><span class=\"kw4\">sprintf</span><span class=\"br0\">(</span><span class=\"st0\">\"%d\u00a0%d\u00a0%d 0 0 0\"</span>,year,m,d<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"sy2\">==</span> <span class=\"st0\">\"Sun\"</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>          <span class=\"kw5\">printf</span><span class=\"br0\">(</span><span class=\"st0\">\"%04d-%02d-%02d<span class=\"es0\">\\n</span>\"</span>,year,m,d<span class=\"br0\">)</span><br/>          <span class=\"kw1\">break</span><br/>        <span class=\"br0\">}</span><br/>      <span class=\"br0\">}</span><br/>    <span class=\"br0\">}</span><br/>    exit<span class=\"br0\">(</span><span class=\"nu0\">0</span><span class=\"br0\">)</span><br/><span class=\"br0\">}</span><br/>\u00a0</pre>"}, {"lang": "Batch File", "loc": 37, "block": "<pre class=\"text highlighted_source\">\u00a0<br/>@echo off<br/>setlocal enabledelayedexpansion<br/>set /p yr= Enter year: <br/>echo.<br/>call:monthdays\u00a0%yr% list <br/>set mm=1<br/>for\u00a0%%i in (!list!) do (<br/>  call:calcdow\u00a0!yr!\u00a0!mm!\u00a0%%i dow<br/>  set/a lsu=%%i-dow<br/>  set mf=0!mm!<br/>  echo\u00a0!yr!-!mf:~-2!-!lsu! <br/>  set /a mm+=1<br/>)<br/>pause<br/>exit /b<br/>\u00a0<br/>:monthdays yr &amp;list<br/>setlocal<br/>call:isleap\u00a0%1 ly<br/>for /L\u00a0%%i in (1,1,12) do (<br/>  set /a \"nn = 30 + ^!(((%%i &amp; 9) + 6)\u00a0%% 7) + ^!(%%i ^^ 2) * (ly - 2)<br/>  set list=!list!\u00a0!nn!<br/>)<br/>endlocal &amp; set\u00a0%2=%list%<br/>exit /b<br/>\u00a0<br/>:calcdow yr mt dy &amp;dow \u00a0:: 0=sunday<br/>setlocal<br/>set/a a=(14-%2)/12,yr=%1-a,m=%2+12*a-2,\"dow=(%3+yr+yr/4-yr/100+yr/400+31*m/12)%%7\"<br/>endlocal &amp; set\u00a0%~4=%dow%<br/>exit /b<br/>\u00a0<br/>:isleap yr &amp;leap \u00a0:: remove ^ if not delayed expansion<br/>set /a \"%2=^!(%1%%4)+(^!^!(%1%%100)-^!^!(%1%%400))\"<br/>exit /b<br/>\u00a0</pre>"}, {"lang": "BBC BASIC", "loc": 11, "block": "<pre class=\"text highlighted_source\">\u00a0<br/>INSTALL @lib$+\"DATELIB\"<br/>\u00a0<br/>INPUT \"What year to calculate (YYYY)? \" Year%<br/>\u00a0<br/>PRINT '\"Last Sundays in \";Year%;\" are on:\"<br/>FOR Month%=1 TO 12<br/>  PRINT Year% \"-\" RIGHT$(\"0\"+STR$Month%,2) \"-\";FN_dim(Month%,Year%)-FN_dow(FN_mjd(FN_dim(Month%,Year%),Month%,Year%))<br/>NEXT<br/>END<br/>\u00a0</pre>"}, {"lang": "Befunge", "loc": 6, "block": "<pre class=\"text highlighted_source\">\":raeY\",,,,,&amp;&gt;55+,:::45*:*%\\\"d\"%!*\\4%+!3v<br/>v2++6**\"I\"5\\+/*:*54\\-/\"d\"\\/4::-1::p53+g5&lt;<br/>&gt;:00p5g4-+7%\\:0\\v&gt;,\"-\",5g+:55+/68*+,55+%v<br/>^&lt;&lt;_$$vv*86%+55:&lt;^+*86%+55,+*86/+55:-1:&lt;6<br/>&gt;$$^@$&lt;&gt;+\\55+/:#^_$&gt;:#,_$\"-\",\\:04-\\-00g^8<br/>^&lt;# #\"#\"##\"#\"##!`       +76:+1g00,+55,+*&lt;</pre>"}, {"lang": "C", "loc": 21, "block": "<pre class=\"c highlighted_source\">\u00a0<br/><span class=\"co2\">#include &lt;stdio.h&gt;</span><br/><span class=\"co2\">#include &lt;stdlib.h&gt;</span><br/>\u00a0<br/><span class=\"kw4\">int</span> main<span class=\"br0\">(</span><span class=\"kw4\">int</span> argc<span class=\"sy0\">,</span> <span class=\"kw4\">char</span> <span class=\"sy0\">*</span>argv<span class=\"br0\">[</span><span class=\"br0\">]</span><span class=\"br0\">)</span><br/><span class=\"br0\">{</span><br/>        <span class=\"kw4\">int</span> days<span class=\"br0\">[</span><span class=\"br0\">]</span> <span class=\"sy0\">=</span> <span class=\"br0\">{</span><span class=\"nu0\">31</span><span class=\"sy0\">,</span><span class=\"nu0\">29</span><span class=\"sy0\">,</span><span class=\"nu0\">31</span><span class=\"sy0\">,</span><span class=\"nu0\">30</span><span class=\"sy0\">,</span><span class=\"nu0\">31</span><span class=\"sy0\">,</span><span class=\"nu0\">30</span><span class=\"sy0\">,</span><span class=\"nu0\">31</span><span class=\"sy0\">,</span><span class=\"nu0\">31</span><span class=\"sy0\">,</span><span class=\"nu0\">30</span><span class=\"sy0\">,</span><span class=\"nu0\">31</span><span class=\"sy0\">,</span><span class=\"nu0\">30</span><span class=\"sy0\">,</span><span class=\"nu0\">31</span><span class=\"br0\">}</span><span class=\"sy0\">;</span><br/>        <span class=\"kw4\">int</span> m<span class=\"sy0\">,</span> y<span class=\"sy0\">,</span> w<span class=\"sy0\">;</span><br/>\u00a0<br/>        <span class=\"kw1\">if</span> <span class=\"br0\">(</span>argc <span class=\"sy0\">&lt;</span> <span class=\"nu0\">2</span> <span class=\"sy0\">||</span> <span class=\"br0\">(</span>y <span class=\"sy0\">=</span> <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/atoi.html\"><span class=\"kw3\">atoi</span></a><span class=\"br0\">(</span>argv<span class=\"br0\">[</span><span class=\"nu0\">1</span><span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"sy0\">&lt;=</span> <span class=\"nu0\">1752</span><span class=\"br0\">)</span> <span class=\"kw1\">return</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>        days<span class=\"br0\">[</span><span class=\"nu0\">1</span><span class=\"br0\">]</span> <span class=\"sy0\">-=</span> <span class=\"br0\">(</span>y <span class=\"sy0\">%</span> <span class=\"nu0\">4</span><span class=\"br0\">)</span> <span class=\"sy0\">||</span> <span class=\"br0\">(</span><span class=\"sy0\">!</span><span class=\"br0\">(</span>y <span class=\"sy0\">%</span> <span class=\"nu0\">100</span><span class=\"br0\">)</span> <span class=\"sy0\">&amp;&amp;</span> <span class=\"br0\">(</span>y <span class=\"sy0\">%</span> <span class=\"nu0\">400</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        w <span class=\"sy0\">=</span> y <span class=\"sy0\">*</span> <span class=\"nu0\">365</span> <span class=\"sy0\">+</span> <span class=\"nu0\">97</span> <span class=\"sy0\">*</span> <span class=\"br0\">(</span>y <span class=\"sy0\">-</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span> <span class=\"sy0\">/</span> <span class=\"nu0\">400</span> <span class=\"sy0\">+</span> <span class=\"nu0\">4</span><span class=\"sy0\">;</span><br/>\u00a0<br/>        <span class=\"kw1\">for</span><span class=\"br0\">(</span>m <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span> m <span class=\"sy0\">&lt;</span> <span class=\"nu0\">12</span><span class=\"sy0\">;</span> m<span class=\"sy0\">++</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>                w <span class=\"sy0\">=</span> <span class=\"br0\">(</span>w <span class=\"sy0\">+</span> days<span class=\"br0\">[</span>m<span class=\"br0\">]</span><span class=\"br0\">)</span> <span class=\"sy0\">%</span> <span class=\"nu0\">7</span><span class=\"sy0\">;</span><br/>                <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/printf.html\"><span class=\"kw3\">printf</span></a><span class=\"br0\">(</span><span class=\"st0\">\"%d-%02d-%d<span class=\"es1\">\\n</span>\"</span><span class=\"sy0\">,</span> y<span class=\"sy0\">,</span> m <span class=\"sy0\">+</span> <span class=\"nu0\">1</span><span class=\"sy0\">,</span>days<span class=\"br0\">[</span>m<span class=\"br0\">]</span> <span class=\"sy0\">-</span> w<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <span class=\"br0\">}</span><br/>\u00a0<br/>        <span class=\"kw1\">return</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span><br/><span class=\"br0\">}</span><br/>\u00a0</pre>"}, {"lang": "C++", "loc": 101, "block": "<pre class=\"cpp highlighted_source\">\u00a0<br/><span class=\"co2\">#include &lt;windows.h&gt;</span><br/><span class=\"co2\">#include &lt;iostream&gt;</span><br/><span class=\"co2\">#include &lt;string&gt;</span><br/>\u00a0<br/><span class=\"co1\">//--------------------------------------------------------------------------------------------------</span><br/><span class=\"kw2\">using</span> <span class=\"kw2\">namespace</span> std<span class=\"sy4\">;</span><br/>\u00a0<br/><span class=\"co1\">//--------------------------------------------------------------------------------------------------</span><br/><span class=\"kw2\">class</span> lastSunday<br/><span class=\"br0\">{</span><br/><span class=\"kw2\">public</span><span class=\"sy4\">:</span><br/>    lastSunday<span class=\"br0\">(</span><span class=\"br0\">)</span><br/>    <span class=\"br0\">{</span><br/>\tm<span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span>  <span class=\"sy1\">=</span> <span class=\"st0\">\"JANUARY:   \"</span><span class=\"sy4\">;</span> m<span class=\"br0\">[</span><span class=\"nu0\">1</span><span class=\"br0\">]</span>  <span class=\"sy1\">=</span> <span class=\"st0\">\"FEBRUARY:  \"</span><span class=\"sy4\">;</span> m<span class=\"br0\">[</span><span class=\"nu0\">2</span><span class=\"br0\">]</span>  <span class=\"sy1\">=</span> <span class=\"st0\">\"MARCH:     \"</span><span class=\"sy4\">;</span> m<span class=\"br0\">[</span><span class=\"nu0\">3</span><span class=\"br0\">]</span>  <span class=\"sy1\">=</span> <span class=\"st0\">\"APRIL:     \"</span><span class=\"sy4\">;</span> <br/>\tm<span class=\"br0\">[</span><span class=\"nu0\">4</span><span class=\"br0\">]</span>  <span class=\"sy1\">=</span> <span class=\"st0\">\"MAY:       \"</span><span class=\"sy4\">;</span> m<span class=\"br0\">[</span><span class=\"nu0\">5</span><span class=\"br0\">]</span>  <span class=\"sy1\">=</span> <span class=\"st0\">\"JUNE:      \"</span><span class=\"sy4\">;</span> m<span class=\"br0\">[</span><span class=\"nu0\">6</span><span class=\"br0\">]</span>  <span class=\"sy1\">=</span> <span class=\"st0\">\"JULY:      \"</span><span class=\"sy4\">;</span> m<span class=\"br0\">[</span><span class=\"nu0\">7</span><span class=\"br0\">]</span>  <span class=\"sy1\">=</span> <span class=\"st0\">\"AUGUST:    \"</span><span class=\"sy4\">;</span> <br/>\tm<span class=\"br0\">[</span><span class=\"nu0\">8</span><span class=\"br0\">]</span>  <span class=\"sy1\">=</span> <span class=\"st0\">\"SEPTEMBER: \"</span><span class=\"sy4\">;</span> m<span class=\"br0\">[</span><span class=\"nu0\">9</span><span class=\"br0\">]</span>  <span class=\"sy1\">=</span> <span class=\"st0\">\"OCTOBER:   \"</span><span class=\"sy4\">;</span> m<span class=\"br0\">[</span><span class=\"nu0\">10</span><span class=\"br0\">]</span> <span class=\"sy1\">=</span> <span class=\"st0\">\"NOVEMBER:  \"</span><span class=\"sy4\">;</span> m<span class=\"br0\">[</span><span class=\"nu0\">11</span><span class=\"br0\">]</span> <span class=\"sy1\">=</span> <span class=\"st0\">\"DECEMBER:  \"</span><span class=\"sy4\">;</span> <br/>    <span class=\"br0\">}</span><br/>\u00a0<br/>    <span class=\"kw4\">void</span> findLastSunday<span class=\"br0\">(</span> <span class=\"kw4\">int</span> y <span class=\"br0\">)</span><br/>    <span class=\"br0\">{</span><br/>\tyear <span class=\"sy1\">=</span> y<span class=\"sy4\">;</span><br/>\tisleapyear<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy4\">;</span><br/>\u00a0<br/>\t<span class=\"kw4\">int</span> days<span class=\"br0\">[</span><span class=\"br0\">]</span> <span class=\"sy1\">=</span> <span class=\"br0\">{</span> <span class=\"nu0\">31</span>, isleap <span class=\"sy4\">?</span> <span class=\"nu0\">29</span> <span class=\"sy4\">:</span> <span class=\"nu0\">28</span>, <span class=\"nu0\">31</span>, <span class=\"nu0\">30</span>, <span class=\"nu0\">31</span>, <span class=\"nu0\">30</span>, <span class=\"nu0\">31</span>, <span class=\"nu0\">31</span>, <span class=\"nu0\">30</span>, <span class=\"nu0\">31</span>, <span class=\"nu0\">30</span>, <span class=\"nu0\">31</span> <span class=\"br0\">}</span>,<br/>\t\td<span class=\"sy4\">;</span><br/>\t<span class=\"kw1\">for</span><span class=\"br0\">(</span> <span class=\"kw4\">int</span> i <span class=\"sy1\">=</span> <span class=\"nu0\">0</span><span class=\"sy4\">;</span> i <span class=\"sy1\">&lt;</span> <span class=\"nu0\">12</span><span class=\"sy4\">;</span> i<span class=\"sy2\">++</span> <span class=\"br0\">)</span><br/>\t<span class=\"br0\">{</span><br/>\t    d <span class=\"sy1\">=</span> days<span class=\"br0\">[</span>i<span class=\"br0\">]</span><span class=\"sy4\">;</span><br/>\t    <span class=\"kw1\">while</span><span class=\"br0\">(</span> <span class=\"kw2\">true</span> <span class=\"br0\">)</span><br/>\t    <span class=\"br0\">{</span><br/>\t\t<span class=\"kw1\">if</span><span class=\"br0\">(</span> <span class=\"sy3\">!</span>getWeekDay<span class=\"br0\">(</span> i, d <span class=\"br0\">)</span> <span class=\"br0\">)</span> <span class=\"kw1\">break</span><span class=\"sy4\">;</span><br/>\t\td<span class=\"sy2\">--</span><span class=\"sy4\">;</span><br/>\t    <span class=\"br0\">}</span><br/>\t    lastDay<span class=\"br0\">[</span>i<span class=\"br0\">]</span> <span class=\"sy1\">=</span> d<span class=\"sy4\">;</span><br/>\t<span class=\"br0\">}</span><br/>\u00a0<br/>\tdisplay<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy4\">;</span><br/>    <span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw2\">private</span><span class=\"sy4\">:</span><br/>    <span class=\"kw4\">void</span> isleapyear<span class=\"br0\">(</span><span class=\"br0\">)</span><br/>    <span class=\"br0\">{</span><br/>\tisleap <span class=\"sy1\">=</span> <span class=\"kw2\">false</span><span class=\"sy4\">;</span><br/>\t<span class=\"kw1\">if</span><span class=\"br0\">(</span> <span class=\"sy3\">!</span><span class=\"br0\">(</span> year <span class=\"sy2\">%</span> <span class=\"nu0\">4</span> <span class=\"br0\">)</span> <span class=\"br0\">)</span><br/>\t<span class=\"br0\">{</span><br/>\t    <span class=\"kw1\">if</span><span class=\"br0\">(</span> year <span class=\"sy2\">%</span> <span class=\"nu0\">100</span> <span class=\"br0\">)</span> isleap <span class=\"sy1\">=</span> <span class=\"kw2\">true</span><span class=\"sy4\">;</span><br/>\t    <span class=\"kw1\">else</span> <span class=\"kw1\">if</span><span class=\"br0\">(</span> <span class=\"sy3\">!</span><span class=\"br0\">(</span> year <span class=\"sy2\">%</span> <span class=\"nu0\">400</span> <span class=\"br0\">)</span> <span class=\"br0\">)</span> isleap <span class=\"sy1\">=</span> <span class=\"kw2\">true</span><span class=\"sy4\">;</span><br/>\t<span class=\"br0\">}</span><br/>    <span class=\"br0\">}</span><br/>\u00a0<br/>    <span class=\"kw4\">void</span> display<span class=\"br0\">(</span><span class=\"br0\">)</span><br/>    <span class=\"br0\">{</span><br/>\t<span class=\"kw3\">system</span><span class=\"br0\">(</span> <span class=\"st0\">\"cls\"</span> <span class=\"br0\">)</span><span class=\"sy4\">;</span><br/>\t<span class=\"kw3\">cout</span> <span class=\"sy1\">&lt;&lt;</span> <span class=\"st0\">\"  YEAR \"</span> <span class=\"sy1\">&lt;&lt;</span> year <span class=\"sy1\">&lt;&lt;</span> endl <span class=\"sy1\">&lt;&lt;</span> <span class=\"st0\">\"=============\"</span> <span class=\"sy1\">&lt;&lt;</span> endl<span class=\"sy4\">;</span><br/>\t<span class=\"kw1\">for</span><span class=\"br0\">(</span> <span class=\"kw4\">int</span> x <span class=\"sy1\">=</span> <span class=\"nu0\">0</span><span class=\"sy4\">;</span> x <span class=\"sy1\">&lt;</span> <span class=\"nu0\">12</span><span class=\"sy4\">;</span> x<span class=\"sy2\">++</span> <span class=\"br0\">)</span><br/>\t    <span class=\"kw3\">cout</span> <span class=\"sy1\">&lt;&lt;</span> m<span class=\"br0\">[</span>x<span class=\"br0\">]</span> <span class=\"sy1\">&lt;&lt;</span> lastDay<span class=\"br0\">[</span>x<span class=\"br0\">]</span> <span class=\"sy1\">&lt;&lt;</span> endl<span class=\"sy4\">;</span><br/>\u00a0<br/>\t<span class=\"kw3\">cout</span> <span class=\"sy1\">&lt;&lt;</span> endl <span class=\"sy1\">&lt;&lt;</span> endl<span class=\"sy4\">;</span><br/>    <span class=\"br0\">}</span><br/>\u00a0<br/>    <span class=\"kw4\">int</span> getWeekDay<span class=\"br0\">(</span> <span class=\"kw4\">int</span> m, <span class=\"kw4\">int</span> d <span class=\"br0\">)</span><br/>    <span class=\"br0\">{</span><br/>\t<span class=\"kw4\">int</span> y <span class=\"sy1\">=</span> year<span class=\"sy4\">;</span><br/>\u00a0<br/>\t<span class=\"kw4\">int</span> f <span class=\"sy1\">=</span> y <span class=\"sy2\">+</span> d <span class=\"sy2\">+</span> <span class=\"nu0\">3</span> <span class=\"sy2\">*</span> m <span class=\"sy2\">-</span> <span class=\"nu0\">1</span><span class=\"sy4\">;</span><br/>\tm<span class=\"sy2\">++</span><span class=\"sy4\">;</span><br/>\t<span class=\"kw1\">if</span><span class=\"br0\">(</span> m <span class=\"sy1\">&lt;</span> <span class=\"nu0\">3</span> <span class=\"br0\">)</span> y<span class=\"sy2\">--</span><span class=\"sy4\">;</span><br/>\t<span class=\"kw1\">else</span> f <span class=\"sy2\">-</span><span class=\"sy1\">=</span> <span class=\"kw4\">int</span><span class=\"br0\">(</span> <span class=\"nu18\">.4</span> <span class=\"sy2\">*</span> m <span class=\"sy2\">+</span> <span class=\"nu16\">2.3</span> <span class=\"br0\">)</span><span class=\"sy4\">;</span><br/>\u00a0<br/>\tf <span class=\"sy2\">+</span><span class=\"sy1\">=</span> <span class=\"kw4\">int</span><span class=\"br0\">(</span> y <span class=\"sy2\">/</span> <span class=\"nu0\">4</span> <span class=\"br0\">)</span> <span class=\"sy2\">-</span> <span class=\"kw4\">int</span><span class=\"br0\">(</span> <span class=\"br0\">(</span> y <span class=\"sy2\">/</span> <span class=\"nu0\">100</span> <span class=\"sy2\">+</span> <span class=\"nu0\">1</span> <span class=\"br0\">)</span> <span class=\"sy2\">*</span> <span class=\"nu16\">0.75</span> <span class=\"br0\">)</span><span class=\"sy4\">;</span><br/>\tf <span class=\"sy2\">%</span><span class=\"sy1\">=</span> <span class=\"nu0\">7</span><span class=\"sy4\">;</span><br/>\u00a0<br/>\t<span class=\"kw1\">return</span> f<span class=\"sy4\">;</span><br/>    <span class=\"br0\">}</span><br/>\u00a0<br/>    <span class=\"kw4\">int</span> lastDay<span class=\"br0\">[</span><span class=\"nu0\">12</span><span class=\"br0\">]</span>, year<span class=\"sy4\">;</span><br/>    string m<span class=\"br0\">[</span><span class=\"nu0\">12</span><span class=\"br0\">]</span><span class=\"sy4\">;</span><br/>    <span class=\"kw4\">bool</span> isleap<span class=\"sy4\">;</span><br/><span class=\"br0\">}</span><span class=\"sy4\">;</span><br/><span class=\"co1\">//--------------------------------------------------------------------------------------------------</span><br/><span class=\"kw4\">int</span> main<span class=\"br0\">(</span> <span class=\"kw4\">int</span> argc, <span class=\"kw4\">char</span><span class=\"sy2\">*</span> argv<span class=\"br0\">[</span><span class=\"br0\">]</span> <span class=\"br0\">)</span><br/><span class=\"br0\">{</span><br/>    <span class=\"kw4\">int</span> y<span class=\"sy4\">;</span><br/>    lastSunday ls<span class=\"sy4\">;</span><br/>\u00a0<br/>    <span class=\"kw1\">while</span><span class=\"br0\">(</span> <span class=\"kw2\">true</span> <span class=\"br0\">)</span><br/>    <span class=\"br0\">{</span><br/>\t<span class=\"kw3\">system</span><span class=\"br0\">(</span> <span class=\"st0\">\"cls\"</span> <span class=\"br0\">)</span><span class=\"sy4\">;</span><br/>\t<span class=\"kw3\">cout</span> <span class=\"sy1\">&lt;&lt;</span> <span class=\"st0\">\"Enter the year( yyyy ) --- ( 0 to quit ): \"</span><span class=\"sy4\">;</span> <br/>\t<span class=\"kw3\">cin</span> <span class=\"sy1\">&gt;&gt;</span> y<span class=\"sy4\">;</span><br/>\t<span class=\"kw1\">if</span><span class=\"br0\">(</span> <span class=\"sy3\">!</span>y <span class=\"br0\">)</span> <span class=\"kw1\">return</span> <span class=\"nu0\">0</span><span class=\"sy4\">;</span><br/>\u00a0<br/>\tls.<span class=\"me1\">findLastSunday</span><span class=\"br0\">(</span> y <span class=\"br0\">)</span><span class=\"sy4\">;</span><br/>\u00a0<br/>\t<span class=\"kw3\">system</span><span class=\"br0\">(</span> <span class=\"st0\">\"pause\"</span> <span class=\"br0\">)</span><span class=\"sy4\">;</span><br/>    <span class=\"br0\">}</span><br/>    <span class=\"kw1\">return</span> <span class=\"nu0\">0</span><span class=\"sy4\">;</span><br/><span class=\"br0\">}</span><br/><span class=\"co1\">//--------------------------------------------------------------------------------------------------</span><br/>\u00a0</pre>"}, {"lang": "C#", "loc": 27, "block": "<pre class=\"csharp highlighted_source\"><span class=\"kw1\">using</span> <span class=\"co3\">System</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"kw1\">namespace</span> LastSundayOfEachMonth<br/><span class=\"br0\">{</span><br/>    <span class=\"kw4\">class</span> Program<br/>    <span class=\"br0\">{</span><br/>        <span class=\"kw1\">static</span> <span class=\"kw4\">void</span> Main<span class=\"br0\">(</span><span class=\"br0\">)</span><br/>        <span class=\"br0\">{</span><br/>            Console<span class=\"sy0\">.</span><span class=\"me1\">Write</span><span class=\"br0\">(</span><span class=\"st0\">\"Year to calculate: \"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>            <span class=\"kw4\">string</span> strYear <span class=\"sy0\">=</span> Console<span class=\"sy0\">.</span><span class=\"me1\">ReadLine</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            <span class=\"kw4\">int</span> year <span class=\"sy0\">=</span> Convert<span class=\"sy0\">.</span><span class=\"me1\">ToInt32</span><span class=\"br0\">(</span>strYear<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>            DateTime date<span class=\"sy0\">;</span><br/>            <span class=\"kw1\">for</span> <span class=\"br0\">(</span><span class=\"kw4\">int</span> i <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"sy0\">;</span> i <span class=\"sy0\">&lt;=</span> <span class=\"nu0\">12</span><span class=\"sy0\">;</span> i<span class=\"sy0\">++</span><span class=\"br0\">)</span><br/>            <span class=\"br0\">{</span><br/>                date <span class=\"sy0\">=</span> <a href=\"http://www.google.com/search?q=new+msdn.microsoft.com\"><span class=\"kw3\">new</span></a> DateTime<span class=\"br0\">(</span>year, i, DateTime<span class=\"sy0\">.</span><span class=\"me1\">DaysInMonth</span><span class=\"br0\">(</span>year, i<span class=\"br0\">)</span>, <span class=\"kw5\">System.<span class=\"me1\">Globalization</span></span><span class=\"sy0\">.</span><span class=\"me1\">CultureInfo</span><span class=\"sy0\">.</span><span class=\"me1\">CurrentCulture</span><span class=\"sy0\">.</span><span class=\"me1\">Calendar</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>                <span class=\"kw1\">while</span> <span class=\"br0\">(</span>date<span class=\"sy0\">.</span><span class=\"me1\">DayOfWeek</span> <span class=\"sy0\">!=</span> DayOfWeek<span class=\"sy0\">.</span><span class=\"me1\">Sunday</span><span class=\"br0\">)</span><br/>                <span class=\"br0\">{</span><br/>                    date <span class=\"sy0\">=</span> date<span class=\"sy0\">.</span><span class=\"me1\">AddDays</span><span class=\"br0\">(</span><span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>                <span class=\"br0\">}</span><br/>                Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span>date<span class=\"sy0\">.</span><span class=\"me1\">ToString</span><span class=\"br0\">(</span><span class=\"st0\">\"yyyy-MM-dd\"</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            <span class=\"br0\">}</span><br/>        <span class=\"br0\">}</span><br/>    <span class=\"br0\">}</span><br/><span class=\"br0\">}</span><br/>\u00a0</pre>"}, {"lang": "Clojure", "loc": 26, "block": "<pre class=\"clojure highlighted_source\"><span class=\"br0\">(</span><span class=\"kw1\">ns</span> last<span class=\"sy0\">-</span>sundays<span class=\"sy0\">.</span>core<br/>  <span class=\"br0\">(</span>:<span class=\"me1\">require</span> <span class=\"br0\">[</span>clj<span class=\"sy0\">-</span><span class=\"kw1\">time</span><span class=\"sy0\">.</span>core\u00a0:<span class=\"me1\">as</span> <span class=\"kw1\">time</span><span class=\"br0\">]</span><br/>            <span class=\"br0\">[</span>clj<span class=\"sy0\">-</span><span class=\"kw1\">time</span><span class=\"sy0\">.</span>periodic\u00a0:<span class=\"kw1\">refer</span> <span class=\"br0\">[</span>periodic<span class=\"sy0\">-</span>seq<span class=\"br0\">]</span><span class=\"br0\">]</span><br/>            <span class=\"br0\">[</span>clj<span class=\"sy0\">-</span><span class=\"kw1\">time</span><span class=\"sy0\">.</span><span class=\"kw1\">format</span>\u00a0:<span class=\"me1\">as</span> fmt<span class=\"br0\">]</span><span class=\"br0\">)</span><br/>  <span class=\"br0\">(</span>:<span class=\"kw1\">import</span> <span class=\"br0\">(</span>org<span class=\"sy0\">.</span>joda<span class=\"sy0\">.</span><span class=\"kw1\">time</span> DateTime DateTimeConstants<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>  <span class=\"br0\">(</span>:<span class=\"kw1\">gen-class</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>\u00a0<br/><span class=\"br0\">(</span><span class=\"kw1\">defn</span> sunday? <span class=\"br0\">[</span>t<span class=\"br0\">]</span><br/>  <span class=\"br0\">(</span><span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"sy0\">.</span>getDayOfWeek t<span class=\"br0\">)</span> <span class=\"br0\">(</span>DateTimeConstants<span class=\"sy0\">/</span>SUNDAY<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>\u00a0<br/><span class=\"br0\">(</span><span class=\"kw1\">defn</span> sundays <span class=\"br0\">[</span>year<span class=\"br0\">]</span><br/>  <span class=\"br0\">(</span><span class=\"kw1\">take-while</span> #<span class=\"br0\">(</span><span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"kw1\">time</span><span class=\"sy0\">/</span>year <span class=\"sy0\">%</span><span class=\"br0\">)</span> year<span class=\"br0\">)</span><br/>              <span class=\"br0\">(</span><span class=\"kw1\">filter</span> sunday? <span class=\"br0\">(</span>periodic<span class=\"sy0\">-</span>seq <span class=\"br0\">(</span><span class=\"kw1\">time</span><span class=\"sy0\">/</span>date<span class=\"sy0\">-</span><span class=\"kw1\">time</span> year <span class=\"nu0\">1</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span> <span class=\"br0\">(</span><span class=\"kw1\">time</span><span class=\"sy0\">/</span>days <span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>\u00a0<br/><span class=\"br0\">(</span><span class=\"kw1\">defn</span> last<span class=\"sy0\">-</span>sundays<span class=\"sy0\">-</span>of<span class=\"sy0\">-</span>months <span class=\"br0\">[</span>year<span class=\"br0\">]</span><br/>  <span class=\"br0\">(</span><span class=\"sy0\">-&gt;&gt;</span> <span class=\"br0\">(</span>sundays year<span class=\"br0\">)</span><br/>       <span class=\"br0\">(</span>group<span class=\"sy0\">-</span>by <span class=\"kw1\">time</span><span class=\"sy0\">/</span>month<span class=\"br0\">)</span><br/>       <span class=\"br0\">(</span><span class=\"kw1\">vals</span><span class=\"br0\">)</span><br/>       <span class=\"br0\">(</span><span class=\"kw1\">map</span> <span class=\"br0\">(</span>comp <span class=\"kw1\">first</span> #<span class=\"br0\">(</span><span class=\"kw1\">sort-by</span> <span class=\"kw1\">time</span><span class=\"sy0\">/</span>day <span class=\"sy0\">&gt;</span> <span class=\"sy0\">%</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>       <span class=\"br0\">(</span><span class=\"kw1\">map</span> #<span class=\"br0\">(</span>fmt<span class=\"sy0\">/</span>unparse <span class=\"br0\">(</span>fmt<span class=\"sy0\">/</span>formatters\u00a0:<span class=\"me1\">year</span><span class=\"sy0\">-</span>month<span class=\"sy0\">-</span>day<span class=\"br0\">)</span> <span class=\"sy0\">%</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>       <span class=\"br0\">(</span><span class=\"kw1\">interpose</span> <span class=\"st0\">\"<span class=\"es0\">\\n</span>\"</span><span class=\"br0\">)</span><br/>       <span class=\"br0\">(</span><span class=\"kw1\">apply</span> <span class=\"kw1\">str</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>\u00a0<br/><span class=\"br0\">(</span><span class=\"kw1\">defn</span> <span class=\"sy0\">-</span>main <span class=\"br0\">[</span><span class=\"sy0\">&amp;</span> args<span class=\"br0\">]</span><br/>  <span class=\"br0\">(</span>println <span class=\"br0\">(</span>last<span class=\"sy0\">-</span>sundays<span class=\"sy0\">-</span>of<span class=\"sy0\">-</span>months <span class=\"br0\">(</span>Integer<span class=\"sy0\">.</span> <span class=\"br0\">(</span><span class=\"kw1\">first</span> args<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>\u00a0</pre>"}, {"lang": "COBOL", "loc": 50, "block": "<pre class=\"cobol highlighted_source\">\u00a0<br/>       <span class=\"kw3\">program-id</span><span class=\"sy0\">.</span> last-sun<span class=\"sy0\">.</span><br/>       <span class=\"kw3\">data</span> <span class=\"kw3\">division</span><span class=\"sy0\">.</span><br/>       <span class=\"kw3\">working-storage</span> <span class=\"kw1\">section</span><span class=\"sy0\">.</span><br/>       <span class=\"nu0\">1</span> wk-<span class=\"kw3\">date</span><span class=\"sy0\">.</span><br/>        <span class=\"nu0\">2</span> yr <span class=\"kw3\">pic</span> <span class=\"nu0\">9999</span><span class=\"sy0\">.</span><br/>        <span class=\"nu0\">2</span> mo <span class=\"kw3\">pic</span> <span class=\"nu0\">99</span> <span class=\"kw3\">value</span> <span class=\"nu0\">1</span><span class=\"sy0\">.</span><br/>        <span class=\"nu0\">2</span> da <span class=\"kw3\">pic</span> <span class=\"nu0\">99</span> <span class=\"kw3\">value</span> <span class=\"nu0\">1</span><span class=\"sy0\">.</span><br/>       <span class=\"nu0\">1</span> rd-<span class=\"kw3\">date</span> <span class=\"kw3\">redefines</span> wk-<span class=\"kw3\">date</span> <span class=\"kw3\">pic</span> <span class=\"nu0\">9</span><span class=\"br0\">(</span><span class=\"nu0\">8</span><span class=\"br0\">)</span><span class=\"sy0\">.</span><br/>       <span class=\"nu0\">1</span> <span class=\"kw3\">binary</span><span class=\"sy0\">.</span><br/>        <span class=\"nu0\">2</span> int-<span class=\"kw3\">date</span> <span class=\"kw3\">pic</span> <span class=\"nu0\">9</span><span class=\"br0\">(</span><span class=\"nu0\">8</span><span class=\"br0\">)</span><span class=\"sy0\">.</span><br/>        <span class=\"nu0\">2</span> dow <span class=\"kw3\">pic</span> <span class=\"nu0\">9</span><span class=\"br0\">(</span><span class=\"nu0\">4</span><span class=\"br0\">)</span><span class=\"sy0\">.</span><br/>        <span class=\"nu0\">2</span> sunday <span class=\"kw3\">pic</span> <span class=\"nu0\">9</span><span class=\"br0\">(</span><span class=\"nu0\">4</span><span class=\"br0\">)</span> <span class=\"kw3\">value</span> <span class=\"nu0\">7</span><span class=\"sy0\">.</span><br/>       <span class=\"kw3\">procedure</span> <span class=\"kw3\">division</span><span class=\"sy0\">.</span><br/>           <span class=\"kw2\">display</span> <span class=\"st0\">\"Enter a calendar year (1601 thru 9999): \"</span><br/>               <span class=\"kw3\">with</span> <span class=\"kw3\">no</span> <span class=\"kw3\">advancing</span><br/>           <span class=\"kw2\">accept</span> yr<br/>           <span class=\"kw1\">if</span> yr &gt;<span class=\"sy0\">=</span> <span class=\"nu0\">1601</span> <span class=\"kw3\">and</span> &lt;<span class=\"sy0\">=</span> <span class=\"nu0\">9999</span><br/>               <span class=\"kw2\">continue</span><br/>           <span class=\"kw3\">else</span><br/>               <span class=\"kw2\">display</span> <span class=\"st0\">\"Invalid year\"</span><br/>               <span class=\"kw3\">stop</span> <span class=\"kw3\">run</span><br/>           end-<span class=\"kw1\">if</span><br/>           <span class=\"kw2\">perform</span> <span class=\"nu0\">12</span> <span class=\"kw2\">times</span><br/>               <span class=\"kw2\">move</span> <span class=\"nu0\">1</span> <span class=\"kw2\">to</span> da<br/>               <span class=\"kw2\">add</span> <span class=\"nu0\">1</span> <span class=\"kw2\">to</span> mo<br/>               <span class=\"kw1\">if</span> mo &gt; <span class=\"nu0\">12</span>              *&gt; <span class=\"kw2\">to</span> avoid y10k <span class=\"kw3\">in</span> <span class=\"nu0\">9999</span><br/>                   <span class=\"kw2\">move</span> <span class=\"nu0\">12</span> <span class=\"kw2\">to</span> mo<br/>                   <span class=\"kw2\">move</span> <span class=\"nu0\">31</span> <span class=\"kw2\">to</span> da<br/>               end-<span class=\"kw1\">if</span><br/>               <span class=\"kw2\">compute</span> int-<span class=\"kw3\">date</span> <span class=\"sy0\">=</span> <span class=\"kw3\">function</span><br/>                   integer-of-<span class=\"kw3\">date</span> <span class=\"br0\">(</span>rd-<span class=\"kw3\">date</span><span class=\"br0\">)</span><br/>               <span class=\"kw1\">if</span> mo <span class=\"sy0\">=</span><span class=\"nu0\">12</span> <span class=\"kw3\">and</span> da <span class=\"sy0\">=</span> <span class=\"nu0\">31</span>   *&gt; <span class=\"kw2\">to</span> avoid y10k <span class=\"kw3\">in</span> <span class=\"nu0\">9999</span><br/>                   <span class=\"kw2\">continue</span><br/>               <span class=\"kw3\">else</span><br/>                   <span class=\"kw3\">subtract</span> <span class=\"nu0\">1</span> <span class=\"kw3\">from</span> int-<span class=\"kw3\">date</span><br/>               end-<span class=\"kw1\">if</span><br/>               <span class=\"kw2\">compute</span> rd-<span class=\"kw3\">date</span> <span class=\"sy0\">=</span> <span class=\"kw3\">function</span><br/>                   <span class=\"kw4\">date-of-integer</span> <span class=\"br0\">(</span>int-<span class=\"kw3\">date</span><span class=\"br0\">)</span><br/>               <span class=\"kw2\">compute</span> dow <span class=\"sy0\">=</span> <span class=\"kw3\">function</span> <span class=\"kw4\">mod</span><br/>                   <span class=\"br0\">(</span><span class=\"br0\">(</span>int-<span class=\"kw3\">date</span><span class=\"sy0\"> - </span><span class=\"nu0\">1</span><span class=\"br0\">)</span> <span class=\"nu0\">7</span><span class=\"br0\">)</span><span class=\"sy0\"> + </span><span class=\"nu0\">1</span><br/>               <span class=\"kw2\">compute</span> dow <span class=\"sy0\">=</span> <span class=\"kw3\">function</span> <span class=\"kw4\">mod</span> <span class=\"br0\">(</span><span class=\"br0\">(</span>dow<span class=\"sy0\"> - </span>sunday<span class=\"br0\">)</span> <span class=\"nu0\">7</span><span class=\"br0\">)</span><br/>               <span class=\"kw3\">subtract</span> dow <span class=\"kw3\">from</span> da<br/>               <span class=\"kw2\">display</span> yr <span class=\"st0\">\"-\"</span> mo <span class=\"st0\">\"-\"</span> da<br/>               <span class=\"kw2\">add</span> <span class=\"nu0\">1</span> <span class=\"kw2\">to</span> mo<br/>           end-<span class=\"kw2\">perform</span><br/>           <span class=\"kw3\">stop</span> <span class=\"kw3\">run</span><br/>           <span class=\"sy0\">.</span><br/>       <span class=\"kw3\">end</span> <span class=\"kw3\">program</span> last-sun<span class=\"sy0\">.</span><br/>\u00a0</pre>"}, {"lang": "Common Lisp", "loc": 16, "block": "<pre class=\"lisp highlighted_source\"><span class=\"br0\">(</span><span class=\"kw1\">defun</span> last-sundays <span class=\"br0\">(</span>year<span class=\"br0\">)</span><br/>  <span class=\"br0\">(</span>loop for month from <span class=\"nu0\">1</span> to <span class=\"nu0\">12</span><br/>        for last-month-p <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"sy0\">=</span> month <span class=\"nu0\">12</span><span class=\"br0\">)</span><br/>        for next-month <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"kw1\">if</span> last-month-p <span class=\"nu0\">1</span> <span class=\"br0\">(</span><span class=\"nu0\">1</span>+ month<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>        for year-of-next-month <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"kw1\">if</span> last-month-p <span class=\"br0\">(</span><span class=\"nu0\">1</span>+ year<span class=\"br0\">)</span> year<span class=\"br0\">)</span><br/>        for 1st-day-next-month <span class=\"sy0\">=</span> <span class=\"br0\">(</span>encode-universal-time <span class=\"nu0\">0</span> <span class=\"nu0\">0</span> <span class=\"nu0\">0</span> <span class=\"nu0\">1</span> next-month year-of-next-month <span class=\"nu0\">0</span><span class=\"br0\">)</span><br/>        for 1st-day-dow <span class=\"sy0\">=</span> <span class=\"br0\">(</span>nth-<span class=\"kw1\">value</span> <span class=\"nu0\">6</span> <span class=\"br0\">(</span>decode-universal-time 1st-day-next-month <span class=\"nu0\">0</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>        <span class=\"co1\">;; 0: monday, 1: tuesday, ... 6: sunday</span><br/>        for diff-to-last-sunday <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"nu0\">1</span>+ 1st-day-dow<span class=\"br0\">)</span><br/>        for last-sunday <span class=\"sy0\">=</span> <span class=\"br0\">(</span>- 1st-day-next-month <span class=\"br0\">(</span>* diff-to-last-sunday <span class=\"nu0\">24</span> <span class=\"nu0\">60</span> <span class=\"nu0\">60</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>        <span class=\"kw1\">do</span> <span class=\"br0\">(</span>multiple-value-bind <span class=\"br0\">(</span>second minute hour date month year<span class=\"br0\">)</span><br/>               <span class=\"br0\">(</span>decode-universal-time last-sunday <span class=\"nu0\">0</span><span class=\"br0\">)</span><br/>             <span class=\"br0\">(</span>declare <span class=\"br0\">(</span>ignore second minute hour<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>             <span class=\"br0\">(</span>format t <span class=\"st0\">\"~D-~2,'0D-~2,'0D~%\"</span> year month date<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>\u00a0<br/><span class=\"br0\">(</span>last-sundays <span class=\"nu0\">2013</span><span class=\"br0\">)</span></pre>"}, {"lang": "D", "loc": 14, "block": "<pre class=\"d highlighted_source\"><span class=\"kw4\">void</span> lastSundays<span class=\"br0\">(</span><span class=\"kw2\">in</span> <span class=\"kw4\">uint</span> year<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>    <span class=\"kw2\">import</span> std.<span class=\"me1\">stdio</span><span class=\"sy0\">,</span> std.<span class=\"me1\">datetime</span><span class=\"sy0\">;</span><br/>\u00a0<br/>    <span class=\"kw1\">foreach</span> <span class=\"br0\">(</span><span class=\"kw4\">immutable</span> month<span class=\"sy0\">;</span> <span class=\"nu0\">1</span> <span class=\"sy0\">..</span> <span class=\"nu0\">13</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>        <span class=\"kw4\">auto</span> date <span class=\"sy0\">=</span> Date<span class=\"br0\">(</span>year<span class=\"sy0\">,</span> month<span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        date.<span class=\"me1\">day</span><span class=\"br0\">(</span>date.<span class=\"me1\">daysInMonth</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        date.<span class=\"me1\">roll</span><span class=\"sy0\">!</span><span class=\"st0\">\"days\"</span><span class=\"br0\">(</span><span class=\"sy0\">-</span><span class=\"br0\">(</span>date.<span class=\"me1\">dayOfWeek</span> <span class=\"sy0\">+</span> <span class=\"nu0\">7</span><span class=\"br0\">)</span> <span class=\"sy0\">%</span> <span class=\"nu0\">7</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        date.<span class=\"me1\">writeln</span><span class=\"sy0\">;</span><br/>    <span class=\"br0\">}</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw4\">void</span> main<span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>    lastSundays<span class=\"br0\">(</span><span class=\"nu0\">2013</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "Elixir", "loc": 15, "block": "<pre class=\"text highlighted_source\">defmodule RC do<br/>  def lastSunday(year) do<br/>    Enum.map(1..12, fn month -&gt;<br/>      lastday =\u00a0:calendar.last_day_of_the_month(year, month)<br/>      daynum =\u00a0:calendar.day_of_the_week(year, month, lastday)<br/>      sunday = lastday - rem(daynum, 7)<br/>      {year, month, sunday}<br/>    end)<br/>  end  <br/>end<br/>\u00a0<br/>y = String.to_integer(hd(System.argv))<br/>Enum.each(RC.lastSunday(y), fn {year, month, day} -&gt;<br/> \u00a0:io.format \"~4b-~2..0w-~2..0w~n\", [year, month, day]<br/>end)</pre>"}, {"lang": "Erlang", "loc": 16, "block": "<pre class=\"erlang highlighted_source\">\u00a0<br/><span class=\"sy3\">-</span><span class=\"re2\">module</span><span class=\"br0\">(</span>last_sundays<span class=\"br0\">)</span><span class=\"sy1\">.</span><br/>\u00a0<br/><span class=\"sy3\">-</span><span class=\"re2\">export</span><span class=\"br0\">(</span><span class=\"br0\">[</span>in_year<span class=\"sy3\">/</span><span class=\"nu0\">1</span><span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy1\">.</span><br/>\u00a0<br/><span class=\"co1\">% calculate all the last sundays in a particular year</span><br/><span class=\"re3\">in_year</span><span class=\"br0\">(</span><span class=\"re5\">Year</span><span class=\"br0\">)</span> <span class=\"sy1\">-&gt;</span><br/>    <span class=\"br0\">[</span><span class=\"re3\">lastday</span><span class=\"br0\">(</span><span class=\"re5\">Year</span><span class=\"sy1\">,</span> <span class=\"re5\">Month</span><span class=\"sy1\">,</span> <span class=\"nu0\">7</span><span class=\"br0\">)</span> <span class=\"sy3\">||</span> <span class=\"re5\">Month</span> <span class=\"sy3\">&lt;-</span> <a href=\"http://erlang.org/doc/man/lists.html\"><span class=\"kw5\">lists</span></a>:<span class=\"re3\">seq</span><span class=\"br0\">(</span><span class=\"nu0\">1</span><span class=\"sy1\">,</span> <span class=\"nu0\">12</span><span class=\"br0\">)</span><span class=\"br0\">]</span><span class=\"sy1\">.</span><br/>\u00a0<br/><span class=\"co1\">% calculate the date of the last occurrence of a particular weekday</span><br/><span class=\"re3\">lastday</span><span class=\"br0\">(</span><span class=\"re5\">Year</span><span class=\"sy1\">,</span> <span class=\"re5\">Month</span><span class=\"sy1\">,</span> <span class=\"re5\">WeekDay</span><span class=\"br0\">)</span> <span class=\"sy1\">-&gt;</span><br/>    <span class=\"re5\">Ldm</span> <span class=\"sy3\">=</span> <a href=\"http://erlang.org/doc/man/calendar.html\"><span class=\"kw5\">calendar</span></a>:<span class=\"re3\">last_day_of_the_month</span><span class=\"br0\">(</span><span class=\"re5\">Year</span><span class=\"sy1\">,</span> <span class=\"re5\">Month</span><span class=\"br0\">)</span><span class=\"sy1\">,</span><br/>    <span class=\"re5\">Diff</span> <span class=\"sy3\">=</span> <a href=\"http://erlang.org/doc/man/calendar.html\"><span class=\"kw5\">calendar</span></a>:<span class=\"re3\">day_of_the_week</span><span class=\"br0\">(</span><span class=\"re5\">Year</span><span class=\"sy1\">,</span> <span class=\"re5\">Month</span><span class=\"sy1\">,</span> <span class=\"re5\">Ldm</span><span class=\"br0\">)</span> <span class=\"kw2\">rem</span> <span class=\"re5\">WeekDay</span><span class=\"sy1\">,</span><br/>    <span class=\"br0\">{</span><span class=\"re5\">Year</span><span class=\"sy1\">,</span> <span class=\"re5\">Month</span><span class=\"sy1\">,</span> <span class=\"re5\">Ldm</span> <span class=\"sy3\">-</span> <span class=\"re5\">Diff</span><span class=\"br0\">}</span><span class=\"sy1\">.</span><br/>\u00a0<br/>\u00a0</pre>"}, {"lang": "FBSL", "loc": 18, "block": "<pre class=\"qbasic highlighted_source\">#APPTYPE CONSOLE<br/>\u00a0<br/><a href=\"http://www.qbasicnews.com/qboho/qckdim.shtml\"><span class=\"kw3\">DIM</span></a> date <a href=\"http://www.qbasicnews.com/qboho/qckas.shtml\"><span class=\"kw3\">AS</span></a> <a href=\"http://www.qbasicnews.com/qboho/qckinteger.shtml\"><span class=\"kw3\">INTEGER</span></a><span class=\"sy0\">,</span> dayname <a href=\"http://www.qbasicnews.com/qboho/qckas.shtml\"><span class=\"kw3\">AS</span></a> <a href=\"http://www.qbasicnews.com/qboho/qckstring.shtml\"><span class=\"kw3\">STRING</span></a><br/><span class=\"kw1\">FOR</span> <a href=\"http://www.qbasicnews.com/qboho/qckdim.shtml\"><span class=\"kw3\">DIM</span></a> i <span class=\"sy0\">=</span> <span class=\"nu0\">1</span> <span class=\"kw1\">TO</span> <span class=\"nu0\">12</span><br/>    <span class=\"kw1\">FOR</span> <a href=\"http://www.qbasicnews.com/qboho/qckdim.shtml\"><span class=\"kw3\">DIM</span></a> j <span class=\"sy0\">=</span> <span class=\"nu0\">31</span> DOWNTO <span class=\"nu0\">1</span><br/>        date <span class=\"sy0\">=</span> <span class=\"nu0\">20130000</span> <span class=\"sy0\">+</span> <span class=\"br0\">(</span>i <span class=\"sy0\">*</span> <span class=\"nu0\">100</span><span class=\"br0\">)</span> <span class=\"sy0\">+</span> j<br/>        <span class=\"kw1\">IF</span> CHECKDATE<span class=\"br0\">(</span>i<span class=\"sy0\">,</span> j<span class=\"sy0\">,</span> <span class=\"nu0\">2013</span><span class=\"br0\">)</span> <span class=\"kw1\">THEN</span><br/>            dayname <span class=\"sy0\">=</span> DATECONV<span class=\"br0\">(</span>date<span class=\"sy0\">,</span> <span class=\"st0\">\"dddd\"</span><span class=\"br0\">)</span><br/>            <span class=\"kw1\">IF</span> dayname <span class=\"sy0\">=</span> <span class=\"st0\">\"Sunday\"</span> <span class=\"kw1\">THEN</span><br/>                <a href=\"http://www.qbasicnews.com/qboho/qckprint.shtml\"><span class=\"kw3\">PRINT</span></a> <span class=\"nu0\">2013</span><span class=\"sy0\">,</span> <span class=\"st0\">\" \"</span><span class=\"sy0\">,</span> i<span class=\"sy0\">,</span> <span class=\"st0\">\" \"</span><span class=\"sy0\">,</span> j<br/>                <a href=\"http://www.qbasicnews.com/qboho/qckexit.shtml\"><span class=\"kw3\">EXIT</span></a> <span class=\"kw1\">FOR</span><br/>            <a href=\"http://www.qbasicnews.com/qboho/qckend.shtml\"><span class=\"kw3\">END</span></a> <span class=\"kw1\">IF</span><br/>        <a href=\"http://www.qbasicnews.com/qboho/qckend.shtml\"><span class=\"kw3\">END</span></a> <span class=\"kw1\">IF</span><br/>    <span class=\"kw1\">NEXT</span><br/><span class=\"kw1\">NEXT</span><br/>\u00a0<br/>PAUSE<br/>\u00a0</pre>"}, {"lang": "F#", "loc": 28, "block": "<pre class=\"fsharp highlighted_source\"><span class=\"kw1\">let</span> jdn <span class=\"br0\">(</span>year, month, day<span class=\"br0\">)</span> <span class=\"sy0\">=</span><br/>    <span class=\"kw1\">let</span> a <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"nu0\">14</span> <span class=\"sy0\">-</span> month<span class=\"br0\">)</span> <span class=\"sy0\">/</span> <span class=\"nu0\">12</span><br/>    <span class=\"kw1\">let</span> y <span class=\"sy0\">=</span> year <span class=\"sy0\">+</span> <span class=\"nu0\">4800</span> <span class=\"sy0\">-</span> a<br/>    <span class=\"kw1\">let</span> m <span class=\"sy0\">=</span> month <span class=\"sy0\">+</span> <span class=\"nu0\">12</span> <span class=\"sy0\">*</span> a <span class=\"sy0\">-</span> <span class=\"nu0\">3</span><br/>    day <span class=\"sy0\">+</span> <span class=\"br0\">(</span><span class=\"nu0\">153</span><span class=\"sy0\">*</span>m<span class=\"sy0\">+</span><span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"sy0\">/</span><span class=\"nu0\">5</span> <span class=\"sy0\">+</span> <span class=\"nu0\">365</span><span class=\"sy0\">*</span>y <span class=\"sy0\">+</span> y<span class=\"sy0\">/</span><span class=\"nu0\">4</span> <span class=\"sy0\">-</span> y<span class=\"sy0\">/</span><span class=\"nu0\">100</span> <span class=\"sy0\">+</span> y<span class=\"sy0\">/</span><span class=\"nu0\">400</span> <span class=\"sy0\">-</span> <span class=\"nu0\">32045</span><br/>\u00a0<br/><span class=\"kw1\">let</span> date_from_jdn jdn <span class=\"sy0\">=</span><br/>    <span class=\"kw1\">let</span> j <span class=\"sy0\">=</span> jdn <span class=\"sy0\">+</span> <span class=\"nu0\">32044</span><br/>    <span class=\"kw1\">let</span> g <span class=\"sy0\">=</span> j <span class=\"sy0\">/</span> <span class=\"nu0\">146097</span><br/>    <span class=\"kw1\">let</span> dg <span class=\"sy0\">=</span> j <span class=\"sy0\">%</span> <span class=\"nu0\">146097</span><br/>    <span class=\"kw1\">let</span> c <span class=\"sy0\">=</span> <span class=\"br0\">(</span>dg <span class=\"sy0\">/</span> <span class=\"nu0\">36524</span> <span class=\"sy0\">+</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span> <span class=\"sy0\">*</span> <span class=\"nu0\">3</span> <span class=\"sy0\">/</span> <span class=\"nu0\">4</span><br/>    <span class=\"kw1\">let</span> dc <span class=\"sy0\">=</span> dg <span class=\"sy0\">-</span> c <span class=\"sy0\">*</span> <span class=\"nu0\">36524</span><br/>    <span class=\"kw1\">let</span> b <span class=\"sy0\">=</span> dc <span class=\"sy0\">/</span> <span class=\"nu0\">1461</span><br/>    <span class=\"kw1\">let</span> db <span class=\"sy0\">=</span> dc <span class=\"sy0\">%</span> <span class=\"nu0\">1461</span><br/>    <span class=\"kw1\">let</span> a <span class=\"sy0\">=</span> <span class=\"br0\">(</span>db <span class=\"sy0\">/</span> <span class=\"nu0\">365</span> <span class=\"sy0\">+</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span> <span class=\"sy0\">*</span> <span class=\"nu0\">3</span> <span class=\"sy0\">/</span> <span class=\"nu0\">4</span><br/>    <span class=\"kw1\">let</span> da <span class=\"sy0\">=</span> db <span class=\"sy0\">-</span> a <span class=\"sy0\">*</span> <span class=\"nu0\">365</span><br/>    <span class=\"kw1\">let</span> y <span class=\"sy0\">=</span> g <span class=\"sy0\">*</span> <span class=\"nu0\">400</span> <span class=\"sy0\">+</span> c <span class=\"sy0\">*</span> <span class=\"nu0\">100</span> <span class=\"sy0\">+</span> b <span class=\"sy0\">*</span> <span class=\"nu0\">4</span> <span class=\"sy0\">+</span> a<br/>    <span class=\"kw1\">let</span> m <span class=\"sy0\">=</span> <span class=\"br0\">(</span>da <span class=\"sy0\">*</span> <span class=\"nu0\">5</span> <span class=\"sy0\">+</span> <span class=\"nu0\">308</span><span class=\"br0\">)</span> <span class=\"sy0\">/</span> <span class=\"nu0\">153</span> <span class=\"sy0\">-</span> <span class=\"nu0\">2</span><br/>    <span class=\"kw1\">let</span> d <span class=\"sy0\">=</span> da <span class=\"sy0\">-</span> <span class=\"br0\">(</span>m <span class=\"sy0\">+</span> <span class=\"nu0\">4</span><span class=\"br0\">)</span> <span class=\"sy0\">*</span> <span class=\"nu0\">153</span> <span class=\"sy0\">/</span> <span class=\"nu0\">5</span> <span class=\"sy0\">+</span> <span class=\"nu0\">122</span><br/>    <span class=\"br0\">(</span>y <span class=\"sy0\">-</span> <span class=\"nu0\">4800</span> <span class=\"sy0\">+</span> <span class=\"br0\">(</span>m <span class=\"sy0\">+</span> <span class=\"nu0\">2</span><span class=\"br0\">)</span> <span class=\"sy0\">/</span> <span class=\"nu0\">12</span>, <span class=\"br0\">(</span>m <span class=\"sy0\">+</span> <span class=\"nu0\">2</span><span class=\"br0\">)</span> <span class=\"sy0\">%</span> <span class=\"nu0\">12</span> <span class=\"sy0\">+</span> <span class=\"nu0\">1</span>, d <span class=\"sy0\">+</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span><br/>\u00a0<br/><span class=\"br0\">[</span><span class=\"sy0\">&lt;</span>EntryPoint<span class=\"sy0\">&gt;</span><span class=\"br0\">]</span><br/><span class=\"kw1\">let</span> main argv <span class=\"sy0\">=</span><br/>    <span class=\"kw1\">let</span> year <span class=\"sy0\">=</span> System.<span class=\"me1\">Int32</span>.<span class=\"me1\">Parse</span><span class=\"br0\">(</span>argv.<span class=\"br0\">[</span><span class=\"nu0\">0</span><span class=\"br0\">]</span><span class=\"br0\">)</span><br/>    <span class=\"br0\">[</span><span class=\"kw1\">for</span> m <span class=\"kw1\">in</span> <span class=\"nu0\">1</span>..<span class=\"nu0\">12</span> <span class=\"kw1\">do</span> <span class=\"kw1\">yield</span> jdn <span class=\"br0\">(</span>year,m<span class=\"sy0\">+</span><span class=\"nu0\">1</span>,<span class=\"nu0\">0</span><span class=\"br0\">)</span><span class=\"br0\">]</span><br/>    <span class=\"sy0\">|&gt;</span> <a href=\"http://research.microsoft.com/en-us/um/cambridge/projects/fsharp/manual/namespaces.html\"><span class=\"kw2\">List</span></a>.<span class=\"me1\">map</span> <span class=\"br0\">(</span><span class=\"kw1\">fun</span> x <span class=\"sy0\">-&gt;</span> date_from_jdn <span class=\"br0\">(</span>x <span class=\"sy0\">-</span> <span class=\"br0\">(</span>x<span class=\"sy0\">+</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy0\">%</span>7<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>    <span class=\"sy0\">|&gt;</span> <a href=\"http://research.microsoft.com/en-us/um/cambridge/projects/fsharp/manual/namespaces.html\"><span class=\"kw2\">List</span></a>.<span class=\"me1\">iter</span> <span class=\"br0\">(</span>printfn <span class=\"st0\">\"%A\"</span><span class=\"br0\">)</span><br/>    <span class=\"nu0\">0</span></pre>"}, {"lang": "Factor", "loc": 13, "block": "<pre class=\"text highlighted_source\">\u00a0<br/>USING: calendar calendar.format command-line io kernel math math.parser<br/>sequences\u00a0;<br/>IN: rosetta-code.last-sunday<br/>\u00a0<br/>: parse-year     ( -- ts )     (command-line) second string&gt;number &lt;year&gt;\u00a0;<br/>: print-last-sun ( ts -- )     last-sunday-of-month (timestamp&gt;ymd) nl\u00a0;<br/>: inc-month      ( ts -- ts' ) 1 months time+\u00a0;<br/>: process-month  ( ts -- ts' ) dup print-last-sun inc-month\u00a0;<br/>: main           ( -- )        parse-year 12 [ process-month ] times drop\u00a0;<br/>\u00a0<br/>MAIN: main<br/>\u00a0</pre>"}, {"lang": "Fortran", "loc": 2, "block": "<pre class=\"fortran highlighted_source\">      D <span class=\"sy0\">=</span> DAYNUM<span class=\"br0\">(</span>Y,M,D<span class=\"br0\">)</span>    <span class=\"co1\">!Daynumber from date.</span><br/>      DAYNUM<span class=\"br0\">(</span>Y,M,D<span class=\"br0\">)</span> <span class=\"sy0\">=</span> D    <span class=\"co1\">!Date parts from a day number.</span></pre>"}, {"lang": "FreeBASIC", "loc": 85, "block": "<pre class=\"freebasic highlighted_source\"><span class=\"co1\">' version 23-06-2015</span><br/><span class=\"co1\">' compile with: fbc -s console</span><br/>\u00a0<br/><span class=\"co2\">#Ifndef TRUE        ' define true and false for older freebasic versions</span><br/>    <span class=\"co2\">#Define FALSE 0</span><br/>    <span class=\"co2\">#Define TRUE Not FALSE</span><br/><span class=\"co2\">#EndIf</span><br/>\u00a0<br/><span class=\"kw1\">Function</span> leapyear<span class=\"br0\">(</span>Year_ <span class=\"kw1\">As</span> <span class=\"kw1\">Integer</span><span class=\"br0\">)</span> <span class=\"kw1\">As</span> <span class=\"kw1\">Integer</span><br/>    <span class=\"co1\">' from the leapyear entry</span><br/>    <span class=\"kw1\">If</span> <span class=\"br0\">(</span>Year_ <span class=\"kw1\">Mod</span> <span class=\"nu0\">4</span><span class=\"br0\">)</span> &lt;&gt; <span class=\"nu0\">0</span> <span class=\"kw1\">Then</span> <span class=\"kw1\">Return</span> <span class=\"kw1\">FALSE</span><br/>    <span class=\"kw1\">If</span> <span class=\"br0\">(</span>Year_ <span class=\"kw1\">Mod</span> <span class=\"nu0\">100</span><span class=\"br0\">)</span> = <span class=\"nu0\">0</span> AndAlso <span class=\"br0\">(</span>Year_ <span class=\"kw1\">Mod</span> <span class=\"nu0\">400</span><span class=\"br0\">)</span> &lt;&gt; <span class=\"nu0\">0</span> <span class=\"kw1\">Then</span> <span class=\"kw1\">Return</span> <span class=\"kw1\">FALSE</span><br/>    <span class=\"kw1\">Return</span> <span class=\"kw1\">TRUE</span><br/>\u00a0<br/><span class=\"kw1\">End</span> <span class=\"kw1\">Function</span><br/>\u00a0<br/><span class=\"kw1\">Function</span> wd<span class=\"br0\">(</span>m <span class=\"kw1\">As</span> <span class=\"kw1\">Integer</span>, d <span class=\"kw1\">As</span> <span class=\"kw1\">Integer</span>, y <span class=\"kw1\">As</span> <span class=\"kw1\">Integer</span><span class=\"br0\">)</span> <span class=\"kw1\">As</span> <span class=\"kw1\">Integer</span><br/>    <span class=\"co1\">' Zellerish</span><br/>    <span class=\"co1\">' 0 = Sunday, 1 = Monday, 2 = Tuesday, 3 = Wednesday</span><br/>    <span class=\"co1\">' 4 = Thursday, 5 = Friday, 6 = Saturday</span><br/>\u00a0<br/>    <span class=\"kw1\">If</span> m &lt; <span class=\"nu0\">3</span> <span class=\"kw1\">Then</span>        <span class=\"co1\">' If m = 1 Or m = 2 Then</span><br/>        m += <span class=\"nu0\">12</span><br/>        y -= <span class=\"nu0\">1</span><br/>    <span class=\"kw1\">End</span> <span class=\"kw1\">If</span><br/>    <span class=\"kw1\">Return</span> <span class=\"br0\">(</span>y + <span class=\"br0\">(</span>y \\ <span class=\"nu0\">4</span><span class=\"br0\">)</span> - <span class=\"br0\">(</span>y \\ <span class=\"nu0\">100</span><span class=\"br0\">)</span> + <span class=\"br0\">(</span>y \\ <span class=\"nu0\">400</span><span class=\"br0\">)</span> + d + <span class=\"br0\">(</span><span class=\"br0\">(</span><span class=\"nu0\">153</span> * m + <span class=\"nu0\">8</span><span class=\"br0\">)</span> \\ <span class=\"nu0\">5</span><span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"kw1\">Mod</span> <span class=\"nu0\">7</span><br/><span class=\"kw1\">End</span> <span class=\"kw1\">Function</span><br/>\u00a0<br/><span class=\"co1\">' ------=&lt; MAIN &gt;=------</span><br/>\u00a0<br/><span class=\"kw1\">Type</span> month_days<br/>    m_name <span class=\"kw1\">As</span> <span class=\"kw1\">String</span><br/>    days <span class=\"kw1\">As</span> <span class=\"kw1\">UByte</span><br/><span class=\"kw1\">End</span> <span class=\"kw1\">Type</span><br/>\u00a0<br/><span class=\"kw1\">Dim</span> <span class=\"kw1\">As</span> month_days arr<span class=\"br0\">(</span><span class=\"nu0\">1</span> <span class=\"kw1\">To</span> <span class=\"nu0\">12</span><span class=\"br0\">)</span><br/><span class=\"kw1\">Data</span> <span class=\"st0\">\"January\"</span>,   <span class=\"nu0\">31</span>, <span class=\"st0\">\"February\"</span>, <span class=\"nu0\">28</span>, <span class=\"st0\">\"March\"</span>,    <span class=\"nu0\">31</span>, <span class=\"st0\">\"April\"</span>,    <span class=\"nu0\">30</span><br/><span class=\"kw1\">Data</span> <span class=\"st0\">\"May\"</span>,       <span class=\"nu0\">31</span>, <span class=\"st0\">\"June\"</span>,     <span class=\"nu0\">30</span>, <span class=\"st0\">\"July\"</span>,     <span class=\"nu0\">31</span>, <span class=\"st0\">\"August\"</span>,   <span class=\"nu0\">31</span><br/><span class=\"kw1\">Data</span> <span class=\"st0\">\"September\"</span>, <span class=\"nu0\">30</span>, <span class=\"st0\">\"October\"</span>,  <span class=\"nu0\">31</span>, <span class=\"st0\">\"November\"</span>, <span class=\"nu0\">30</span>, <span class=\"st0\">\"December\"</span>, <span class=\"nu0\">31</span><br/>\u00a0<br/><span class=\"kw1\">Dim</span> <span class=\"kw1\">As</span> <span class=\"kw1\">Integer</span> yr, d, i, x<br/><span class=\"kw1\">Dim</span> <span class=\"kw1\">As</span> <span class=\"kw1\">String</span> keypress<br/>\u00a0<br/><span class=\"kw1\">For</span> i = <span class=\"nu0\">1</span> <span class=\"kw1\">To</span> <span class=\"nu0\">12</span><br/>    <span class=\"kw1\">With</span> arr<span class=\"br0\">(</span>i<span class=\"br0\">)</span><br/>        <span class=\"kw1\">Read</span> .<span class=\"me1\">m_name</span><br/>        <span class=\"kw1\">Read</span> .<span class=\"me1\">days</span><br/>    <span class=\"kw1\">End</span> <span class=\"kw1\">With</span><br/><span class=\"kw1\">Next</span><br/>\u00a0<br/><span class=\"kw1\">Do</span><br/>\u00a0<br/>    <span class=\"kw1\">Do</span><br/>        <span class=\"kw1\">Print</span> <span class=\"st0\">\"For what year do you want to find the last Sunday of the month\"</span><br/>        <span class=\"kw1\">Input</span> <span class=\"st0\">\"any number below 1800 stops program, year in YYYY format\"</span>;yr<br/>        <span class=\"co1\">' empty input also stops</span><br/>        <span class=\"kw1\">If</span> yr &lt; <span class=\"nu0\">1800</span> <span class=\"kw1\">Then</span><br/>            <span class=\"kw1\">End</span><br/>        <span class=\"kw1\">Else</span><br/>            <span class=\"kw1\">Exit</span> <span class=\"kw1\">Do</span><br/>        <span class=\"kw1\">End</span> <span class=\"kw1\">If</span><br/>    <span class=\"kw1\">Loop</span><br/>\u00a0<br/>    <span class=\"kw1\">Print</span>\u00a0: <span class=\"kw1\">Print</span><br/>    <span class=\"kw1\">Print</span> <span class=\"st0\">\"Last Sunday of the month for\"</span>; yr<br/>\u00a0<br/>    <span class=\"kw1\">For</span> i = <span class=\"nu0\">1</span> <span class=\"kw1\">To</span> <span class=\"nu0\">12</span><br/>        d = arr<span class=\"br0\">(</span>i<span class=\"br0\">)</span>.<span class=\"me1\">days</span><br/>        <span class=\"kw1\">If</span> i = <span class=\"nu0\">2</span> AndAlso leapyear<span class=\"br0\">(</span>yr<span class=\"br0\">)</span> = <span class=\"kw1\">TRUE</span> <span class=\"kw1\">Then</span> d = d + <span class=\"nu0\">1</span><br/>        x = wd<span class=\"br0\">(</span>i, d, yr<span class=\"br0\">)</span><br/>        d = d - x   <span class=\"co1\">' don't test it just do it</span><br/>        <span class=\"kw1\">Print</span> d; <span class=\"st0\">\" \"</span>; arr<span class=\"br0\">(</span>i<span class=\"br0\">)</span>.<span class=\"me1\">m_name</span><br/>    <span class=\"kw1\">Next</span><br/>\u00a0<br/>    <span class=\"co1\">' empty key buffer</span><br/>    <span class=\"kw1\">While</span> <span class=\"kw1\">Inkey</span> &lt;&gt; <span class=\"st0\">\"\"</span>\u00a0: keypress = <span class=\"kw1\">Inkey</span>\u00a0: <span class=\"kw1\">Wend</span><br/>    <span class=\"kw1\">Print</span>\u00a0: <span class=\"kw1\">Print</span><br/>    <span class=\"kw1\">Print</span> <span class=\"st0\">\"Find last Sunday for a other year [Y|y], anything else stops\"</span><br/>    keypress =<span class=\"st0\">\"\"</span><br/>    <span class=\"kw1\">While</span> keypress = <span class=\"st0\">\"\"</span>\u00a0: keypress = <span class=\"kw1\">Inkey</span>\u00a0: <span class=\"kw1\">Wend</span><br/>    <span class=\"kw1\">If</span> <span class=\"kw1\">LCase</span><span class=\"br0\">(</span>keypress<span class=\"br0\">)</span> &lt;&gt; <span class=\"st0\">\"y\"</span> <span class=\"kw1\">Then</span> <span class=\"kw1\">Exit</span> <span class=\"kw1\">Do</span><br/>    <span class=\"kw1\">Print</span>\u00a0: <span class=\"kw1\">Print</span><br/>\u00a0<br/><span class=\"kw1\">Loop</span><br/><span class=\"kw1\">End</span></pre>"}, {"lang": "Gambas", "loc": 19, "block": "<pre class=\"gambas highlighted_source\"><a href=\"http://gambasdoc.org/help/lang/public\"><span class=\"kw1\">Public</span></a> <a href=\"http://gambasdoc.org/help/lang/sub\"><span class=\"kw1\">Sub</span></a> Form_Open<span class=\"br0\">(</span><span class=\"br0\">)</span><br/><a href=\"http://gambasdoc.org/help/lang/dim\"><span class=\"kw1\">Dim</span></a> sYear <a href=\"http://gambasdoc.org/help/lang/as\"><span class=\"kw1\">As</span></a> <a href=\"http://gambasdoc.org/help/lang/type/string\"><span class=\"kw4\">String</span></a>                                                             <span class=\"co1\">'To store the year chosen</span><br/><a href=\"http://gambasdoc.org/help/lang/dim\"><span class=\"kw1\">Dim</span></a> siDay, siMonth, siWeekday <a href=\"http://gambasdoc.org/help/lang/as\"><span class=\"kw1\">As</span></a> <a href=\"http://gambasdoc.org/help/lang/type/short\"><span class=\"kw4\">Short</span></a>                                          <span class=\"co1\">'Day, Month and Weekday</span><br/>\u00a0<br/>sYear <span class=\"sy0\">=</span> <a href=\"http://www.google.com/search?hl=en&amp;q=inputbox+site:http://gambasdoc.org/&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw6\">InputBox</span></a><span class=\"br0\">(</span><span class=\"st0\">\"Input year\"</span>, <span class=\"st0\">\"Last Sunday of each month\"</span><span class=\"br0\">)</span>                     <span class=\"co1\">'Get the user to enter a year</span><br/><a href=\"http://gambasdoc.org/help/lang/print\"><span class=\"kw1\">Print</span></a> <span class=\"st0\">\"Last Sundays in \"</span> <span class=\"sy0\">&amp;</span> sYear                                                <span class=\"co1\">'Print a heading</span><br/>\u00a0<br/><a href=\"http://gambasdoc.org/help/lang/for\"><span class=\"kw1\">For</span></a> siMonth <span class=\"sy0\">=</span> <span class=\"nu0\">1</span> <a href=\"http://gambasdoc.org/help/lang/to\"><span class=\"kw1\">To</span></a> <span class=\"nu0\">12</span>                                                           <span class=\"co1\">'Loop for each month</span><br/>  <a href=\"http://gambasdoc.org/help/lang/for\"><span class=\"kw1\">For</span></a> siDay <span class=\"sy0\">=</span> <span class=\"nu0\">31</span> DownTo <span class=\"nu0\">23</span>                                                      <span class=\"co1\">'Count backwards from 31 to 23 (Sunday 23rd February 1930) </span><br/>    siWeekday <span class=\"sy0\">=</span> <span class=\"nu0\">7</span>                                                               <span class=\"co1\">'Set the Weekday to Saturday in case of error in the next line</span><br/>    <a href=\"http://gambasdoc.org/help/lang/try\"><span class=\"kw1\">Try</span></a> siWeekday <span class=\"sy0\">=</span> <a href=\"http://gambasdoc.org/help/lang/weekday\"><span class=\"kw2\">WeekDay</span></a><span class=\"br0\">(</span><a href=\"http://gambasdoc.org/help/lang/type/date\"><span class=\"kw4\">Date</span></a><span class=\"br0\">(</span><a href=\"http://gambasdoc.org/help/lang/val\"><span class=\"kw2\">Val</span></a><span class=\"br0\">(</span>sYear<span class=\"br0\">)</span>, siMonth, siDay<span class=\"br0\">)</span><span class=\"br0\">)</span>                   <span class=\"co1\">'TRY and get the Weekday. If there is an error it will be ignored e.g. 31 February</span><br/>    <a href=\"http://gambasdoc.org/help/lang/if\"><span class=\"kw1\">If</span></a> siWeekday <span class=\"sy0\">=</span> <span class=\"nu0\">0</span> <a href=\"http://gambasdoc.org/help/lang/then\"><span class=\"kw1\">Then</span></a>                                                       <span class=\"co1\">'If Weekday is Sunday then..</span><br/>      <a href=\"http://gambasdoc.org/help/lang/print\"><span class=\"kw1\">Print</span></a> <a href=\"http://gambasdoc.org/help/lang/format\"><span class=\"kw2\">Format</span></a><span class=\"br0\">(</span><a href=\"http://gambasdoc.org/help/lang/type/date\"><span class=\"kw4\">Date</span></a><span class=\"br0\">(</span><a href=\"http://gambasdoc.org/help/lang/val\"><span class=\"kw2\">Val</span></a><span class=\"br0\">(</span>sYear<span class=\"br0\">)</span>, siMonth, siDay<span class=\"br0\">)</span>, <span class=\"st0\">\"dddd dd mmmm yyyy\"</span><span class=\"br0\">)</span>       <span class=\"co1\">'Print the date</span><br/>      <a href=\"http://gambasdoc.org/help/lang/break\"><span class=\"kw1\">Break</span></a>                                                                     <span class=\"co1\">'Jump out of this loop</span><br/>    <a href=\"http://gambasdoc.org/help/lang/end\"><span class=\"kw1\">End</span></a> <a href=\"http://gambasdoc.org/help/lang/if\"><span class=\"kw1\">If</span></a><br/>  <a href=\"http://gambasdoc.org/help/lang/next\"><span class=\"kw1\">Next</span></a><br/><a href=\"http://gambasdoc.org/help/lang/next\"><span class=\"kw1\">Next</span></a><br/>\u00a0<br/><a href=\"http://gambasdoc.org/help/lang/end\"><span class=\"kw1\">End</span></a></pre>"}, {"lang": "Go", "loc": 47, "block": "<pre class=\"go highlighted_source\"><span class=\"kw1\">package</span> main<br/>\u00a0<br/><span class=\"kw1\">import</span> <span class=\"sy1\">(</span><br/>\t<span class=\"st0\">\"fmt\"</span><br/>\t<span class=\"st0\">\"time\"</span><br/><span class=\"sy1\">)</span><br/>\u00a0<br/><span class=\"kw4\">func</span> main<span class=\"sy1\">()</span> <span class=\"sy1\">{</span><br/>\u00a0<br/>\t<span class=\"kw1\">var</span> year <span class=\"kw4\">int</span><br/>\t<span class=\"kw1\">var</span> t <a href=\"http://golang.org/search?q=time.Time\"><span class=\"kw5\">time.<span class=\"me1\">Time</span></span></a><br/>\t<span class=\"kw1\">var</span> lastDay <span class=\"sy2\">=</span> <span class=\"sy1\">[</span><span class=\"nu0\">12</span><span class=\"sy1\">]</span><span class=\"kw4\">int</span> <span class=\"sy1\">{</span> <span class=\"nu0\">31</span><span class=\"sy1\">,</span><span class=\"nu0\">29</span><span class=\"sy1\">,</span><span class=\"nu0\">31</span><span class=\"sy1\">,</span><span class=\"nu0\">30</span><span class=\"sy1\">,</span><span class=\"nu0\">31</span><span class=\"sy1\">,</span><span class=\"nu0\">30</span><span class=\"sy1\">,</span><span class=\"nu0\">31</span><span class=\"sy1\">,</span><span class=\"nu0\">31</span><span class=\"sy1\">,</span><span class=\"nu0\">30</span><span class=\"sy1\">,</span><span class=\"nu0\">31</span><span class=\"sy1\">,</span><span class=\"nu0\">30</span><span class=\"sy1\">,</span><span class=\"nu0\">31</span> <span class=\"sy1\">}</span><br/>\u00a0<br/>\t<span class=\"kw1\">for</span> <span class=\"sy1\">{</span><br/>\t\tfmt<span class=\"sy3\">.</span>Print<span class=\"sy1\">(</span><span class=\"st0\">\"Please select a year: \"</span><span class=\"sy1\">)</span><br/>\t\t_<span class=\"sy1\">,</span> err <span class=\"sy2\">:=</span> fmt<span class=\"sy3\">.</span><span class=\"me1\">Scanf</span><span class=\"sy1\">(</span><span class=\"st0\">\"%d\"</span><span class=\"sy1\">,</span> &amp;year<span class=\"sy1\">)</span><br/>\t\t<span class=\"kw1\">if</span> err <span class=\"sy2\">!=</span> <span class=\"kw2\">nil</span> <span class=\"sy1\">{</span><br/>\t\t\tfmt<span class=\"sy3\">.</span>Println<span class=\"sy1\">(</span>err<span class=\"sy1\">)</span><br/>\t\t\t<span class=\"kw1\">continue</span><br/>\t\t<span class=\"sy1\">}</span> <span class=\"kw1\">else</span> <span class=\"sy1\">{</span><br/>\t\t\t<span class=\"kw1\">break</span><br/>\t\t<span class=\"sy1\">}</span><br/>\t<span class=\"sy1\">}</span><br/>\u00a0<br/>\tfmt<span class=\"sy3\">.</span>Println<span class=\"sy1\">(</span><span class=\"st0\">\"Last Sundays of each month of\"</span><span class=\"sy1\">,</span> year<span class=\"sy1\">)</span><br/>\tfmt<span class=\"sy3\">.</span><span class=\"me1\">Println</span><span class=\"sy1\">(</span><span class=\"st0\">\"==================================\"</span><span class=\"sy1\">)</span><br/>\u00a0<br/>\t<span class=\"kw1\">for</span> <span class=\"nu2\">i</span> <span class=\"sy2\">:=</span> <span class=\"nu0\">1</span><span class=\"sy1\">;</span><span class=\"nu2\">i</span> &lt; <span class=\"nu0\">13</span><span class=\"sy1\">;</span> <span class=\"nu2\">i</span><span class=\"sy2\">++</span> <span class=\"sy1\">{</span><br/>\t\tj <span class=\"sy2\">:=</span> lastDay<span class=\"sy1\">[</span><span class=\"nu2\">i</span><span class=\"sy3\">-</span><span class=\"nu0\">1</span><span class=\"sy1\">]</span><br/>\t\t<span class=\"kw1\">if</span> <span class=\"nu2\">i</span> <span class=\"sy3\">==</span> <span class=\"nu0\">2</span> <span class=\"sy1\">{</span><br/>\t\t\t<span class=\"kw1\">if</span> time<span class=\"sy3\">.</span>Date<span class=\"sy1\">(</span><span class=\"kw4\">int</span><span class=\"sy1\">(</span>year<span class=\"sy1\">),</span> time<span class=\"sy3\">.</span>Month<span class=\"sy1\">(</span><span class=\"nu2\">i</span><span class=\"sy1\">),</span> j<span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy1\">,</span> time<span class=\"sy3\">.</span>UTC<span class=\"sy1\">)</span><span class=\"sy3\">.</span>Month<span class=\"sy1\">()</span> <span class=\"sy3\">==</span> time<span class=\"sy3\">.</span>Date<span class=\"sy1\">(</span><span class=\"kw4\">int</span><span class=\"sy1\">(</span>year<span class=\"sy1\">),</span> time<span class=\"sy3\">.</span>Month<span class=\"sy1\">(</span><span class=\"nu2\">i</span><span class=\"sy1\">),</span> j<span class=\"sy3\">-</span><span class=\"nu0\">1</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy1\">,</span> time<span class=\"sy3\">.</span>UTC<span class=\"sy1\">)</span><span class=\"sy3\">.</span>Month<span class=\"sy1\">()</span> <span class=\"sy1\">{</span><br/>\t\t\t\tj <span class=\"sy2\">=</span> <span class=\"nu0\">29</span><br/>\t\t\t<span class=\"sy1\">}</span> <span class=\"kw1\">else</span> <span class=\"sy1\">{</span><br/>\t\t\t\tj <span class=\"sy2\">=</span> <span class=\"nu0\">28</span><br/>\t\t\t<span class=\"sy1\">}</span><br/>\t\t<span class=\"sy1\">}</span><br/>\t\t<span class=\"kw1\">for</span> <span class=\"sy1\">{</span><br/>\t\t\tt <span class=\"sy2\">=</span> time<span class=\"sy3\">.</span>Date<span class=\"sy1\">(</span><span class=\"kw4\">int</span><span class=\"sy1\">(</span>year<span class=\"sy1\">),</span> time<span class=\"sy3\">.</span>Month<span class=\"sy1\">(</span><span class=\"nu2\">i</span><span class=\"sy1\">),</span> j<span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><span class=\"sy1\">,</span> time<span class=\"sy3\">.</span>UTC<span class=\"sy1\">)</span><br/>\t\t\t<span class=\"kw1\">if</span> t<span class=\"sy3\">.</span>Weekday<span class=\"sy1\">()</span> <span class=\"sy3\">==</span> <span class=\"nu0\">0</span> <span class=\"sy1\">{</span><br/>\t\t\t\tfmt<span class=\"sy3\">.</span>Printf<span class=\"sy1\">(</span><span class=\"st0\">\"%s:\u00a0%d<span class=\"es1\">\\n</span>\"</span><span class=\"sy1\">,</span> time<span class=\"sy3\">.</span>Month<span class=\"sy1\">(</span><span class=\"nu2\">i</span><span class=\"sy1\">),</span> j<span class=\"sy1\">)</span><br/>\t\t\t\t<span class=\"kw1\">break</span><br/>\t\t\t<span class=\"sy1\">}</span><br/>\t\t\tj <span class=\"sy2\">=</span> j <span class=\"sy3\">-</span> <span class=\"nu0\">1</span><br/>\t\t<span class=\"sy1\">}</span><br/>\t<span class=\"sy1\">}</span><br/><span class=\"sy1\">}</span><br/>\u00a0</pre>"}, {"lang": "Groovy", "loc": 16, "block": "<pre class=\"groovy highlighted_source\"><a href=\"http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20enum\"><span class=\"kw2\">enum</span></a> Day <span class=\"br0\">{</span><br/>    Sun, Mon, Tue, Wed, Thu, Fri, Sat<br/>    <a href=\"http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20static\"><span class=\"kw2\">static</span></a> Day valueOf<span class=\"br0\">(</span><a href=\"http://www.google.de/search?as_q=Date&amp;num=100&amp;hl=en&amp;as_occt=url&amp;as_sitesearch=java.sun.com%2Fj2se%2F1%2E5%2E0%2Fdocs%2Fapi%2F\"><span class=\"kw3\">Date</span></a> d<span class=\"br0\">)</span> <span class=\"br0\">{</span> Day.<span class=\"me1\">valueOf</span><span class=\"br0\">(</span>d.<span class=\"me1\">format</span><span class=\"br0\">(</span><span class=\"st0\">'EEE'</span><span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"br0\">}</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/><a href=\"http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20def\"><span class=\"kw2\">def</span></a> date <span class=\"sy0\">=</span> <a href=\"http://www.google.de/search?as_q=Date&amp;num=100&amp;hl=en&amp;as_occt=url&amp;as_sitesearch=java.sun.com%2Fj2se%2F1%2E5%2E0%2Fdocs%2Fapi%2F\"><span class=\"kw3\">Date</span></a>.<span class=\"sy0\">&amp;</span>parse.<span class=\"me1\">curry</span><span class=\"br0\">(</span><span class=\"st0\">'yyyy-MM-dd'</span><span class=\"br0\">)</span><br/><a href=\"http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20def\"><span class=\"kw2\">def</span></a> month <span class=\"sy0\">=</span> <span class=\"br0\">{</span> it.<span class=\"me1\">format</span><span class=\"br0\">(</span><span class=\"st0\">'MM'</span><span class=\"br0\">)</span> <span class=\"br0\">}</span><br/><a href=\"http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20def\"><span class=\"kw2\">def</span></a> days <span class=\"sy0\">=</span> <span class=\"br0\">{</span> year <span class=\"sy0\">-&gt;</span> <span class=\"br0\">(</span>date<span class=\"br0\">(</span><span class=\"st0\">\"${year}-01-01\"</span><span class=\"br0\">)</span>..<span class=\"sy0\">&lt;</span>date<span class=\"br0\">(</span><span class=\"st0\">\"${year+1}-01-01\"</span><span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"br0\">}</span><br/><a href=\"http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20def\"><span class=\"kw2\">def</span></a> weekDays <span class=\"sy0\">=</span> <span class=\"br0\">{</span> dayOfWeek, year <span class=\"sy0\">-&gt;</span> days<span class=\"br0\">(</span>year<span class=\"br0\">)</span>.<a href=\"http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20findAll\"><span class=\"kw5\">findAll</span></a> <span class=\"br0\">{</span> Day.<span class=\"me1\">valueOf</span><span class=\"br0\">(</span>it<span class=\"br0\">)</span> <span class=\"sy0\">==</span> dayOfWeek <span class=\"br0\">}</span> <span class=\"br0\">}</span><br/>\u00a0<br/><a href=\"http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20def\"><span class=\"kw2\">def</span></a> lastWeekDays <span class=\"sy0\">=</span> <span class=\"br0\">{</span> dayOfWeek, year <span class=\"sy0\">-&gt;</span><br/>    weekDays<span class=\"br0\">(</span>dayOfWeek, year<span class=\"br0\">)</span>.<a href=\"http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20reverse\"><span class=\"kw5\">reverse</span></a><span class=\"br0\">(</span><span class=\"br0\">)</span>.<a href=\"http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20inject\"><span class=\"kw5\">inject</span></a><span class=\"br0\">(</span><span class=\"br0\">[</span>:<span class=\"br0\">]</span><span class=\"br0\">)</span> <span class=\"br0\">{</span> months, sunday <span class=\"sy0\">-&gt;</span><br/>        <a href=\"http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20def\"><span class=\"kw2\">def</span></a> monthStr <span class=\"sy0\">=</span> month<span class=\"br0\">(</span>sunday<span class=\"br0\">)</span><br/>        <span class=\"sy0\">!</span>months<span class=\"br0\">[</span>monthStr<span class=\"br0\">]</span>  <span class=\"sy0\">?</span>  months <span class=\"sy0\">+</span> <span class=\"br0\">[</span><span class=\"br0\">(</span>monthStr<span class=\"br0\">)</span>:sunday<span class=\"br0\">]</span> \u00a0:  months<br/>    <span class=\"br0\">}</span>.<span class=\"me1\">values</span><span class=\"br0\">(</span><span class=\"br0\">)</span>.<a href=\"http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20sort\"><span class=\"kw5\">sort</span></a><span class=\"br0\">(</span><span class=\"br0\">)</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "Haskell", "loc": 27, "block": "<pre class=\"haskell highlighted_source\"><span class=\"kw1\">import</span> Data<span class=\"sy0\">.</span>Time<span class=\"sy0\">.</span>Calendar<br/>       <span class=\"br0\">(</span>Day<span class=\"sy0\">,</span> addDays<span class=\"sy0\">,</span> fromGregorian<span class=\"sy0\">,</span> gregorianMonthLength<span class=\"sy0\">,</span> showGregorian<span class=\"br0\">)</span><br/><span class=\"kw1\">import</span> Data<span class=\"sy0\">.</span>Time<span class=\"sy0\">.</span>Calendar<span class=\"sy0\">.</span>WeekDate <span class=\"br0\">(</span>toWeekDate<span class=\"br0\">)</span><br/><span class=\"kw1\">import</span> Data<span class=\"sy0\">.</span>List <span class=\"br0\">(</span>find<span class=\"sy0\">,</span> intercalate<span class=\"sy0\">,</span> transpose<span class=\"br0\">)</span><br/><span class=\"kw1\">import</span> Data<span class=\"sy0\">.</span><a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:Maybe\"><span class=\"kw4\">Maybe</span></a> <span class=\"br0\">(</span>fromJust<span class=\"br0\">)</span><br/>\u00a0<br/><span class=\"co1\">-- [1 .. 7] for [Mon .. Sun]</span><br/>findWeekDay <span class=\"sy0\">::</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:Int\"><span class=\"kw4\">Int</span></a> <span class=\"sy0\">-&gt;</span> Day <span class=\"sy0\">-&gt;</span> Day<br/>findWeekDay dayOfWeek date <span class=\"sy0\">=</span><br/>  fromJust <span class=\"sy0\">$</span><br/>  find<br/>    <span class=\"br0\">(</span>\\x <span class=\"sy0\">-&gt;</span><br/>        <span class=\"kw1\">let</span> <span class=\"br0\">(</span><span class=\"sy0\">_,</span> <span class=\"sy0\">_,</span> day<span class=\"br0\">)</span> <span class=\"sy0\">=</span> toWeekDate x<br/>        <span class=\"kw1\">in</span> dayOfWeek <span class=\"sy0\">==</span> day<span class=\"br0\">)</span><br/>    <span class=\"br0\">(</span><span class=\"br0\">(</span>`addDays` date<span class=\"br0\">)</span> <span class=\"sy0\">&lt;$&gt;</span> <span class=\"br0\">[</span><span class=\"sy0\">-</span><span class=\"nu0\">6</span> <span class=\"sy0\">..</span> <span class=\"nu0\">0</span><span class=\"br0\">]</span><span class=\"br0\">)</span><br/>\u00a0<br/>weekDayDates <span class=\"sy0\">::</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:Int\"><span class=\"kw4\">Int</span></a> <span class=\"sy0\">-&gt;</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:Integer\"><span class=\"kw4\">Integer</span></a> <span class=\"sy0\">-&gt;</span> <span class=\"br0\">[</span><a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:String\"><span class=\"kw4\">String</span></a><span class=\"br0\">]</span><br/>weekDayDates dayOfWeek year <span class=\"sy0\">=</span><br/>  <span class=\"br0\">(</span>showGregorian <span class=\"sy0\">.</span> findWeekDay dayOfWeek<span class=\"br0\">)</span> <span class=\"sy0\">.</span><br/>  <span class=\"br0\">(</span>fromGregorian year <span class=\"sy0\">&lt;*&gt;</span> gregorianMonthLength year<span class=\"br0\">)</span> <span class=\"sy0\">&lt;$&gt;</span><br/>  <span class=\"br0\">[</span><span class=\"nu0\">1</span> <span class=\"sy0\">..</span> <span class=\"nu0\">12</span><span class=\"br0\">]</span><br/>\u00a0<br/>main <span class=\"sy0\">::</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:IO\"><span class=\"kw4\">IO</span></a> <span class=\"br0\">(</span><span class=\"br0\">)</span><br/>main <span class=\"sy0\">=</span><br/>  <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:mapM_\"><span class=\"kw3\">mapM_</span></a><br/>    <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:putStrLn\"><span class=\"kw3\">putStrLn</span></a><br/>    <span class=\"br0\">(</span>intercalate <span class=\"st0\">\"  \"</span> <span class=\"sy0\">&lt;$&gt;</span> transpose <span class=\"br0\">(</span>weekDayDates <span class=\"nu0\">7</span> <span class=\"sy0\">&lt;$&gt;</span> <span class=\"br0\">[</span><span class=\"nu0\">2013</span> <span class=\"sy0\">..</span> <span class=\"nu0\">2017</span><span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"br0\">)</span></pre>"}, {"lang": "Icon and Unicon", "loc": 20, "block": "<pre class=\"unicon highlighted_source\"><span class=\"kw1\">procedure</span> main<span class=\"br0\">(</span>A<span class=\"br0\">)</span><br/><span class=\"kw1\">every</span> <span class=\"kw4\">write</span><span class=\"br0\">(</span>lastsundays<span class=\"br0\">(</span><span class=\"sy0\">!</span>A<span class=\"br0\">)</span><span class=\"br0\">)</span><br/><span class=\"kw1\">end</span><br/>\u00a0<br/><span class=\"kw1\">procedure</span> lastsundays<span class=\"br0\">(</span>year<span class=\"br0\">)</span><br/><span class=\"kw1\">every</span> m <span class=\"sy0\">:=</span> <span class=\"nu0\">1</span> <span class=\"kw1\">to</span> <span class=\"nu0\">12</span> <span class=\"kw1\">do</span> <span class=\"br0\">{</span><br/>   d <span class=\"sy0\">:=</span> <span class=\"kw1\">case</span> m <span class=\"kw1\">of</span> <span class=\"br0\">{</span><br/>      <span class=\"nu0\">2</span>        <span class=\"sy0\">:</span> <span class=\"kw1\">if</span> IsLeapYear<span class=\"br0\">(</span>year<span class=\"br0\">)</span> <span class=\"kw1\">then</span> <span class=\"nu0\">29</span> <span class=\"kw1\">else</span> <span class=\"nu0\">28</span><br/>      <span class=\"nu0\">4</span><span class=\"sy0\">|</span><span class=\"nu0\">6</span><span class=\"sy0\">|</span><span class=\"nu0\">9</span><span class=\"sy0\">|</span><span class=\"nu0\">11</span> <span class=\"sy0\">:</span> <span class=\"nu0\">30</span><br/>      <span class=\"kw1\">default</span>  <span class=\"sy0\">:</span> <span class=\"nu0\">31</span><br/>      <span class=\"br0\">}</span>                          <span class=\"co1\"># last day of month</span><br/>\u00a0<br/>   z <span class=\"sy0\">:=</span> <span class=\"nu0\">0</span>  <br/>   j <span class=\"sy0\">:=</span> julian<span class=\"br0\">(</span>m<span class=\"sy0\">,</span>d<span class=\"sy0\">,</span>year<span class=\"br0\">)</span> <span class=\"sy0\">+</span> <span class=\"nu0\">1</span>     <span class=\"co1\"># first day of next month</span><br/>   <span class=\"kw1\">until</span> <span class=\"br0\">(</span>j<span class=\"sy0\">-:=</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy0\">%</span>7 <span class=\"sy0\">=</span> <span class=\"nu0\">6</span> <span class=\"kw1\">do</span> z <span class=\"sy0\">-:=</span><span class=\"nu0\">1</span> <span class=\"co1\"># backup to last sunday (6)</span><br/>   <span class=\"kw1\">suspend</span> sprintf<span class=\"br0\">(</span><span class=\"st0\">\"%d-%d-%d\"</span><span class=\"sy0\">,</span>year<span class=\"sy0\">,</span>m<span class=\"sy0\">,</span>d<span class=\"sy0\">+</span>z<span class=\"br0\">)</span><br/>   <span class=\"br0\">}</span><br/><span class=\"kw1\">end</span><br/>\u00a0<br/><span class=\"kw1\">link</span> datetime<span class=\"sy0\">,</span> printf</pre>"}, {"lang": "J", "loc": 2, "block": "<pre class=\"j highlighted_source\">require<span class=\"st_h\">'dates'</span><br/>last_sundays=: <span class=\"nu0\">12</span> {. [: <span class=\"sy0\">(</span>{:/.~ }:\"<span class=\"nu0\">1</span><span class=\"sy0\">)</span>@<span class=\"sy0\">(</span>#~ <span class=\"nu0\">0</span> = weekday<span class=\"sy0\">)</span>@todate <span class=\"sy0\">(</span>i.<span class=\"nu0\">366</span><span class=\"sy0\">)</span> + <a class=\"__cf_email__\" data-cfemail=\"7e0a111a1f0710113e\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>,&amp;<span class=\"nu0\">1</span> <span class=\"nu0\">1</span></pre>"}, {"lang": "Java", "loc": 72, "block": "<pre class=\"java highlighted_source\"><span class=\"kw1\">import</span> <span class=\"co2\">java.util.Scanner</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"kw1\">public</span> <span class=\"kw1\">class</span> LastSunday <br/><span class=\"br0\">{</span><br/>\t<span class=\"kw1\">static</span> <span class=\"kw1\">final</span> <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">String</span></a><span class=\"br0\">[</span><span class=\"br0\">]</span> months<span class=\"sy0\">=</span><span class=\"br0\">{</span><span class=\"st0\">\"January\"</span>,<span class=\"st0\">\"February\"</span>,<span class=\"st0\">\"March\"</span>,<span class=\"st0\">\"April\"</span>,<span class=\"st0\">\"May\"</span>,<span class=\"st0\">\"June\"</span>,<span class=\"st0\">\"July\"</span>,<span class=\"st0\">\"August\"</span>,<span class=\"st0\">\"September\"</span>,<span class=\"st0\">\"October\"</span>,<span class=\"st0\">\"November\"</span>,<span class=\"st0\">\"December\"</span><span class=\"br0\">}</span><span class=\"sy0\">;</span><br/>\u00a0<br/>\t<span class=\"kw1\">public</span> <span class=\"kw1\">static</span> <span class=\"kw4\">int</span><span class=\"br0\">[</span><span class=\"br0\">]</span> findLastSunday<span class=\"br0\">(</span><span class=\"kw4\">int</span> year<span class=\"br0\">)</span><br/>\t<span class=\"br0\">{</span><br/>\t\t<span class=\"kw4\">boolean</span> isLeap <span class=\"sy0\">=</span> isLeapYear<span class=\"br0\">(</span>year<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>\t\t<span class=\"kw4\">int</span><span class=\"br0\">[</span><span class=\"br0\">]</span> days<span class=\"sy0\">=</span><span class=\"br0\">{</span><span class=\"nu0\">31</span>,isLeap<span class=\"sy0\">?</span><span class=\"nu0\">29</span><span class=\"sy0\">:</span><span class=\"nu0\">28</span>,<span class=\"nu0\">31</span>,<span class=\"nu0\">30</span>,<span class=\"nu0\">31</span>,<span class=\"nu0\">30</span>,<span class=\"nu0\">31</span>,<span class=\"nu0\">31</span>,<span class=\"nu0\">30</span>,<span class=\"nu0\">31</span>,<span class=\"nu0\">30</span>,<span class=\"nu0\">31</span><span class=\"br0\">}</span><span class=\"sy0\">;</span><br/>\t\t<span class=\"kw4\">int</span><span class=\"br0\">[</span><span class=\"br0\">]</span> lastDay<span class=\"sy0\">=</span><span class=\"kw1\">new</span> <span class=\"kw4\">int</span><span class=\"br0\">[</span><span class=\"nu0\">12</span><span class=\"br0\">]</span><span class=\"sy0\">;</span><br/>\u00a0<br/>\t\t<span class=\"kw1\">for</span><span class=\"br0\">(</span><span class=\"kw4\">int</span> m<span class=\"sy0\">=</span><span class=\"nu0\">0</span><span class=\"sy0\">;</span>i<span class=\"sy0\">&lt;</span><span class=\"nu0\">12</span><span class=\"sy0\">;</span>i<span class=\"sy0\">++</span><span class=\"br0\">)</span><br/>\t\t<span class=\"br0\">{</span><br/>\t\t\t<span class=\"kw4\">int</span> d<span class=\"sy0\">;</span><br/>\t\t\t<span class=\"kw1\">for</span><span class=\"br0\">(</span>d<span class=\"sy0\">=</span>days<span class=\"br0\">[</span>m<span class=\"br0\">]</span><span class=\"sy0\">;</span> getWeekDay<span class=\"br0\">(</span>year,m,d<span class=\"br0\">)</span><span class=\"sy0\">!=</span><span class=\"nu0\">0</span><span class=\"sy0\">;</span> d<span class=\"sy0\">--</span><span class=\"br0\">)</span><br/>\t\t\t\t<span class=\"sy0\">;</span><br/>\t\t\tlastDay<span class=\"br0\">[</span>m<span class=\"br0\">]</span><span class=\"sy0\">=</span>d<span class=\"sy0\">;</span><br/>\t\t<span class=\"br0\">}</span><br/>\u00a0<br/>\t\t<span class=\"kw1\">return</span> lastDay<span class=\"sy0\">;</span><br/>\t<span class=\"br0\">}</span><br/>\u00a0<br/>\t<span class=\"kw1\">private</span> <span class=\"kw1\">static</span> <span class=\"kw4\">boolean</span> isLeapYear<span class=\"br0\">(</span><span class=\"kw4\">int</span> year<span class=\"br0\">)</span><br/>\t<span class=\"br0\">{</span><br/>\t\t<span class=\"kw1\">if</span><span class=\"br0\">(</span>year<span class=\"sy0\">%</span>4<span class=\"sy0\">==</span><span class=\"nu0\">0</span><span class=\"br0\">)</span><br/>\t\t<span class=\"br0\">{</span><br/>\t\t\t<span class=\"kw1\">if</span><span class=\"br0\">(</span>year<span class=\"sy0\">%</span>100<span class=\"sy0\">!=</span><span class=\"nu0\">0</span><span class=\"br0\">)</span><br/>\t\t\t\t<span class=\"kw1\">return</span> <span class=\"kw2\">true</span><span class=\"sy0\">;</span><br/>\t\t\t<span class=\"kw1\">else</span> <span class=\"kw1\">if</span> <span class=\"br0\">(</span>year<span class=\"sy0\">%</span>400<span class=\"sy0\">==</span><span class=\"nu0\">0</span><span class=\"br0\">)</span><br/>\t\t\t\t<span class=\"kw1\">return</span> <span class=\"kw2\">true</span><span class=\"sy0\">;</span><br/>\t\t<span class=\"br0\">}</span><br/>\t\t<span class=\"kw1\">return</span> <span class=\"kw2\">false</span><span class=\"sy0\">;</span><br/>\t<span class=\"br0\">}</span><br/>\u00a0<br/>\t<span class=\"kw1\">private</span> <span class=\"kw1\">static</span> <span class=\"kw4\">int</span> getWeekDay<span class=\"br0\">(</span><span class=\"kw4\">int</span> y, <span class=\"kw4\">int</span> m, <span class=\"kw4\">int</span> d<span class=\"br0\">)</span><br/>\t<span class=\"br0\">{</span><br/>\t\t<span class=\"kw4\">int</span> f<span class=\"sy0\">=</span>y<span class=\"sy0\">+</span>d<span class=\"sy0\">+</span><span class=\"nu0\">3</span><span class=\"sy0\">*</span>m<span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"sy0\">;</span><br/>\t\tm<span class=\"sy0\">++;</span><br/>\u00a0<br/>\t\t<span class=\"kw1\">if</span><span class=\"br0\">(</span>m<span class=\"sy0\">&lt;</span><span class=\"nu0\">3</span><span class=\"br0\">)</span><br/>\t\t\ty<span class=\"sy0\">--;</span><br/>\t\t<span class=\"kw1\">else</span><br/>\t\t\tf<span class=\"sy0\">-=</span><span class=\"br0\">(</span><span class=\"kw4\">int</span><span class=\"br0\">)</span><span class=\"br0\">(</span><span class=\"nu0\">0.4</span><span class=\"sy0\">*</span>m<span class=\"sy0\">+</span><span class=\"nu0\">2.3</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>\t\tf<span class=\"sy0\">+=</span><span class=\"br0\">(</span><span class=\"kw4\">int</span><span class=\"br0\">)</span><span class=\"br0\">(</span>y<span class=\"sy0\">/</span><span class=\"nu0\">4</span><span class=\"br0\">)</span><span class=\"sy0\">-</span><span class=\"br0\">(</span><span class=\"kw4\">int</span><span class=\"br0\">)</span><span class=\"br0\">(</span><span class=\"br0\">(</span>y<span class=\"sy0\">/</span><span class=\"nu0\">100</span><span class=\"sy0\">+</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy0\">*</span><span class=\"nu0\">0.75</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t\tf<span class=\"sy0\">%=</span><span class=\"nu0\">7</span><span class=\"sy0\">;</span><br/>\u00a0<br/>\t\t<span class=\"kw1\">return</span> f<span class=\"sy0\">;</span><br/>\t<span class=\"br0\">}</span><br/>\u00a0<br/>\t<span class=\"kw1\">private</span> <span class=\"kw1\">static</span> <span class=\"kw4\">void</span> display<span class=\"br0\">(</span><span class=\"kw4\">int</span> year, <span class=\"kw4\">int</span><span class=\"br0\">[</span><span class=\"br0\">]</span> lastDay<span class=\"br0\">)</span><br/>\t<span class=\"br0\">{</span><br/>\t\t<a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">println</span><span class=\"br0\">(</span><span class=\"st0\">\"<span class=\"es0\">\\n</span>YEAR: \"</span><span class=\"sy0\">+</span>year<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t\t<span class=\"kw1\">for</span><span class=\"br0\">(</span><span class=\"kw4\">int</span> m<span class=\"sy0\">=</span><span class=\"nu0\">0</span><span class=\"sy0\">;</span>i<span class=\"sy0\">&lt;</span><span class=\"nu0\">12</span><span class=\"sy0\">;</span>i<span class=\"sy0\">++</span><span class=\"br0\">)</span><br/>\t\t\t<a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">println</span><span class=\"br0\">(</span>months<span class=\"br0\">[</span>m<span class=\"br0\">]</span><span class=\"sy0\">+</span><span class=\"st0\">\": \"</span><span class=\"sy0\">+</span>lastDay<span class=\"br0\">[</span>m<span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t<span class=\"br0\">}</span><br/>\u00a0<br/>\t<span class=\"kw1\">public</span> <span class=\"kw1\">static</span> <span class=\"kw4\">void</span> main<span class=\"br0\">(</span><a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">String</span></a><span class=\"br0\">[</span><span class=\"br0\">]</span> args<span class=\"br0\">)</span> <span class=\"kw1\">throws</span> <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Aexception+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">Exception</span></a><br/>\t<span class=\"br0\">{</span><br/>\t\t<a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">print</span><span class=\"br0\">(</span><span class=\"st0\">\"Enter year: \"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t\tScanner s<span class=\"sy0\">=</span><span class=\"kw1\">new</span> Scanner<span class=\"br0\">(</span><a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">in</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>\t\t<span class=\"kw4\">int</span> y<span class=\"sy0\">=</span><a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Ainteger+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">Integer</span></a>.<span class=\"me1\">parseInt</span><span class=\"br0\">(</span>s.<span class=\"me1\">next</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>\t\t<span class=\"kw4\">int</span><span class=\"br0\">[</span><span class=\"br0\">]</span> lastDay <span class=\"sy0\">=</span> findLastSunday<span class=\"br0\">(</span>y<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t\tdisplay<span class=\"br0\">(</span>y, lastDay<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>\t\ts.<span class=\"me1\">close</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\t<span class=\"br0\">}</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "JavaScript", "loc": 11, "block": "<pre class=\"javascript highlighted_source\"><span class=\"kw1\">function</span> lastSundayOfEachMonths<span class=\"br0\">(</span>year<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>\t<span class=\"kw1\">var</span> lastDay <span class=\"sy0\">=</span> <span class=\"br0\">[</span><span class=\"nu0\">31</span><span class=\"sy0\">,</span><span class=\"nu0\">28</span><span class=\"sy0\">,</span><span class=\"nu0\">31</span><span class=\"sy0\">,</span><span class=\"nu0\">30</span><span class=\"sy0\">,</span><span class=\"nu0\">31</span><span class=\"sy0\">,</span><span class=\"nu0\">30</span><span class=\"sy0\">,</span><span class=\"nu0\">31</span><span class=\"sy0\">,</span><span class=\"nu0\">31</span><span class=\"sy0\">,</span><span class=\"nu0\">30</span><span class=\"sy0\">,</span><span class=\"nu0\">31</span><span class=\"sy0\">,</span><span class=\"nu0\">30</span><span class=\"sy0\">,</span><span class=\"nu0\">31</span><span class=\"br0\">]</span><br/>\t<span class=\"kw1\">if</span> <span class=\"br0\">(</span>year <span class=\"sy0\">%</span> <span class=\"nu0\">4</span> <span class=\"sy0\">==</span> <span class=\"nu0\">0</span> <span class=\"sy0\">&amp;&amp;</span> <span class=\"br0\">(</span>year <span class=\"sy0\">%</span> <span class=\"nu0\">100</span> <span class=\"sy0\">!=</span> <span class=\"nu0\">0</span> <span class=\"sy0\">||</span> year <span class=\"sy0\">%</span> <span class=\"nu0\">400</span> <span class=\"sy0\">==</span> <span class=\"nu0\">0</span><span class=\"br0\">)</span><span class=\"br0\">)</span> lastDay<span class=\"br0\">[</span><span class=\"nu0\">2</span><span class=\"br0\">]</span> <span class=\"sy0\">=</span> <span class=\"nu0\">29</span><br/>\t<span class=\"kw1\">for</span> <span class=\"br0\">(</span><span class=\"kw1\">var</span> date <span class=\"sy0\">=</span> <span class=\"kw1\">new</span> <span class=\"kw4\">Date</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">,</span> month<span class=\"sy0\">=</span><span class=\"nu0\">0</span><span class=\"sy0\">;</span> month<span class=\"sy0\">&lt;</span><span class=\"nu0\">12</span><span class=\"sy0\">;</span> month<span class=\"sy0\">+=</span><span class=\"nu0\">1</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>\t\tdate.<span class=\"me1\">setFullYear</span><span class=\"br0\">(</span>year<span class=\"sy0\">,</span> month<span class=\"sy0\">,</span> lastDay<span class=\"br0\">[</span>month<span class=\"br0\">]</span><span class=\"br0\">)</span><br/>\t\tdate.<span class=\"me1\">setDate</span><span class=\"br0\">(</span>date.<span class=\"me1\">getDate</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">-</span>date.<span class=\"me1\">getDay</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>\t\tdocument.<span class=\"me1\">write</span><span class=\"br0\">(</span>date.<span class=\"me1\">toISOString</span><span class=\"br0\">(</span><span class=\"br0\">)</span>.<span class=\"me1\">substring</span><span class=\"br0\">(</span><span class=\"nu0\">0</span><span class=\"sy0\">,</span><span class=\"nu0\">10</span><span class=\"br0\">)</span><span class=\"sy0\">,</span> <span class=\"st0\">'&lt;br&gt;'</span><span class=\"br0\">)</span><br/>\t<span class=\"br0\">}</span>   <br/><span class=\"br0\">}</span><br/>\u00a0<br/>lastSundayOfEachMonths<span class=\"br0\">(</span><span class=\"nu0\">2013</span><span class=\"br0\">)</span></pre>"}, {"lang": "jq", "loc": 26, "block": "<pre class=\"text highlighted_source\"># In case your jq does not have \"until\" defined:<br/>def until(cond; next):<br/>  def _until:<br/>    if cond then . else (next|_until) end;<br/>  _until;<br/>\u00a0<br/># Zeller's Congruence from [[Day_of_the_week#jq]]<br/>\u00a0<br/># Use Zeller's Congruence to determine the day of the week, given<br/># year, month and day as integers in the conventional way.<br/># If iso == \"iso\" or \"ISO\", then emit an integer in 1 -- 7 where <br/># 1 represents Monday, 2 Tuesday, etc;<br/># otherwise emit 0 for Saturday, 1 for Sunday, etc.<br/>#<br/>def day_of_week(year; month; day; iso):<br/>  if month == 1 or month == 2 then<br/>    [year - 1, month + 12, day]<br/>  else<br/>    [year, month, day]<br/>  end<br/>  | .[2] + (13*(.[1] + 1)/5|floor) <br/>    +  (.[0]%100)       + ((.[0]%100)/4|floor)<br/>    +  (.[0]/400|floor) - 2*(.[0]/100|floor)<br/>  | if iso == \"iso\" or iso == \"ISO\" then 1 + ((. + 5)\u00a0% 7)<br/>    else .\u00a0% 7<br/>    end\u00a0;</pre>"}, {"lang": "Julia", "loc": 27, "block": "<pre class=\"text highlighted_source\">\u00a0<br/>isdefined(:Date) || using Dates<br/>\u00a0<br/>const wday = Dates.Sun<br/>const lo = 1<br/>const hi = 12<br/>\u00a0<br/>print(\"\\nThis script will print the last \", Dates.dayname(wday))<br/>println(\"s of each month of the year given.\")<br/>println(\"(Leave input empty to quit.)\")<br/>\u00a0<br/>while true<br/>    print(\"\\nYear&gt; \")<br/>    y = chomp(readline())<br/>    0 &lt; length(y) || break<br/>    y = try<br/>        parseint(y)<br/>    catch<br/>        println(\"Sorry, but that does not compute as a year.\")<br/>        continue<br/>    end<br/>    println()<br/>    for m in Date(y, lo):Month(1):Date(y, hi)<br/>        println(\"    \", tolast(m, wday))<br/>    end<br/>end<br/>\u00a0</pre>"}, {"lang": "K", "loc": 15, "block": "<pre class=\"text highlighted_source\">\u00a0<br/>/ List the dates of last Sundays of each month of<br/>/ a given year<br/>/ lastsundt.k<br/>\u00a0<br/>isleap: {(+/~x!' 4 100 400)!2}<br/>wd: {(_jd x)!7}<br/>dom: (31;28;31;30;31;30;31;31;30;31;30;31)<br/>init: {:[isleap x;dom[1]::29;dom[1]::28]}<br/>wdme: {[m;y]; init y; dt:(10000*y)+(100*m)+dom[m-1];jd::(_jd dt);mewd::(wd dt)}<br/>lsd: {[m;y]; wdme[m;y];:[mewd&gt;5;jd::jd+(6-mewd);jd::jd-(1+mewd)];dt:_dj(jd);yy:$(yr:dt%10000);dd:$(d:dt!100);mm:$(mo:((dt-yr*10000)%100));arr::arr,$(yy,\"-\",(2$mm),\"-\",(2$dd))}<br/>lsd1: {[y];arr::(); m:1; do[12;lsd[m;y];m+:1]}<br/>main: {[y]; lsd1[y];`0: ,\"Dates of last Sundays of \",($y); 12 10#arr}<br/>\u00a0<br/>\u00a0</pre>"}, {"lang": "Kotlin", "loc": 21, "block": "<pre class=\"scala highlighted_source\"><span class=\"co1\">// version 1.0.6</span><br/>\u00a0<br/><a href=\"http://scala-lang.org\"><span class=\"kw1\">import</span></a> java.<span class=\"me1\">util</span>.<span class=\"sy0\">*</span><br/>\u00a0<br/>fun main<span class=\"br0\">(</span>args<span class=\"sy0\">:</span> Array<span class=\"sy0\">&lt;</span>String<span class=\"sy0\">&gt;</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>    print<span class=\"br0\">(</span><span class=\"st0\">\"Enter a year\u00a0: \"</span><span class=\"br0\">)</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> year <span class=\"sy0\">=</span> readLine<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">!!</span>.<span class=\"me1\">toInt</span><span class=\"br0\">(</span><span class=\"br0\">)</span><br/>\u00a0<br/>    println<span class=\"br0\">(</span><span class=\"st0\">\"The last Sundays of each month in $year are as follows:\"</span><span class=\"br0\">)</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> calendar <span class=\"sy0\">=</span> GregorianCalendar<span class=\"br0\">(</span>year, <span class=\"nu0\">0</span>, <span class=\"nu0\">31</span><span class=\"br0\">)</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">for</span></a> <span class=\"br0\">(</span>month in <span class=\"nu0\">1</span>..<span class=\"nu0\">12</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>        <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> daysInMonth <span class=\"sy0\">=</span> calendar.<span class=\"me1\">getActualMaximum</span><span class=\"br0\">(</span>Calendar.<span class=\"me1\">DAY_OF_MONTH</span><span class=\"br0\">)</span><br/>        <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> lastSunday <span class=\"sy0\">=</span> daysInMonth - <span class=\"br0\">(</span>calendar<span class=\"br0\">[</span>Calendar.<span class=\"me1\">DAY_OF_WEEK</span><span class=\"br0\">]</span> - Calendar.<span class=\"me1\">SUNDAY</span><span class=\"br0\">)</span><br/>        println<span class=\"br0\">(</span><span class=\"st0\">\"$year-\"</span> + <span class=\"st0\">\"%02d-\"</span>.<span class=\"me1\">format</span><span class=\"br0\">(</span>month<span class=\"br0\">)</span> + <span class=\"st0\">\"%02d\"</span>.<span class=\"me1\">format</span><span class=\"br0\">(</span>lastSunday<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>        <a href=\"http://scala-lang.org\"><span class=\"kw1\">if</span></a> <span class=\"br0\">(</span>month <span class=\"sy0\">&lt;</span> <span class=\"nu0\">12</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>            calendar.<span class=\"me1\">add</span><span class=\"br0\">(</span>Calendar.<span class=\"me1\">DAY_OF_MONTH</span>, <span class=\"nu0\">1</span><span class=\"br0\">)</span><br/>            calendar.<span class=\"me1\">add</span><span class=\"br0\">(</span>Calendar.<span class=\"me1\">MONTH</span>, <span class=\"nu0\">1</span><span class=\"br0\">)</span><br/>            calendar.<span class=\"me1\">add</span><span class=\"br0\">(</span>Calendar.<span class=\"me1\">DAY_OF_MONTH</span>, -<span class=\"nu0\">1</span><span class=\"br0\">)</span><br/>        <span class=\"br0\">}</span><br/>    <span class=\"br0\">}</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "Lasso", "loc": 21, "block": "<pre class=\"text highlighted_source\">local(<br/>\tyear\t= integer(web_request -&gt; param('year') || 2013),<br/>\tdate\t= date(#year + '-1-1'),<br/>\tlastsu\t= array,<br/>\tlastday<br/>)<br/>\u00a0<br/>with month in generateseries(1,12) do {<br/>\t#date -&gt; day = 1<br/>\t#date -&gt; month = #month<br/>\t#lastday = #date -&gt; month(-days)<br/>\t#date -&gt; day = #lastday<br/>\tloop(7)\t=&gt; {<br/>\t\tif(#date -&gt; dayofweek == 1) =&gt; {<br/>\t\t\t#lastsu -&gt; insert(#date -&gt; format(`dd MMMM`))<br/>\t\t\tloop_abort<br/>\t\t}<br/>\t\t#date -&gt; day--<br/>\t}<br/>}<br/>#lastsu -&gt; join('&lt;br /&gt;')</pre>"}, {"lang": "Liberty BASIC", "loc": 82, "block": "<pre class=\"lb highlighted_source\">\u00a0<br/>yyyy<span class=\"sy0\">=</span><span class=\"nu0\">2013</span><span class=\"sy0\">:</span> <span class=\"kw1\">if</span> yyyy<span class=\"sy0\">&lt;</span><span class=\"nu0\">1901</span> <span class=\"kw1\">or</span> yyyy<span class=\"sy0\">&gt;</span><span class=\"nu0\">2099</span> <span class=\"kw1\">then</span> <span class=\"kw1\">end</span><br/>nda$<span class=\"sy0\">=</span><span class=\"st0\">\"Lsu\"</span><br/><span class=\"kw1\">print</span> <span class=\"st0\">\"The last Sundays of \"</span>; yyyy<br/><span class=\"kw1\">for</span> mm<span class=\"sy0\">=</span><span class=\"nu0\">1</span> <span class=\"kw1\">to</span> <span class=\"nu0\">12</span><br/>    x<span class=\"sy0\">=</span>NthDayOfMonth<span class=\"br0\">(</span>yyyy<span class=\"sy0\">,</span> mm<span class=\"sy0\">,</span> nda$<span class=\"br0\">)</span><br/>    <span class=\"kw1\">select</span> <span class=\"kw1\">case</span> mm<br/>        <span class=\"kw1\">case</span>  <span class=\"nu0\">1</span><span class=\"sy0\">:</span> <span class=\"kw1\">print</span> <span class=\"st0\">\"   January \"</span>;   x<br/>        <span class=\"kw1\">case</span>  <span class=\"nu0\">2</span><span class=\"sy0\">:</span> <span class=\"kw1\">print</span> <span class=\"st0\">\"   February \"</span>;  x<br/>        <span class=\"kw1\">case</span>  <span class=\"nu0\">3</span><span class=\"sy0\">:</span> <span class=\"kw1\">print</span> <span class=\"st0\">\"   March \"</span>;     x<br/>        <span class=\"kw1\">case</span>  <span class=\"nu0\">4</span><span class=\"sy0\">:</span> <span class=\"kw1\">print</span> <span class=\"st0\">\"   April \"</span>;     x<br/>        <span class=\"kw1\">case</span>  <span class=\"nu0\">5</span><span class=\"sy0\">:</span> <span class=\"kw1\">print</span> <span class=\"st0\">\"   May \"</span>;       x<br/>        <span class=\"kw1\">case</span>  <span class=\"nu0\">6</span><span class=\"sy0\">:</span> <span class=\"kw1\">print</span> <span class=\"st0\">\"   June \"</span>;      x<br/>        <span class=\"kw1\">case</span>  <span class=\"nu0\">7</span><span class=\"sy0\">:</span> <span class=\"kw1\">print</span> <span class=\"st0\">\"   July \"</span>;      x<br/>        <span class=\"kw1\">case</span>  <span class=\"nu0\">8</span><span class=\"sy0\">:</span> <span class=\"kw1\">print</span> <span class=\"st0\">\"   August \"</span>;    x<br/>        <span class=\"kw1\">case</span>  <span class=\"nu0\">9</span><span class=\"sy0\">:</span> <span class=\"kw1\">print</span> <span class=\"st0\">\"   September \"</span>; x<br/>        <span class=\"kw1\">case</span> <span class=\"nu0\">10</span><span class=\"sy0\">:</span> <span class=\"kw1\">print</span> <span class=\"st0\">\"   October \"</span>;   x<br/>        <span class=\"kw1\">case</span> <span class=\"nu0\">11</span><span class=\"sy0\">:</span> <span class=\"kw1\">print</span> <span class=\"st0\">\"   November \"</span>;  x<br/>        <span class=\"kw1\">case</span> <span class=\"nu0\">12</span><span class=\"sy0\">:</span> <span class=\"kw1\">print</span> <span class=\"st0\">\"   December \"</span>;  x<br/>    <span class=\"kw1\">end</span> <span class=\"kw1\">select</span><br/><span class=\"kw1\">next</span> mm<br/><span class=\"kw1\">end</span><br/>\u00a0<br/><span class=\"kw1\">function</span> NthDayOfMonth<span class=\"br0\">(</span>yyyy<span class=\"sy0\">,</span> mm<span class=\"sy0\">,</span> nda$<span class=\"br0\">)</span><br/><span class=\"co1\">' nda$ is a two-part code. The first character, n, denotes</span><br/><span class=\"co1\">' first, second, third, fourth, and last by 1, 2, 3, 4, or L.</span><br/><span class=\"co1\">' The last two characters, da, denote the day of the week by</span><br/><span class=\"co1\">' mo, tu, we, th, fr, sa, or su. For example: </span><br/><span class=\"co1\">' the nda$ for the second Monday of a month is \"2mo\";</span><br/><span class=\"co1\">' the nda$ for the last Thursday of a month is \"Lth\".</span><br/>    <span class=\"kw1\">if</span> yyyy<span class=\"sy0\">&lt;</span><span class=\"nu0\">1900</span> <span class=\"kw1\">or</span> yyyy<span class=\"sy0\">&gt;</span><span class=\"nu0\">2099</span> <span class=\"kw1\">or</span> mm<span class=\"sy0\">&lt;</span><span class=\"nu0\">1</span> <span class=\"kw1\">or</span> mm<span class=\"sy0\">&gt;</span><span class=\"nu0\">12</span> <span class=\"kw1\">then</span><br/>        NthDayOfMonth<span class=\"sy0\">=</span><span class=\"nu0\">0</span><span class=\"sy0\">:</span> <span class=\"kw1\">exit</span> <span class=\"kw1\">function</span><br/>    <span class=\"kw1\">end</span> <span class=\"kw1\">if</span><br/>    nda$<span class=\"sy0\">=</span><span class=\"kw2\">lower$</span><span class=\"br0\">(</span><span class=\"kw2\">trim$</span><span class=\"br0\">(</span>nda$<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>    <span class=\"kw1\">if</span> <span class=\"kw2\">len</span><span class=\"br0\">(</span>nda$<span class=\"br0\">)</span><span class=\"sy0\">&lt;&gt;</span><span class=\"nu0\">3</span> <span class=\"kw1\">then</span> NthDayOfMonth<span class=\"sy0\">=</span><span class=\"nu0\">0</span><span class=\"sy0\">:</span> <span class=\"kw1\">exit</span> <span class=\"kw1\">function</span><br/>    n$<span class=\"sy0\">=</span><span class=\"kw2\">left$</span><span class=\"br0\">(</span>nda$<span class=\"sy0\">,</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy0\">:</span> nC$<span class=\"sy0\">=</span><span class=\"st0\">\"1234l\"</span><br/>    da$<span class=\"sy0\">=</span><span class=\"kw2\">right$</span><span class=\"br0\">(</span>nda$<span class=\"sy0\">,</span><span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"sy0\">:</span> daC$<span class=\"sy0\">=</span><span class=\"st0\">\"tuwethfrsasumotuwethfrsasumo\"</span><br/>    <span class=\"kw1\">if</span> <span class=\"kw2\">not</span><span class=\"br0\">(</span><span class=\"kw2\">instr</span><span class=\"br0\">(</span>nC$<span class=\"sy0\">,</span>n$<span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"kw1\">or</span> <span class=\"kw2\">not</span><span class=\"br0\">(</span><span class=\"kw2\">instr</span><span class=\"br0\">(</span>daC$<span class=\"sy0\">,</span>da$<span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"kw1\">then</span><br/>        NthDayOfMonth<span class=\"sy0\">=</span><span class=\"nu0\">0</span><span class=\"sy0\">:</span> <span class=\"kw1\">exit</span> <span class=\"kw1\">function</span><br/>    <span class=\"kw1\">end</span> <span class=\"kw1\">if</span><br/>    NthDayOfMonth<span class=\"sy0\">=</span><span class=\"nu0\">1</span><br/>    mm$<span class=\"sy0\">=</span><span class=\"kw2\">str$</span><span class=\"br0\">(</span>mm<span class=\"br0\">)</span><span class=\"sy0\">:</span> <span class=\"kw1\">if</span> mm<span class=\"sy0\">&lt;</span><span class=\"nu0\">10</span> <span class=\"kw1\">then</span> mm$<span class=\"sy0\">=</span><span class=\"st0\">\"0\"</span><span class=\"sy0\">+</span>mm$ <br/>    db$<span class=\"sy0\">=</span>DayOfDate$<span class=\"br0\">(</span><span class=\"kw2\">str$</span><span class=\"br0\">(</span>yyyy<span class=\"br0\">)</span><span class=\"sy0\">+</span>mm$<span class=\"sy0\">+</span><span class=\"st0\">\"01\"</span><span class=\"br0\">)</span><br/>    <span class=\"kw1\">if</span> da$<span class=\"sy0\">&lt;&gt;</span>db$ <span class=\"kw1\">then</span><br/>        x<span class=\"sy0\">=</span><span class=\"kw2\">instr</span><span class=\"br0\">(</span>daC$<span class=\"sy0\">,</span>db$<span class=\"br0\">)</span><span class=\"sy0\">:</span> y<span class=\"sy0\">=</span><span class=\"kw2\">instr</span><span class=\"br0\">(</span>daC$<span class=\"sy0\">,</span>da$<span class=\"sy0\">,</span>x<span class=\"br0\">)</span><span class=\"sy0\">:</span> NthDayOfMonth<span class=\"sy0\">=</span><span class=\"nu0\">1</span><span class=\"sy0\">+</span><span class=\"br0\">(</span>y<span class=\"sy0\">-</span>x<span class=\"br0\">)</span><span class=\"sy0\">/</span><span class=\"nu0\">2</span><br/>    <span class=\"kw1\">end</span> <span class=\"kw1\">if</span><br/>    <span class=\"kw1\">dim</span> MD<span class=\"br0\">(</span><span class=\"nu0\">12</span><span class=\"br0\">)</span><br/>    MD<span class=\"br0\">(</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy0\">=</span><span class=\"nu0\">31</span><span class=\"sy0\">:</span> MD<span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"sy0\">=</span><span class=\"nu0\">28</span><span class=\"sy0\">:</span> MD<span class=\"br0\">(</span><span class=\"nu0\">3</span><span class=\"br0\">)</span><span class=\"sy0\">=</span><span class=\"nu0\">31</span><span class=\"sy0\">:</span> MD<span class=\"br0\">(</span><span class=\"nu0\">4</span><span class=\"br0\">)</span><span class=\"sy0\">=</span><span class=\"nu0\">30</span><span class=\"sy0\">:</span> MD<span class=\"br0\">(</span><span class=\"nu0\">5</span><span class=\"br0\">)</span><span class=\"sy0\">=</span><span class=\"nu0\">31</span><span class=\"sy0\">:</span> MD<span class=\"br0\">(</span><span class=\"nu0\">6</span><span class=\"br0\">)</span><span class=\"sy0\">=</span><span class=\"nu0\">30</span> <br/>    MD<span class=\"br0\">(</span><span class=\"nu0\">7</span><span class=\"br0\">)</span><span class=\"sy0\">=</span><span class=\"nu0\">31</span><span class=\"sy0\">:</span> MD<span class=\"br0\">(</span><span class=\"nu0\">8</span><span class=\"br0\">)</span><span class=\"sy0\">=</span><span class=\"nu0\">31</span><span class=\"sy0\">:</span> MD<span class=\"br0\">(</span><span class=\"nu0\">9</span><span class=\"br0\">)</span><span class=\"sy0\">=</span><span class=\"nu0\">30</span><span class=\"sy0\">:</span> MD<span class=\"br0\">(</span><span class=\"nu0\">10</span><span class=\"br0\">)</span><span class=\"sy0\">=</span><span class=\"nu0\">31</span><span class=\"sy0\">:</span> MD<span class=\"br0\">(</span><span class=\"nu0\">11</span><span class=\"br0\">)</span><span class=\"sy0\">=</span><span class=\"nu0\">30</span><span class=\"sy0\">:</span> MD<span class=\"br0\">(</span><span class=\"nu0\">12</span><span class=\"br0\">)</span><span class=\"sy0\">=</span><span class=\"nu0\">31</span> <br/>    <span class=\"kw1\">if</span> yyyy <span class=\"kw1\">mod</span> <span class=\"nu0\">4</span> <span class=\"sy0\">=</span> <span class=\"nu0\">0</span> <span class=\"kw1\">then</span> MD<span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"sy0\">=</span><span class=\"nu0\">29</span><br/>    <span class=\"kw1\">if</span> n$<span class=\"sy0\">&lt;&gt;</span><span class=\"st0\">\"1\"</span> <span class=\"kw1\">then</span><br/>        <span class=\"kw1\">if</span> n$<span class=\"sy0\">&lt;&gt;</span><span class=\"st0\">\"l\"</span> <span class=\"kw1\">then</span><br/>            NthDayOfMonth<span class=\"sy0\">=</span>NthDayOfMonth<span class=\"sy0\">+</span><span class=\"br0\">(</span><span class=\"br0\">(</span><span class=\"kw2\">val</span><span class=\"br0\">(</span>n$<span class=\"br0\">)</span><span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy0\">*</span><span class=\"nu0\">7</span><span class=\"br0\">)</span><br/>        <span class=\"kw1\">else</span><br/>            <span class=\"kw1\">if</span> NthDayOfMonth<span class=\"sy0\">+</span><span class=\"nu0\">27</span><span class=\"sy0\">&lt;</span>MD<span class=\"br0\">(</span>mm<span class=\"br0\">)</span> <span class=\"kw1\">then</span><br/>                NthDayOfMonth<span class=\"sy0\">=</span>NthDayOfMonth<span class=\"sy0\">+</span><span class=\"nu0\">28</span><br/>            <span class=\"kw1\">else</span><br/>                NthDayOfMonth<span class=\"sy0\">=</span>NthDayOfMonth<span class=\"sy0\">+</span><span class=\"nu0\">21</span><br/>            <span class=\"kw1\">end</span> <span class=\"kw1\">if</span><br/>        <span class=\"kw1\">end</span> <span class=\"kw1\">if</span><br/>    <span class=\"kw1\">end</span> <span class=\"kw1\">if</span><br/><span class=\"kw1\">end</span> <span class=\"kw1\">function</span><br/>\u00a0<br/><span class=\"kw1\">function</span> DayOfDate$<span class=\"br0\">(</span>ObjectDate$<span class=\"br0\">)</span> <span class=\"co1\">'yyyymmdd format</span><br/>    <span class=\"kw1\">if</span> ObjectDate$<span class=\"sy0\">=</span><span class=\"st0\">\"\"</span> <span class=\"kw1\">then</span> <span class=\"co1\">'today</span><br/>        DaysSince1900 <span class=\"sy0\">=</span> <span class=\"kw2\">date$</span><span class=\"br0\">(</span><span class=\"st0\">\"days\"</span><span class=\"br0\">)</span><br/>    <span class=\"kw1\">else</span><br/>        DaysSince1900 <span class=\"sy0\">=</span> <span class=\"kw2\">date$</span><span class=\"br0\">(</span><span class=\"kw2\">mid$</span><span class=\"br0\">(</span>ObjectDate$<span class=\"sy0\">,</span><span class=\"nu0\">5</span><span class=\"sy0\">,</span><span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"sy0\">+</span><span class=\"st0\">\"/\"</span><span class=\"sy0\">+</span><span class=\"kw2\">right$</span><span class=\"br0\">(</span>ObjectDate$<span class=\"sy0\">,</span><span class=\"nu0\">2</span><span class=\"br0\">)</span>_<br/>                <span class=\"sy0\">+</span><span class=\"st0\">\"/\"</span><span class=\"sy0\">+</span><span class=\"kw2\">left$</span><span class=\"br0\">(</span>ObjectDate$<span class=\"sy0\">,</span><span class=\"nu0\">4</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>    <span class=\"kw1\">end</span> <span class=\"kw1\">if</span><br/>    DayOfWeek <span class=\"sy0\">=</span> DaysSince1900 <span class=\"kw1\">mod</span> <span class=\"nu0\">7</span><br/>    <span class=\"kw1\">select</span> <span class=\"kw1\">case</span> DayOfWeek<br/>        <span class=\"kw1\">case</span> <span class=\"nu0\">0</span><span class=\"sy0\">:</span> DayOfDate$<span class=\"sy0\">=</span><span class=\"st0\">\"tu\"</span><br/>        <span class=\"kw1\">case</span> <span class=\"nu0\">1</span><span class=\"sy0\">:</span> DayOfDate$<span class=\"sy0\">=</span><span class=\"st0\">\"we\"</span><br/>        <span class=\"kw1\">case</span> <span class=\"nu0\">2</span><span class=\"sy0\">:</span> DayOfDate$<span class=\"sy0\">=</span><span class=\"st0\">\"th\"</span><br/>        <span class=\"kw1\">case</span> <span class=\"nu0\">3</span><span class=\"sy0\">:</span> DayOfDate$<span class=\"sy0\">=</span><span class=\"st0\">\"fr\"</span><br/>        <span class=\"kw1\">case</span> <span class=\"nu0\">4</span><span class=\"sy0\">:</span> DayOfDate$<span class=\"sy0\">=</span><span class=\"st0\">\"sa\"</span><br/>        <span class=\"kw1\">case</span> <span class=\"nu0\">5</span><span class=\"sy0\">:</span> DayOfDate$<span class=\"sy0\">=</span><span class=\"st0\">\"su\"</span><br/>        <span class=\"kw1\">case</span> <span class=\"nu0\">6</span><span class=\"sy0\">:</span> DayOfDate$<span class=\"sy0\">=</span><span class=\"st0\">\"mo\"</span><br/>    <span class=\"kw1\">end</span> <span class=\"kw1\">select</span><br/><span class=\"kw1\">end</span> <span class=\"kw1\">function</span><br/>\u00a0</pre>"}, {"lang": "LiveCode", "loc": 23, "block": "<pre class=\"text highlighted_source\">function lastDay yyyy, dayofweek<br/>    -- year,month num,day of month,hour in 24-hour time,minute,second,numeric day of week.<br/>    convert the long date to dateitems<br/>    put 1 into item 2 of it<br/>    put 1 into item 3 of it<br/>    put yyyy into item 1 of it<br/>    put it into startDate<br/>    convert startDate to dateItems<br/>    repeat with m = 1 to 12<br/>        put m into item 2 of startDate<br/>        repeat with d = 20 to 31<br/>            put d into item 3 of startDate<br/>            convert startDate to dateItems<br/>            -- 1 is Sunday through to 7 Saturday<br/>            if item 7 of startDate is dayofweek and item 1 of startDate is yyyy and item 2 of startDate is m then<br/>                put item 3 of startDate into mydays[item 2 of startDate]<br/>            end if<br/>        end repeat<br/>    end repeat<br/>    combine mydays using cr and space<br/>    sort mydays ascending numeric<br/>    return mydays<br/>end lastDay</pre>"}, {"lang": "Lua", "loc": 20, "block": "<pre class=\"lua highlighted_source\"><span class=\"kw1\">function</span> isLeapYear <span class=\"br0\">(</span>y<span class=\"br0\">)</span><br/>    <span class=\"kw1\">return</span> <span class=\"br0\">(</span>y <span class=\"sy0\">%</span> <span class=\"nu0\">4</span> <span class=\"sy0\">==</span> <span class=\"nu0\">0</span> <span class=\"kw2\">and</span> y <span class=\"sy0\">%</span> <span class=\"nu0\">100</span> <span class=\"sy0\">~=</span><span class=\"nu0\">0</span><span class=\"br0\">)</span> <span class=\"kw2\">or</span> y <span class=\"sy0\">%</span> <span class=\"nu0\">400</span> <span class=\"sy0\">==</span> <span class=\"nu0\">0</span><br/><span class=\"kw1\">end</span><br/>\u00a0<br/><span class=\"kw1\">function</span> dayOfWeek <span class=\"br0\">(</span>y<span class=\"sy0\">,</span> m<span class=\"sy0\">,</span> d<span class=\"br0\">)</span><br/>    <span class=\"kw1\">local</span> t <span class=\"sy0\">=</span> <span class=\"kw3\">os.time</span><span class=\"br0\">(</span><span class=\"br0\">{</span>year <span class=\"sy0\">=</span> y<span class=\"sy0\">,</span> month <span class=\"sy0\">=</span> m<span class=\"sy0\">,</span> day <span class=\"sy0\">=</span> d<span class=\"br0\">}</span><span class=\"br0\">)</span><br/>    <span class=\"kw1\">return</span> <span class=\"kw3\">os.date</span><span class=\"br0\">(</span><span class=\"st0\">\"%A\"</span><span class=\"sy0\">,</span> t<span class=\"br0\">)</span><br/><span class=\"kw1\">end</span><br/>\u00a0<br/><span class=\"kw1\">function</span> lastWeekdays <span class=\"br0\">(</span>wday<span class=\"sy0\">,</span> year<span class=\"br0\">)</span><br/>    <span class=\"kw1\">local</span> monthLength<span class=\"sy0\">,</span> day <span class=\"sy0\">=</span> <span class=\"br0\">{</span><span class=\"nu0\">31</span><span class=\"sy0\">,</span> <span class=\"nu0\">28</span><span class=\"sy0\">,</span> <span class=\"nu0\">31</span><span class=\"sy0\">,</span> <span class=\"nu0\">30</span><span class=\"sy0\">,</span> <span class=\"nu0\">31</span><span class=\"sy0\">,</span> <span class=\"nu0\">30</span><span class=\"sy0\">,</span> <span class=\"nu0\">31</span><span class=\"sy0\">,</span> <span class=\"nu0\">31</span><span class=\"sy0\">,</span> <span class=\"nu0\">30</span><span class=\"sy0\">,</span> <span class=\"nu0\">31</span><span class=\"sy0\">,</span> <span class=\"nu0\">30</span><span class=\"sy0\">,</span> <span class=\"nu0\">31</span><span class=\"br0\">}</span><br/>    <span class=\"kw1\">if</span> isLeapYear<span class=\"br0\">(</span>year<span class=\"br0\">)</span> <span class=\"kw1\">then</span> monthLength<span class=\"br0\">[</span><span class=\"nu0\">2</span><span class=\"br0\">]</span> <span class=\"sy0\">=</span> <span class=\"nu0\">29</span> <span class=\"kw1\">end</span><br/>    <span class=\"kw1\">for</span> month <span class=\"sy0\">=</span> <span class=\"nu0\">1</span><span class=\"sy0\">,</span> <span class=\"nu0\">12</span> <span class=\"kw1\">do</span><br/>        day <span class=\"sy0\">=</span> monthLength<span class=\"br0\">[</span>month<span class=\"br0\">]</span><br/>        <span class=\"kw1\">while</span> dayOfWeek<span class=\"br0\">(</span>year<span class=\"sy0\">,</span> month<span class=\"sy0\">,</span> day<span class=\"br0\">)</span> <span class=\"sy0\">~=</span> wday <span class=\"kw1\">do</span> day <span class=\"sy0\">=</span> day <span class=\"sy0\">-</span> <span class=\"nu0\">1</span> <span class=\"kw1\">end</span><br/>        <span class=\"kw3\">print</span><span class=\"br0\">(</span>year <span class=\"sy0\">..</span> <span class=\"st0\">\"-\"</span> <span class=\"sy0\">..</span> month <span class=\"sy0\">..</span> <span class=\"st0\">\"-\"</span> <span class=\"sy0\">..</span> day<span class=\"br0\">)</span><br/>    <span class=\"kw1\">end</span><br/><span class=\"kw1\">end</span><br/>\u00a0<br/>lastWeekdays<span class=\"br0\">(</span><span class=\"st0\">\"Sunday\"</span><span class=\"sy0\">,</span> <span class=\"kw3\">tonumber</span><span class=\"br0\">(</span>arg<span class=\"br0\">[</span><span class=\"nu0\">1</span><span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"br0\">)</span></pre>"}, {"lang": "Maple", "loc": 18, "block": "<pre class=\"text highlighted_source\">sundays\u00a0:= proc(year)<br/>\tlocal i, dt, change, last_days;<br/>\tlast_days\u00a0:= [31,28,31,30,31,30,31,31,30,31,30,31];<br/>\tif (Calendar:-IsLeapYear(year)) then<br/>\t\tlast_days[2]\u00a0:= 28;<br/>\tend if;<br/>\tfor i to 12 do<br/>\t\tdt\u00a0:= Date(year, i, last_days[i]);<br/>\t\tchange\u00a0:= 0;<br/>\t\tif not(Calendar:-DayOfWeek(dt) = 1) then <br/>\t\t\tchange\u00a0:= -Calendar:-DayOfWeek(dt) + 1;<br/>\t\tend if;<br/>\t\tdt\u00a0:= Calendar:-AdjustDateField(dt, \"date\", change);<br/>\t\tprintf(\"%d-%d-%d\\n\", year, Month(dt), DayOfMonth(dt));<br/>\tend do;<br/>end proc;<br/>\u00a0<br/>sundays(2013);</pre>"}, {"lang": "Mathematica / Wolfram Language", "loc": 6, "block": "<pre class=\"text highlighted_source\">LastSundays[year_]\u00a0:= <br/> Table[<a class=\"__cf_email__\" data-cfemail=\"c38fa2b0b783\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a><br/>   DayRange[{year, i}, <br/>    DatePlus[{year, i}, {{1, \"Month\"}, {-1, \"Day\"}}], Sunday], {i, <br/>   12}]<br/>LastSundays[2013]</pre>"}, {"lang": "Nim", "loc": 12, "block": "<pre class=\"text highlighted_source\">import times, os, strutils<br/>\u00a0<br/>var timeinfo = getLocalTime getTime()<br/>timeinfo.year = paramStr(1).parseInt<br/>for month in mJan .. mDec:<br/>  timeinfo.month = month<br/>  for day in countdown(31, 1):<br/>    timeinfo.monthday = day<br/>    let t = getLocalTime(timeInfoToTime timeinfo)<br/>    if t.month == month and t.weekday == dSun:<br/>      echo t.format \"yyyy-MM-dd\"<br/>      break</pre>"}, {"lang": "OCaml", "loc": 43, "block": "<pre class=\"ocaml highlighted_source\">\u00a0<br/><span class=\"kw1\">let</span> is_leap_year y <span class=\"sy0\">=</span><br/>  <span class=\"co1\">(* See OCaml solution on Rosetta Code for <br/>     determing if it's a leap year *)</span> <br/>  <span class=\"kw1\">if</span> <span class=\"br0\">(</span>y <span class=\"kw1\">mod</span> <span class=\"nu0\">100</span><span class=\"br0\">)</span> <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><br/>    <span class=\"kw1\">then</span> <span class=\"br0\">(</span>y <span class=\"kw1\">mod</span> <span class=\"nu0\">400</span><span class=\"br0\">)</span> <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><br/>    <span class=\"kw1\">else</span> <span class=\"br0\">(</span>y <span class=\"kw1\">mod</span> <span class=\"nu0\">4</span><span class=\"br0\">)</span> <span class=\"sy0\">=</span> <span class=\"nu0\">0</span><span class=\"sy0\">;;</span><br/>\u00a0<br/><span class=\"kw1\">let</span> get_days y <span class=\"sy0\">=</span><br/>  <span class=\"kw1\">if</span> is_leap_year y<br/>    <span class=\"kw1\">then</span><br/>      <span class=\"br0\">[</span><span class=\"nu0\">31</span><span class=\"sy0\">;</span><span class=\"nu0\">29</span><span class=\"sy0\">;</span><span class=\"nu0\">31</span><span class=\"sy0\">;</span><span class=\"nu0\">30</span><span class=\"sy0\">;</span><span class=\"nu0\">31</span><span class=\"sy0\">;</span><span class=\"nu0\">30</span><span class=\"sy0\">;</span><span class=\"nu0\">31</span><span class=\"sy0\">;</span><span class=\"nu0\">31</span><span class=\"sy0\">;</span><span class=\"nu0\">30</span><span class=\"sy0\">;</span><span class=\"nu0\">31</span><span class=\"sy0\">;</span><span class=\"nu0\">30</span><span class=\"sy0\">;</span><span class=\"nu0\">31</span><span class=\"br0\">]</span><br/>    <span class=\"kw1\">else</span><br/>      <span class=\"br0\">[</span><span class=\"nu0\">31</span><span class=\"sy0\">;</span><span class=\"nu0\">28</span><span class=\"sy0\">;</span><span class=\"nu0\">31</span><span class=\"sy0\">;</span><span class=\"nu0\">30</span><span class=\"sy0\">;</span><span class=\"nu0\">31</span><span class=\"sy0\">;</span><span class=\"nu0\">30</span><span class=\"sy0\">;</span><span class=\"nu0\">31</span><span class=\"sy0\">;</span><span class=\"nu0\">31</span><span class=\"sy0\">;</span><span class=\"nu0\">30</span><span class=\"sy0\">;</span><span class=\"nu0\">31</span><span class=\"sy0\">;</span><span class=\"nu0\">30</span><span class=\"sy0\">;</span><span class=\"nu0\">31</span><span class=\"br0\">]</span><span class=\"sy0\">;;</span><br/>\u00a0<br/><span class=\"kw1\">let</span> print_date <span class=\"sy0\">=</span> <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Printf.html\"><span class=\"kw2\">Printf</span></a><span class=\"sy0\">.</span>printf <span class=\"st0\">\"%d/%d/%d\\n\"</span><span class=\"sy0\">;;</span><br/>\u00a0<br/><span class=\"kw1\">let</span> get_day_of_week y m d <span class=\"sy0\">=</span><br/>  <span class=\"kw1\">let</span> y <span class=\"sy0\">=</span> <span class=\"kw1\">if</span> m <span class=\"sy0\">&gt;</span> <span class=\"nu0\">2</span> <span class=\"kw1\">then</span> y <span class=\"kw1\">else</span> y <span class=\"sy0\">-</span> <span class=\"nu0\">1</span> <span class=\"kw1\">in</span><br/>  <span class=\"kw1\">let</span> c <span class=\"sy0\">=</span> y <span class=\"sy0\">/</span> <span class=\"nu0\">100</span> <span class=\"kw1\">in</span><br/>  <span class=\"kw1\">let</span> y <span class=\"sy0\">=</span> y <span class=\"kw1\">mod</span> <span class=\"nu0\">100</span> <span class=\"kw1\">in</span><br/>  <span class=\"kw1\">let</span> m_shifted <span class=\"sy0\">=</span> <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALfloat_of_int\"><span class=\"kw3\">float_of_int</span></a> <span class=\"br0\">(</span> <span class=\"br0\">(</span><span class=\"br0\">(</span>m <span class=\"sy0\">+</span> <span class=\"nu0\">9</span><span class=\"br0\">)</span> <span class=\"kw1\">mod</span> <span class=\"nu0\">12</span><span class=\"br0\">)</span> <span class=\"sy0\">+</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span> <span class=\"kw1\">in</span><br/>  <span class=\"kw1\">let</span> m_factor <span class=\"sy0\">=</span> <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALint_of_float\"><span class=\"kw3\">int_of_float</span></a> <span class=\"br0\">(</span><span class=\"nu0\">2.6</span> <span class=\"sy0\">*.</span> m_shifted <span class=\"sy0\">-.</span> <span class=\"nu0\">0.2</span><span class=\"br0\">)</span> <span class=\"kw1\">in</span><br/>  <span class=\"kw1\">let</span> leap_factor <span class=\"sy0\">=</span> <span class=\"nu0\">5</span> <span class=\"sy0\">*</span> <span class=\"br0\">(</span>y <span class=\"kw1\">mod</span> <span class=\"nu0\">4</span><span class=\"br0\">)</span> <span class=\"sy0\">+</span> <span class=\"nu0\">3</span> <span class=\"sy0\">*</span> <span class=\"br0\">(</span>y <span class=\"kw1\">mod</span> <span class=\"nu0\">7</span><span class=\"br0\">)</span> <span class=\"sy0\">+</span> <span class=\"nu0\">5</span> <span class=\"sy0\">*</span> <span class=\"br0\">(</span>c <span class=\"kw1\">mod</span> <span class=\"nu0\">4</span><span class=\"br0\">)</span> <span class=\"kw1\">in</span><br/>  <span class=\"br0\">(</span>d <span class=\"sy0\">+</span> m_factor <span class=\"sy0\">+</span> leap_factor<span class=\"br0\">)</span> <span class=\"kw1\">mod</span> <span class=\"nu0\">7</span><span class=\"sy0\">;;</span> <br/>\u00a0<br/><span class=\"kw1\">let</span> get_shift y m last_day <span class=\"sy0\">=</span><br/>  get_day_of_week y m last_day<span class=\"sy0\">;;</span><br/>\u00a0<br/><span class=\"kw1\">let</span> print_last_sunday y m <span class=\"sy0\">=</span><br/>  <span class=\"kw1\">let</span> days <span class=\"sy0\">=</span> get_days y <span class=\"kw1\">in</span><br/>  <span class=\"kw1\">let</span> last_day <span class=\"sy0\">=</span> <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/List.html\"><span class=\"kw2\">List</span></a><span class=\"sy0\">.</span>nth days <span class=\"br0\">(</span>m <span class=\"sy0\">-</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span> <span class=\"kw1\">in</span><br/>  <span class=\"kw1\">let</span> last_sunday <span class=\"sy0\">=</span> last_day <span class=\"sy0\">-</span> <span class=\"br0\">(</span>get_shift y m last_day<span class=\"br0\">)</span> <span class=\"kw1\">in</span><br/>  print_date y m last_sunday<span class=\"sy0\">;;</span><br/>\u00a0<br/><span class=\"kw1\">let</span> print_last_sundays y <span class=\"sy0\">=</span><br/>  <span class=\"kw1\">let</span> months <span class=\"sy0\">=</span> <span class=\"br0\">[</span><span class=\"nu0\">1</span><span class=\"sy0\">;</span><span class=\"nu0\">2</span><span class=\"sy0\">;</span><span class=\"nu0\">3</span><span class=\"sy0\">;</span><span class=\"nu0\">4</span><span class=\"sy0\">;</span><span class=\"nu0\">5</span><span class=\"sy0\">;</span><span class=\"nu0\">6</span><span class=\"sy0\">;</span><span class=\"nu0\">7</span><span class=\"sy0\">;</span><span class=\"nu0\">8</span><span class=\"sy0\">;</span><span class=\"nu0\">9</span><span class=\"sy0\">;</span><span class=\"nu0\">10</span><span class=\"sy0\">;</span><span class=\"nu0\">11</span><span class=\"sy0\">;</span><span class=\"nu0\">12</span><span class=\"br0\">]</span> <span class=\"kw1\">in</span><br/>  <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/List.html\"><span class=\"kw2\">List</span></a><span class=\"sy0\">.</span>iter <span class=\"br0\">(</span>print_last_sunday y<span class=\"br0\">)</span> months<span class=\"sy0\">;;</span><br/>\u00a0<br/><span class=\"kw1\">match</span> <span class=\"br0\">(</span><a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Array.html\"><span class=\"kw2\">Array</span></a><span class=\"sy0\">.</span>length <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Sys.html\"><span class=\"kw2\">Sys</span></a><span class=\"sy0\">.</span>argv <span class=\"br0\">)</span> <span class=\"kw1\">with</span> <br/>  <span class=\"nu0\">2</span> <span class=\"sy0\">-&gt;</span> print_last_sundays<span class=\"br0\">(</span> <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALint_of_string\"><span class=\"kw3\">int_of_string</span></a> <span class=\"br0\">(</span><a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Sys.html\"><span class=\"kw2\">Sys</span></a><span class=\"sy0\">.</span>argv<span class=\"sy0\">.</span><span class=\"br0\">(</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/> <span class=\"sy0\">|</span>_ <span class=\"sy0\">-&gt;</span> <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALinvalid_arg\"><span class=\"kw3\">invalid_arg</span></a> <span class=\"st0\">\"Please enter a year\"</span><span class=\"sy0\">;</span><br/>\u00a0</pre>"}, {"lang": "Oforth", "loc": 8, "block": "<pre class=\"text highlighted_source\">import: date<br/>\u00a0<br/>: lastSunday(y)<br/>| m |<br/>   Date.JANUARY Date.DECEMBER for: m [<br/>      Date newDate(y, m, Date.DaysInMonth(y, m))<br/>      while(dup dayOfWeek Date.SUNDAY &lt;&gt;) [ addDays(-1) ] println<br/>      ]\u00a0;</pre>"}, {"lang": "PARI/GP", "loc": 25, "block": "<pre class=\"parigp highlighted_source\"><span class=\"co1\">\\\\ Normalized Julian Day Number from date</span><br/>njd<span class=\"br0\">(</span>D<span class=\"br0\">)</span> <span class=\"sy0\">=</span><br/><span class=\"br0\">{</span><br/>  my <span class=\"br0\">(</span>m <span class=\"sy0\">=</span> D<span class=\"br0\">[</span><span class=\"nu1\">2</span><span class=\"br0\">]</span><span class=\"sy0\">,</span> y <span class=\"sy0\">=</span> D<span class=\"br0\">[</span><span class=\"nu1\">1</span><span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>  <span class=\"kw1\">if</span> <span class=\"br0\">(</span>D<span class=\"br0\">[</span><span class=\"nu1\">2</span><span class=\"br0\">]</span> <span class=\"sy0\">&gt;</span> <span class=\"nu1\">2</span><span class=\"sy0\">,</span> m<span class=\"sy0\">++,</span> y<span class=\"sy0\">--;</span> m <span class=\"sy0\">+=</span> <span class=\"nu1\">13</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>  <span class=\"br0\">(</span><span class=\"nu1\">1461</span> <span class=\"sy0\">*</span> y<span class=\"br0\">)</span> <span class=\"sy0\">\\</span> <span class=\"nu1\">4</span> <span class=\"sy0\">+</span> <span class=\"br0\">(</span><span class=\"nu1\">306001</span> <span class=\"sy0\">*</span> m<span class=\"br0\">)</span> <span class=\"sy0\">\\</span> <span class=\"nu1\">10000</span> <span class=\"sy0\">+</span> D<span class=\"br0\">[</span><span class=\"nu1\">3</span><span class=\"br0\">]</span> <span class=\"sy0\">-</span> <span class=\"nu1\">694024</span> <span class=\"sy0\">+</span> <span class=\"nu1\">2</span> <span class=\"sy0\">-</span> y <span class=\"sy0\">\\</span> <span class=\"nu1\">100</span> <span class=\"sy0\">+</span> y <span class=\"sy0\">\\</span> <span class=\"nu1\">400</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"co1\">\\\\ Date from Normalized Julian Day Number</span><br/>njdate<span class=\"br0\">(</span>J<span class=\"br0\">)</span> <span class=\"sy0\">=</span><br/><span class=\"br0\">{</span><br/>  my <span class=\"br0\">(</span>a <span class=\"sy0\">=</span> J <span class=\"sy0\">+</span> <span class=\"nu1\">2415019</span><span class=\"sy0\">,</span> b <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"nu1\">4</span> <span class=\"sy0\">*</span> a <span class=\"sy0\">-</span> <span class=\"nu1\">7468865</span><span class=\"br0\">)</span> <span class=\"sy0\">\\</span> <span class=\"nu1\">146097</span><span class=\"sy0\">,</span> c<span class=\"sy0\">,</span> d<span class=\"sy0\">,</span> m<span class=\"sy0\">,</span> y<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>  a <span class=\"sy0\">+=</span> <span class=\"nu1\">1</span> <span class=\"sy0\">+</span> b <span class=\"sy0\">-</span> b <span class=\"sy0\">\\</span> <span class=\"nu1\">4</span> <span class=\"sy0\">+</span> <span class=\"nu1\">1524</span><span class=\"sy0\">;</span><br/>  b <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"nu1\">20</span> <span class=\"sy0\">*</span> a <span class=\"sy0\">-</span> <span class=\"nu1\">2442</span><span class=\"br0\">)</span> <span class=\"sy0\">\\</span> <span class=\"nu1\">7305</span><span class=\"sy0\">;</span><br/>  c <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"nu1\">1461</span> <span class=\"sy0\">*</span> b<span class=\"br0\">)</span> <span class=\"sy0\">\\</span> <span class=\"nu1\">4</span><span class=\"sy0\">;</span><br/>  d <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"br0\">(</span>a <span class=\"sy0\">-</span> c<span class=\"br0\">)</span> <span class=\"sy0\">*</span> <span class=\"nu1\">10000</span><span class=\"br0\">)</span> <span class=\"sy0\">\\</span> <span class=\"nu1\">306001</span><span class=\"sy0\">;</span><br/>  m <span class=\"sy0\">=</span> d <span class=\"sy0\">-</span> <span class=\"nu1\">1</span> <span class=\"sy0\">-</span> <span class=\"nu1\">12</span> <span class=\"sy0\">*</span> <span class=\"br0\">(</span>d <span class=\"sy0\">&gt;</span> <span class=\"nu1\">13</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>  y <span class=\"sy0\">=</span> b <span class=\"sy0\">-</span> <span class=\"nu1\">4715</span> <span class=\"sy0\">-</span> <span class=\"br0\">(</span>m <span class=\"sy0\">&gt;</span> <span class=\"nu1\">2</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>  d <span class=\"sy0\">=</span> a <span class=\"sy0\">-</span> c <span class=\"sy0\">-</span> <span class=\"br0\">(</span><span class=\"nu1\">306001</span> <span class=\"sy0\">*</span> d<span class=\"br0\">)</span> <span class=\"sy0\">\\</span> <span class=\"nu1\">10000</span><span class=\"sy0\">;</span><br/>\u00a0<br/>  <span class=\"br0\">[</span>y<span class=\"sy0\">,</span> m<span class=\"sy0\">,</span> d<span class=\"br0\">]</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw1\">for</span> <span class=\"br0\">(</span>m<span class=\"sy0\">=</span><span class=\"nu1\">1</span><span class=\"sy0\">,</span> <span class=\"nu1\">12</span><span class=\"sy0\">,</span> a<span class=\"sy0\">=</span>njd<span class=\"br0\">(</span><span class=\"br0\">[</span><span class=\"nu1\">2013</span><span class=\"sy0\">,</span>m<span class=\"sy0\">+</span><span class=\"nu1\">1</span><span class=\"sy0\">,</span><span class=\"nu1\">0</span><span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy0\">;</span> <span class=\"kw1\">print</span><span class=\"br0\">(</span>njdate<span class=\"br0\">(</span>a<span class=\"sy0\">-</span><span class=\"br0\">(</span>a<span class=\"sy0\">+</span><span class=\"nu1\">6</span><span class=\"br0\">)</span><span class=\"sy0\">%</span><span class=\"nu2\">7</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span></pre>"}, {"lang": "Perl", "loc": 14, "block": "<pre class=\"perl highlighted_source\"><span class=\"co1\">#!/usr/bin/perl</span><br/><span class=\"kw2\">use</span> strict <span class=\"sy0\">;</span><br/><span class=\"kw2\">use</span> warnings <span class=\"sy0\">;</span><br/><span class=\"kw2\">use</span> DateTime <span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"kw1\">for</span> <span class=\"kw1\">my</span> <span class=\"re0\">$i</span><span class=\"br0\">(</span> <span class=\"nu0\">1</span><span class=\"sy0\">..</span><span class=\"nu0\">12</span> <span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>   <span class=\"kw1\">my</span> <span class=\"re0\">$date</span> <span class=\"sy0\">=</span> DateTime<span class=\"sy0\">-&gt;</span><span class=\"me1\">last_day_of_month</span><span class=\"br0\">(</span> year <span class=\"sy0\">=&gt;</span> <span class=\"re0\">$ARGV</span><span class=\"br0\">[</span> <span class=\"nu0\">0</span> <span class=\"br0\">]</span> <span class=\"sy0\">,</span> <br/>\t month <span class=\"sy0\">=&gt;</span> <span class=\"re0\">$i</span> <span class=\"br0\">)</span> <span class=\"sy0\">;</span><br/>   <span class=\"kw1\">while</span> <span class=\"br0\">(</span> <span class=\"re0\">$date</span><span class=\"sy0\">-&gt;</span><span class=\"me1\">dow</span> <span class=\"sy0\">!=</span> <span class=\"nu0\">7</span> <span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>      <span class=\"re0\">$date</span> <span class=\"sy0\">=</span> <span class=\"re0\">$date</span><span class=\"sy0\">-&gt;</span><span class=\"me1\">subtract</span><span class=\"br0\">(</span> days <span class=\"sy0\">=&gt;</span> <span class=\"nu0\">1</span> <span class=\"br0\">)</span> <span class=\"sy0\">;</span><br/>   <span class=\"br0\">}</span><br/>   <span class=\"kw1\">my</span> <span class=\"re0\">$ymd</span> <span class=\"sy0\">=</span> <span class=\"re0\">$date</span><span class=\"sy0\">-&gt;</span><span class=\"me1\">ymd</span> <span class=\"sy0\">;</span><br/>   <a href=\"http://perldoc.perl.org/functions/print.html\"><span class=\"kw3\">print</span></a> <span class=\"st0\">\"$ymd<span class=\"es0\">\\n</span>\"</span> <span class=\"sy0\">;</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "Perl 6", "loc": 6, "block": "<pre class=\"perl6 highlighted_source\"><span class=\"kw2\">sub</span> MAIN <span class=\"br0\">(</span><span class=\"re0\">$year</span> <span class=\"sy0\">=</span> Date<span class=\"sy0\">.</span><span class=\"me1\">today</span><span class=\"sy0\">.</span><span class=\"me1\">year</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>    <span class=\"kw1\">for</span> <span class=\"nu0\">1</span><span class=\"sy0\">..</span><span class=\"nu0\">12</span> <span class=\"sy0\">-&gt;</span> <span class=\"re0\">$month</span> <span class=\"br0\">{</span><br/>        <span class=\"kw1\">my</span> <span class=\"re0\">$month</span><span class=\"sy0\">-</span><span class=\"kw3\">end</span> <span class=\"sy0\">=</span> Date<span class=\"sy0\">.</span><span class=\"kw2\">new</span><span class=\"br0\">(</span><span class=\"re0\">$year</span><span class=\"sy0\">,</span> <span class=\"re0\">$month</span><span class=\"sy0\">,</span> Date<span class=\"sy0\">.</span><span class=\"kw2\">new</span><span class=\"br0\">(</span><span class=\"re0\">$year</span><span class=\"sy0\">,</span><span class=\"re0\">$month</span><span class=\"sy0\">,</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy0\">.</span><span class=\"me1\">days</span><span class=\"sy0\">-</span>in<span class=\"sy0\">-</span>month<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <span class=\"kw3\">say</span> <span class=\"re0\">$month</span><span class=\"sy0\">-</span><span class=\"kw3\">end</span> <span class=\"sy0\">-</span> <span class=\"re0\">$month</span><span class=\"sy0\">-</span><span class=\"kw3\">end</span><span class=\"sy0\">.</span><span class=\"me1\">day</span><span class=\"sy0\">-</span>of<span class=\"sy0\">-</span>week <span class=\"sy0\">%</span> <span class=\"nu0\">7</span><span class=\"sy0\">;</span><br/>    <span class=\"br0\">}</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "Phix", "loc": 24, "block": "<pre class=\"text highlighted_source\">include timedate.e<br/>\u00a0<br/>constant SUNDAY=1<br/>\u00a0<br/>procedure showlast(integer dow, integer doy, timedate td)<br/>    td = adjust_timedate(td,timedelta(days:=doy-1))<br/>    integer {year,month,day} = td<br/>    while day_of_week(year,month,day)!=dow do day-=1 end while<br/>    printf(1,\"%4d-%02d-%02d\\n\",{year,month,day})<br/>end procedure<br/>\u00a0<br/>procedure last_day_of_month(integer year, integer dow)<br/>integer doy<br/>timedate first = {year,1,1,0,0,0,0,0}<br/>    -- start by finding the 1st of the next month, less 1<br/>    for i=1 to 11 do<br/>        doy = day_of_year(year,i+1,1)-1<br/>        showlast(dow,doy,first)<br/>    end for<br/>    -- do December separately, as 1st would be next year<br/>    doy = day_of_year(year,12,31)<br/>    showlast(dow,doy,first)<br/>end procedure<br/>last_day_of_month(2013,SUNDAY)</pre>"}, {"lang": "PHP", "loc": 16, "block": "<pre class=\"php highlighted_source\"><span class=\"kw2\">&lt;?php</span><br/><span class=\"co1\">// Created with PHP 7.0</span><br/>\u00a0<br/><span class=\"kw2\">function</span> printLastSundayOfAllMonth<span class=\"br0\">(</span><span class=\"re0\">$year</span><span class=\"br0\">)</span><br/><span class=\"br0\">{</span><br/>    <span class=\"re0\">$months</span> <span class=\"sy0\">=</span> <a href=\"http://www.php.net/array\"><span class=\"kw3\">array</span></a><span class=\"br0\">(</span><br/>        <span class=\"st_h\">'January'</span><span class=\"sy0\">,</span> <span class=\"st_h\">'February'</span><span class=\"sy0\">,</span> <span class=\"st_h\">'March'</span><span class=\"sy0\">,</span> <span class=\"st_h\">'April'</span><span class=\"sy0\">,</span> <span class=\"st_h\">'June'</span><span class=\"sy0\">,</span> <span class=\"st_h\">'July'</span><span class=\"sy0\">,</span><br/>        <span class=\"st_h\">'August'</span><span class=\"sy0\">,</span> <span class=\"st_h\">'September'</span><span class=\"sy0\">,</span> <span class=\"st_h\">'October'</span><span class=\"sy0\">,</span> <span class=\"st_h\">'November'</span><span class=\"sy0\">,</span> <span class=\"st_h\">'December'</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>    <span class=\"kw1\">foreach</span> <span class=\"br0\">(</span><span class=\"re0\">$months</span> <span class=\"kw1\">as</span> <span class=\"re0\">$month</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>        <span class=\"kw1\">echo</span> <span class=\"re0\">$month</span> <span class=\"sy0\">.</span> <span class=\"st_h\">': '</span> <span class=\"sy0\">.</span> <a href=\"http://www.php.net/date\"><span class=\"kw3\">date</span></a><span class=\"br0\">(</span><span class=\"st_h\">'Y-m-d'</span><span class=\"sy0\">,</span> <a href=\"http://www.php.net/strtotime\"><span class=\"kw3\">strtotime</span></a><span class=\"br0\">(</span><span class=\"st_h\">'last sunday of '</span> <span class=\"sy0\">.</span> <span class=\"re0\">$month</span> <span class=\"sy0\">.</span> <span class=\"st_h\">' '</span> <span class=\"sy0\">.</span> <span class=\"re0\">$year</span><span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"sy0\">.</span> <span class=\"st0\">\"<span class=\"es1\">\\n</span>\"</span><span class=\"sy0\">;</span><br/>    <span class=\"br0\">}</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/>printLastSundayOfAllMonth<span class=\"br0\">(</span><span class=\"re0\">$argv</span><span class=\"br0\">[</span><span class=\"nu0\">1</span><span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0</pre>"}, {"lang": "PicoLisp", "loc": 7, "block": "<pre class=\"text highlighted_source\">(de lastSundays (Y)<br/>   (for M 12<br/>      (prinl<br/>         (dat$<br/>            (find '((D) (= \"Sunday\" (day D)))<br/>               (mapcar '((D) (date Y M D)) `(range 31 22)) )<br/>            \"-\" ) ) ) )</pre>"}, {"lang": "PowerShell", "loc": 15, "block": "<pre class=\"powershell highlighted_source\">\u00a0<br/><span class=\"kw3\">function</span> last<span class=\"sy0\">-</span>dayofweek <span class=\"br0\">{</span><br/>    <span class=\"kw3\">param</span><span class=\"br0\">(</span><br/>     <span class=\"br0\">[</span><span class=\"re3\">Int</span><span class=\"br0\">]</span><span class=\"br0\">[</span>ValidatePattern<span class=\"br0\">(</span><span class=\"st0\">\"[1-9][0-9][0-9][0-9]\"</span><span class=\"br0\">)</span><span class=\"br0\">]</span><span class=\"re0\">$year</span><span class=\"sy0\">,</span><br/>     <span class=\"br0\">[</span><span class=\"re3\">String</span><span class=\"br0\">]</span><span class=\"br0\">[</span>validateset<span class=\"br0\">(</span><span class=\"st0\">'Sunday'</span><span class=\"sy0\">,</span><span class=\"st0\">'Monday'</span><span class=\"sy0\">,</span><span class=\"st0\">'Tuesday'</span><span class=\"sy0\">,</span><span class=\"st0\">'Wednesday'</span><span class=\"sy0\">,</span><span class=\"st0\">'Thursday'</span><span class=\"sy0\">,</span><span class=\"st0\">'Friday'</span><span class=\"sy0\">,</span><span class=\"st0\">'Saturday'</span><span class=\"br0\">)</span><span class=\"br0\">]</span><span class=\"re0\">$dayofweek</span><br/>    <span class=\"br0\">)</span><br/>    <span class=\"re0\">$date</span> <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"kw1\">Get-Date</span> <span class=\"kw5\">-Year</span> <span class=\"re0\">$year</span> <span class=\"kw5\">-Month</span> <span class=\"nu0\">1</span> <span class=\"kw5\">-Day</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span><br/>    <span class=\"kw3\">while</span><span class=\"br0\">(</span><span class=\"re0\">$date</span>.DayOfWeek <span class=\"kw4\">-ne</span> <span class=\"re0\">$dayofweek</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><span class=\"re0\">$date</span> <span class=\"sy0\">=</span> <span class=\"re0\">$date</span>.AddDays<span class=\"br0\">(</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"br0\">}</span><br/>    <span class=\"kw3\">while</span><span class=\"br0\">(</span><span class=\"re0\">$date</span>.year <span class=\"kw4\">-eq</span> <span class=\"re0\">$year</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>        <span class=\"kw3\">if</span><span class=\"br0\">(</span><span class=\"re0\">$date</span>.Month <span class=\"kw4\">-ne</span> <span class=\"re0\">$date</span>.AddDays<span class=\"br0\">(</span><span class=\"nu0\">7</span><span class=\"br0\">)</span>.Month<span class=\"br0\">)</span> <span class=\"br0\">{</span><span class=\"re0\">$date</span>.ToString<span class=\"br0\">(</span><span class=\"st0\">\"yyyy-dd-MM\"</span><span class=\"br0\">)</span><span class=\"br0\">}</span><br/>        <span class=\"re0\">$date</span> <span class=\"sy0\">=</span> <span class=\"re0\">$date</span>.AddDays<span class=\"br0\">(</span><span class=\"nu0\">7</span><span class=\"br0\">)</span><br/>    <span class=\"br0\">}</span><br/><span class=\"br0\">}</span><br/>last<span class=\"sy0\">-</span>dayofweek <span class=\"nu0\">2013</span> <span class=\"st0\">\"Sunday\"</span><br/>\u00a0</pre>"}, {"lang": "PureBasic", "loc": 34, "block": "<pre class=\"purebasic highlighted_source\"><span class=\"kw1\">Procedure</span> LastSundayOfEachMonth<span class=\"br0\">(</span>yyyy.i,List lfem.i<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>  <span class=\"kw1\">Define</span> dv.i<span class=\"sy0\">=</span><span class=\"kw2\">ParseDate</span><span class=\"br0\">(</span><span class=\"st0\">\"%yyyy\"</span>,<span class=\"kw2\">Str</span><span class=\"br0\">(</span>yyyy<span class=\"br0\">)</span><span class=\"br0\">)</span>, mv.i<span class=\"sy0\">=</span><span class=\"nu0\">1</span><br/>  <span class=\"kw1\">NewList</span> d.i<span class=\"br0\">(</span><span class=\"br0\">)</span><br/>  <span class=\"kw1\">For</span> d<span class=\"sy0\">=</span><span class=\"nu0\">1</span> <span class=\"kw1\">To</span> <span class=\"nu0\">365</span> <br/>    dv<span class=\"sy0\">=</span><span class=\"kw2\">AddDate</span><span class=\"br0\">(</span>dv,#PB_Date_Day,<span class=\"nu0\">1</span><span class=\"br0\">)</span><br/>    <span class=\"kw1\">If</span> <span class=\"kw2\">DayOfWeek</span><span class=\"br0\">(</span>dv<span class=\"br0\">)</span><span class=\"sy0\">=</span><span class=\"nu0\">0</span><br/>      <span class=\"kw2\">AddElement</span><span class=\"br0\">(</span>d<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span>\u00a0: d<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">=</span>dv<br/>    <span class=\"kw1\">EndIf</span>    <br/>  <span class=\"kw1\">Next</span> <br/>  dv<span class=\"sy0\">=</span><span class=\"nu0\">0</span><br/>  <span class=\"kw1\">For</span> mv<span class=\"sy0\">=</span><span class=\"nu0\">1</span> <span class=\"kw1\">To</span> <span class=\"nu0\">12</span><br/>    <span class=\"kw1\">ForEach</span> d<span class=\"br0\">(</span><span class=\"br0\">)</span><br/>      <span class=\"kw1\">If</span> dv<span class=\"sy0\">&lt;</span>d<span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"kw1\">And</span> <span class=\"kw2\">Month</span><span class=\"br0\">(</span>d<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">=</span>mv<br/>        dv<span class=\"sy0\">=</span>d<span class=\"br0\">(</span><span class=\"br0\">)</span><br/>      <span class=\"kw1\">EndIf</span><br/>    <span class=\"kw1\">Next</span><br/>    <span class=\"kw2\">AddElement</span><span class=\"br0\">(</span>lfem<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span>\u00a0: lfem<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">=</span>dv<br/>  <span class=\"kw1\">Next</span><br/><span class=\"kw1\">EndProcedure</span><br/>\u00a0<br/><span class=\"kw1\">NewList</span> lf.i<span class=\"br0\">(</span><span class=\"br0\">)</span><br/><span class=\"kw1\">Define</span> y.i<br/><span class=\"kw2\">OpenConsole</span><span class=\"br0\">(</span><span class=\"st0\">\"Last Sunday of each month\"</span><span class=\"br0\">)</span><br/><span class=\"kw2\">Print</span><span class=\"br0\">(</span><span class=\"st0\">\"Input Year [ 1971 &lt; y &lt; 2038 ]: \"</span><span class=\"br0\">)</span><br/>y<span class=\"sy0\">=</span><span class=\"kw2\">Val</span><span class=\"br0\">(</span><span class=\"kw2\">Input</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/><span class=\"kw1\">If</span> y<span class=\"sy0\">&gt;</span><span class=\"nu0\">1971</span> <span class=\"kw1\">And</span> y<span class=\"sy0\">&lt;</span><span class=\"nu0\">2038</span><br/>  <span class=\"kw2\">PrintN</span><span class=\"br0\">(</span><span class=\"st0\">\"Last Sunday of each month...\"</span><span class=\"br0\">)</span><br/>  LastSundayOfEachMonth<span class=\"br0\">(</span>y,lf<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>  <span class=\"kw1\">ForEach</span> lf<span class=\"br0\">(</span><span class=\"br0\">)</span><br/>    <span class=\"kw2\">PrintN</span><span class=\"br0\">(</span><span class=\"kw2\">FormatDate</span><span class=\"br0\">(</span><span class=\"st0\">\"%dd.%mm.%yyyy\"</span>,lf<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>  <span class=\"kw1\">Next</span><br/><span class=\"kw1\">EndIf</span><br/><span class=\"kw2\">Print</span><span class=\"br0\">(</span><span class=\"st0\">\"...End\"</span><span class=\"br0\">)</span><br/><span class=\"kw2\">Input</span><span class=\"br0\">(</span><span class=\"br0\">)</span></pre>"}, {"lang": "Python", "loc": 15, "block": "<pre class=\"python highlighted_source\">\u00a0<br/><span class=\"kw1\">import</span> <span class=\"kw3\">sys</span><br/><span class=\"kw1\">import</span> <span class=\"kw3\">calendar</span><br/>\u00a0<br/>year <span class=\"sy0\">=</span> <span class=\"nu0\">2013</span><br/><span class=\"kw1\">if</span> <span class=\"kw2\">len</span><span class=\"br0\">(</span><span class=\"kw3\">sys</span>.<span class=\"me1\">argv</span><span class=\"br0\">)</span> <span class=\"sy0\">&gt;</span> <span class=\"nu0\">1</span>:<br/>    <span class=\"kw1\">try</span>:<br/>        year <span class=\"sy0\">=</span> <span class=\"kw2\">int</span><span class=\"br0\">(</span><span class=\"kw3\">sys</span>.<span class=\"me1\">argv</span><span class=\"br0\">[</span>-<span class=\"nu0\">1</span><span class=\"br0\">]</span><span class=\"br0\">)</span><br/>    <span class=\"kw1\">except</span> <span class=\"kw2\">ValueError</span>:<br/>        <span class=\"kw1\">pass</span><br/>\u00a0<br/><span class=\"kw1\">for</span> month <span class=\"kw1\">in</span> <span class=\"kw2\">range</span><span class=\"br0\">(</span><span class=\"nu0\">1</span><span class=\"sy0\">,</span> <span class=\"nu0\">13</span><span class=\"br0\">)</span>:<br/>    last_sunday <span class=\"sy0\">=</span> <span class=\"kw2\">max</span><span class=\"br0\">(</span>week<span class=\"br0\">[</span>-<span class=\"nu0\">1</span><span class=\"br0\">]</span> <span class=\"kw1\">for</span> week <span class=\"kw1\">in</span> <span class=\"kw3\">calendar</span>.<span class=\"me1\">monthcalendar</span><span class=\"br0\">(</span>year<span class=\"sy0\">,</span> month<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>    <span class=\"kw1\">print</span><span class=\"br0\">(</span><span class=\"st0\">'{}-{}-{:2}'</span>.<span class=\"me1\">format</span><span class=\"br0\">(</span>year<span class=\"sy0\">,</span> <span class=\"kw3\">calendar</span>.<span class=\"me1\">month_abbr</span><span class=\"br0\">[</span>month<span class=\"br0\">]</span><span class=\"sy0\">,</span> last_sunday<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>\u00a0</pre>"}, {"lang": "Racket", "loc": 43, "block": "<pre class=\"text highlighted_source\">\u00a0<br/>#lang racket<br/>(require srfi/19 math)<br/>\u00a0<br/>(define (days-in-month m y)<br/>  (define lengths #(0 31 #f 31 30 31 30 31 31 30 31 30 31))<br/>  (define d (vector-ref lengths m))<br/>  (or d (days-in-feb y)))<br/>\u00a0<br/>(define (leap-year? y)<br/>  (and (divides? 4 y)<br/>       (or (not (divides? 100 y))<br/>           (divides? 400 y))))<br/>\u00a0<br/>(define (days-in-feb y)<br/>  (if (leap-year? y) 29 28))<br/>\u00a0<br/>(define (last-day-in-month m y)<br/>  (make-date 0 0 0 0 (days-in-month m y) m y 0))<br/>\u00a0<br/>(define (week-day date)<br/>  (define days #(sun mon tue wed thu fri sat))<br/>  (vector-ref days (date-week-day date)))<br/>\u00a0<br/>(define (last-sundays y)<br/>  (for/list ([m (in-range 1 13)])<br/>    (prev-sunday (last-day-in-month m y))))<br/>\u00a0<br/>(define 24hours (make-time time-duration 0 (* 24 60 60)))<br/>\u00a0<br/>(define (prev-day d)<br/>  (time-utc-&gt;date<br/>   (subtract-duration <br/>    (date-&gt;time-utc d) 24hours)))<br/>\u00a0<br/>(define (prev-sunday d)<br/>  (if (eq? (week-day d) 'sun)<br/>      d<br/>      (prev-sunday (prev-day d))))<br/>\u00a0<br/>(for ([d (last-sundays 2013)])<br/>  (displayln (~a (date-&gt;string d \"~a ~d ~b ~Y\"))))<br/>\u00a0</pre>"}, {"lang": "REBOL", "loc": 17, "block": "<pre class=\"rebol highlighted_source\">#<span class=\"sy0\">!/</span>usr<span class=\"sy0\">/</span>bin<span class=\"sy0\">/</span>env rebol<br/>\u00a0<br/>last-sundays-of-year: <span class=\"kw2\">function</span> <span class=\"br0\">[</span><br/>    <span class=\"st0\">\"Return series of last sunday (date!) for each month of the year\"</span><br/>    year <span class=\"br0\">[</span><span class=\"kw1\">integer!</span><span class=\"br0\">]</span> <span class=\"st0\">\"which year?\"</span><br/>  <span class=\"br0\">]</span><span class=\"br0\">[</span><br/>    d: <span class=\"kw3\">to-date</span> <span class=\"kw2\">reduce</span> <span class=\"br0\">[</span><span class=\"nu0\">1</span> <span class=\"nu0\">1</span> year<span class=\"br0\">]</span>            <span class=\"co1\">; start with first day of year</span><br/>    collect <span class=\"br0\">[</span><br/>        <span class=\"kw2\">repeat</span> month <span class=\"nu0\">12</span> <span class=\"br0\">[</span><br/>            d<span class=\"sy0\">/</span>month: month + <span class=\"nu0\">1</span>              <span class=\"co1\">; move to start of next month</span><br/>            keep d - d<span class=\"sy0\">/</span>weekday              <span class=\"co1\">; calculate last sunday &amp; keep</span><br/>        <span class=\"br0\">]</span><br/>    <span class=\"br0\">]</span><br/><span class=\"br0\">]</span><br/>\u00a0<br/><span class=\"kw2\">foreach</span> sunday last-sundays-of-year <span class=\"kw3\">to-integer</span> system<span class=\"sy0\">/</span>script<span class=\"sy0\">/</span>args <span class=\"br0\">[</span><span class=\"kw3\">print</span> sunday<span class=\"br0\">]</span><br/>\u00a0</pre>"}, {"lang": "REXX", "loc": 79, "block": "<pre class=\"rexx highlighted_source\"><span class=\"coMULTI\">/*REXX program displays dates of last Sundays of each month for any year*/</span><br/><span class=\"kw1\">parse</span> <span class=\"kw1\">arg</span> yyyy<br/>                   <span class=\"kw1\">do</span> j=<span class=\"nu0\">1</span> <span class=\"kw2\">for</span>  <span class=\"nu0\">12</span><br/>                   _ = lastDOW<span class=\"br0\">(</span><span class=\"st0\">'Sunday'</span>, j, yyyy<span class=\"br0\">)</span><br/>                   <span class=\"kw1\">say</span> <span class=\"kw6\">right</span><span class=\"br0\">(</span>_,<span class=\"nu0\">4</span><span class=\"br0\">)</span><span class=\"st0\">'-'</span><span class=\"kw6\">right</span><span class=\"br0\">(</span>j,<span class=\"nu0\">2</span>,<span class=\"nu0\">0</span><span class=\"br0\">)</span><span class=\"st0\">\"-\"</span><span class=\"kw6\">left</span><span class=\"br0\">(</span><span class=\"kw6\">word</span><span class=\"br0\">(</span>_,<span class=\"nu0\">2</span><span class=\"br0\">)</span>,<span class=\"nu0\">2</span><span class=\"br0\">)</span><br/>                   <span class=\"kw3\">end</span>  <span class=\"coMULTI\">/*j*/</span><br/><span class=\"kw1\">exit</span>                                   <span class=\"coMULTI\">/*stick a fork in it, we're done.*/</span><br/><span class=\"coMULTI\">/*\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510<br/>  \u2502 lastDOW:  procedure to return the date of the  last day-of-week of \u2502<br/>  \u2502           any particular month  of any particular year.            \u2502<br/>  \u2502                                                                    \u2502<br/>  \u2502 The  day-of-week  must be specified (it can be in any case,        \u2502<br/>  \u2502 (lower-/mixed-/upper-case)  as an English name of the spelled day  \u2502<br/>  \u2502 of the week,   with a minimum length that causes no ambiguity.     \u2502<br/>  \u2502 I.E.:   W  for Wednesday,   Sa  for Saturday,   Su  for Sunday ... \u2502<br/>  \u2502                                                                    \u2502<br/>  \u2502 The month can be specified as an integer   1 \u2500\u2500\u25ba 12                \u2502<br/>  \u2502    1=January     2=February     3=March     ...     12=December    \u2502<br/>  \u2502 or the English  name  of the month,  with a minimum length that    \u2502<br/>  \u2502 causes no ambiguity.    I.E.:  Jun  for June,   D  for December.   \u2502<br/>  \u2502 If omitted  [or an asterisk(*)],  the current month is used.       \u2502<br/>  \u2502                                                                    \u2502<br/>  \u2502 The year is specified as an integer or just the last two digits    \u2502<br/>  \u2502 (two digit years are assumed to be in the current century,  and    \u2502<br/>  \u2502 there is no windowing for a two-digit year).                       \u2502<br/>  \u2502 If omitted  [or an asterisk(*)],  the current year is used.        \u2502<br/>  \u2502 Years &lt; 100   must be specified with  (at least 2)  leading zeroes.\u2502<br/>  \u2502                                                                    \u2502<br/>  \u2502 Method used: find the \"day number\" of the 1st of the next month,   \u2502<br/>  \u2502 then subtract one  (this gives the \"day number\" of the last day of \u2502<br/>  \u2502 the month,  bypassing the leapday mess).   The last day-of-week is \u2502<br/>  \u2502 then obtained straightforwardly,   or  via subtraction.            \u2502<br/>  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518*/</span><br/>lastdow: <span class=\"kw1\">procedure</span>; <span class=\"kw1\">arg</span> dow <span class=\"sy0\">.</span>,mm <span class=\"sy0\">.</span>,yy <span class=\"sy0\">.</span>              <span class=\"coMULTI\">/*DOW = day of week*/</span><br/><span class=\"kw1\">parse</span> <span class=\"kw1\">arg</span> a<span class=\"sy0\">.</span>1,a<span class=\"sy0\">.</span>2,a<span class=\"sy0\">.</span>3                                <span class=\"coMULTI\">/*orig args, errmsg*/</span><br/><span class=\"kw1\">if</span> mm==<span class=\"st0\">''</span> <span class=\"sy0\">|</span> mm==<span class=\"st0\">'*'</span> <span class=\"kw3\">then</span> mm=<span class=\"kw6\">left</span><span class=\"br0\">(</span><span class=\"kw6\">date</span><span class=\"br0\">(</span><span class=\"st0\">'U'</span><span class=\"br0\">)</span>,<span class=\"nu0\">2</span><span class=\"br0\">)</span>        <span class=\"coMULTI\">/*use default month*/</span><br/><span class=\"kw1\">if</span> yy==<span class=\"st0\">''</span> <span class=\"sy0\">|</span> yy==<span class=\"st0\">'*'</span> <span class=\"kw3\">then</span> yy=<span class=\"kw6\">left</span><span class=\"br0\">(</span><span class=\"kw6\">date</span><span class=\"br0\">(</span><span class=\"st0\">'S'</span><span class=\"br0\">)</span>,<span class=\"nu0\">4</span><span class=\"br0\">)</span>        <span class=\"coMULTI\">/*use default year */</span><br/><span class=\"kw1\">if</span> <span class=\"kw6\">length</span><span class=\"br0\">(</span>yy<span class=\"br0\">)</span>==<span class=\"nu0\">2</span> <span class=\"kw3\">then</span> yy=<span class=\"kw6\">left</span><span class=\"br0\">(</span><span class=\"kw6\">date</span><span class=\"br0\">(</span><span class=\"st0\">'S'</span><span class=\"br0\">)</span>,<span class=\"nu0\">2</span><span class=\"br0\">)</span>yy         <span class=\"coMULTI\">/*append century.  */</span><br/>                   <span class=\"coMULTI\">/*Note mandatory leading blank in strings below.*/</span><br/>$=<span class=\"st0\">\" Monday TUesday Wednesday THursday Friday SAturday SUnday\"</span><br/>!=<span class=\"st0\">\" JAnuary February MARch APril MAY JUNe JULy AUgust September\"</span>,<br/>  <span class=\"st0\">\" October November December\"</span><br/><span class=\"kw2\">upper</span> $\u00a0!                                            <span class=\"coMULTI\">/*uppercase strings*/</span><br/><span class=\"kw1\">if</span> dow==<span class=\"st0\">''</span>                 <span class=\"kw3\">then</span> <span class=\"kw1\">call</span> <span class=\"sy0\">.</span>er <span class=\"st0\">\"wasn't specified\"</span>,<span class=\"nu0\">1</span><br/><span class=\"kw1\">if</span> <span class=\"kw1\">arg</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">&gt;</span><span class=\"nu0\">3</span>                 <span class=\"kw3\">then</span> <span class=\"kw1\">call</span> <span class=\"sy0\">.</span>er <span class=\"st0\">'arguments specified'</span>,<span class=\"nu0\">4</span><br/>\u00a0<br/>  <span class=\"kw1\">do</span> j=<span class=\"nu0\">1</span> <span class=\"kw2\">for</span> <span class=\"nu0\">3</span>                                       <span class=\"coMULTI\">/*any plural args\u00a0?*/</span><br/>  <span class=\"kw1\">if</span> <span class=\"kw6\">words</span><span class=\"br0\">(</span><span class=\"kw1\">arg</span><span class=\"br0\">(</span>j<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">&gt;</span><span class=\"nu0\">1</span>       <span class=\"kw3\">then</span> <span class=\"kw1\">call</span> <span class=\"sy0\">.</span>er <span class=\"st0\">'is illegal:'</span>,j<br/>  <span class=\"kw3\">end</span><br/>\u00a0<br/>dw=<span class=\"kw6\">pos</span><span class=\"br0\">(</span><span class=\"st0\">' '</span>dow,$<span class=\"br0\">)</span>                                     <span class=\"coMULTI\">/*find  day-of-week*/</span><br/><span class=\"kw1\">if</span> dw==<span class=\"nu0\">0</span>                   <span class=\"kw3\">then</span> <span class=\"kw1\">call</span> <span class=\"sy0\">.</span>er <span class=\"st0\">'is invalid:'</span>,<span class=\"nu0\">1</span><br/><span class=\"kw1\">if</span> dw<span class=\"sy0\">\\</span>==<span class=\"kw6\">lastpos</span><span class=\"br0\">(</span><span class=\"st0\">' '</span>dow,$<span class=\"br0\">)</span>  <span class=\"kw3\">then</span> <span class=\"kw1\">call</span> <span class=\"sy0\">.</span>er <span class=\"st0\">'is ambigious:'</span>,<span class=\"nu0\">1</span><br/>\u00a0<br/><span class=\"kw1\">if</span> <span class=\"kw6\">datatype</span><span class=\"br0\">(</span>mm,<span class=\"st0\">'month'</span><span class=\"br0\">)</span> <span class=\"kw3\">then</span>                         <span class=\"coMULTI\">/*if MM is alpha...*/</span><br/>  <span class=\"kw1\">do</span><br/>  m=<span class=\"kw6\">pos</span><span class=\"br0\">(</span><span class=\"st0\">' '</span>mm,!<span class=\"br0\">)</span>                                     <span class=\"coMULTI\">/*maybe its good...*/</span><br/>  <span class=\"kw1\">if</span> m==<span class=\"nu0\">0</span>                  <span class=\"kw3\">then</span> <span class=\"kw1\">call</span> <span class=\"sy0\">.</span>er <span class=\"st0\">'is invalid:'</span>,<span class=\"nu0\">1</span><br/>  <span class=\"kw1\">if</span> m<span class=\"sy0\">\\</span>==<span class=\"kw6\">lastpos</span><span class=\"br0\">(</span><span class=\"st0\">' '</span>mm,!<span class=\"br0\">)</span>  <span class=\"kw3\">then</span> <span class=\"kw1\">call</span> <span class=\"sy0\">.</span>er <span class=\"st0\">'is ambigious:'</span>,<span class=\"nu0\">2</span><br/>  mm=<span class=\"kw6\">wordpos</span><span class=\"br0\">(</span><span class=\"kw6\">word</span><span class=\"br0\">(</span><span class=\"kw6\">substr</span><span class=\"br0\">(</span>!,m<span class=\"br0\">)</span>,<span class=\"nu0\">1</span><span class=\"br0\">)</span>,!<span class=\"br0\">)</span>-<span class=\"nu0\">1</span>                <span class=\"coMULTI\">/*now, use true Mon*/</span><br/>  <span class=\"kw3\">end</span><br/>\u00a0<br/><span class=\"kw1\">if</span> <span class=\"sy0\">\\</span><span class=\"kw6\">datatype</span><span class=\"br0\">(</span>mm,<span class=\"st0\">'W'</span><span class=\"br0\">)</span>       <span class=\"kw3\">then</span> <span class=\"kw1\">call</span> <span class=\"sy0\">.</span>er <span class=\"st0\">\"isn't an integer:\"</span>,<span class=\"nu0\">2</span><br/><span class=\"kw1\">if</span> <span class=\"sy0\">\\</span><span class=\"kw6\">datatype</span><span class=\"br0\">(</span>yy,<span class=\"st0\">'W'</span><span class=\"br0\">)</span>       <span class=\"kw3\">then</span> <span class=\"kw1\">call</span> <span class=\"sy0\">.</span>er <span class=\"st0\">\"isn't an integer:\"</span>,<span class=\"nu0\">3</span><br/><span class=\"kw1\">if</span> mm<span class=\"sy0\">&lt;</span><span class=\"nu0\">1</span> <span class=\"sy0\">|</span> mm<span class=\"sy0\">&gt;</span><span class=\"nu0\">12</span>            <span class=\"kw3\">then</span> <span class=\"kw1\">call</span> <span class=\"sy0\">.</span>er <span class=\"st0\">\"isn't in range 1\u2500\u2500\u25ba12:\"</span>,<span class=\"nu0\">2</span><br/><span class=\"kw1\">if</span> yy=<span class=\"nu0\">0</span>                    <span class=\"kw3\">then</span> <span class=\"kw1\">call</span> <span class=\"sy0\">.</span>er <span class=\"st0\">\"can't be 0 (zero):\"</span>,<span class=\"nu0\">3</span><br/><span class=\"kw1\">if</span> yy<span class=\"sy0\">&lt;</span><span class=\"nu0\">0</span>                    <span class=\"kw3\">then</span> <span class=\"kw1\">call</span> <span class=\"sy0\">.</span>er <span class=\"st0\">\"can't be negative:\"</span>,<span class=\"nu0\">3</span><br/><span class=\"kw1\">if</span> yy<span class=\"sy0\">&gt;</span><span class=\"nu0\">9999</span>                 <span class=\"kw3\">then</span> <span class=\"kw1\">call</span> <span class=\"sy0\">.</span>er <span class=\"st0\">\"can't be &gt; 9999:\"</span>,<span class=\"nu0\">3</span><br/>\u00a0<br/>tdow=<span class=\"kw6\">wordpos</span><span class=\"br0\">(</span><span class=\"kw6\">word</span><span class=\"br0\">(</span><span class=\"kw6\">substr</span><span class=\"br0\">(</span>$,dw<span class=\"br0\">)</span>,<span class=\"nu0\">1</span><span class=\"br0\">)</span>,$<span class=\"br0\">)</span>-<span class=\"nu0\">1</span>               <span class=\"coMULTI\">/*target DOW, 0\u2500\u2500\u25ba6*/</span><br/>                                                     <span class=\"coMULTI\">/*day# of last dom.*/</span><br/>_=<span class=\"kw6\">date</span><span class=\"br0\">(</span><span class=\"st0\">'B'</span>,<span class=\"kw6\">right</span><span class=\"br0\">(</span>yy+<span class=\"br0\">(</span>mm=<span class=\"nu0\">12</span><span class=\"br0\">)</span>,<span class=\"nu0\">4</span><span class=\"br0\">)</span><span class=\"kw6\">right</span><span class=\"br0\">(</span>mm<span class=\"sy0\">//</span><span class=\"nu0\">12</span>+<span class=\"nu0\">1</span>,<span class=\"nu0\">2</span>,<span class=\"nu0\">0</span><span class=\"br0\">)</span><span class=\"st0\">\"01\"</span>,<span class=\"st0\">'S'</span><span class=\"br0\">)</span>-<span class=\"nu0\">1</span><br/>?=_<span class=\"sy0\">//</span><span class=\"nu0\">7</span>                                               <span class=\"coMULTI\">/*calc. DOW,  0\u2500\u2500\u25ba6*/</span><br/><span class=\"kw1\">if</span>\u00a0?<span class=\"sy0\">\\</span>==tdow <span class=\"kw3\">then</span> _=_-?-<span class=\"nu0\">7</span>+tdow+<span class=\"nu0\">7</span><span class=\"sy0\">*</span><span class=\"br0\">(</span>?<span class=\"sy0\">&gt;</span>tdow<span class=\"br0\">)</span>             <span class=\"coMULTI\">/*not DOW?  Adjust.*/</span><br/><span class=\"kw1\">return</span> <span class=\"kw6\">date</span><span class=\"br0\">(</span><span class=\"st0\">'weekday'</span>,_,<span class=\"st0\">\"B\"</span><span class=\"br0\">)</span> <span class=\"kw6\">date</span><span class=\"br0\">(</span>,_,<span class=\"st0\">'B'</span><span class=\"br0\">)</span>            <span class=\"coMULTI\">/*return the answer*/</span><br/>\u00a0<br/><span class=\"sy0\">.</span>er: <span class=\"kw1\">arg</span> ,_;<span class=\"kw1\">say</span>; <span class=\"kw1\">say</span> <span class=\"st0\">'***error!*** (in LASTDOW)'</span>;<span class=\"kw1\">say</span> <span class=\"coMULTI\">/*tell error,  and */</span><br/>  <span class=\"kw1\">say</span> <span class=\"kw6\">word</span><span class=\"br0\">(</span><span class=\"st0\">'day-of-week month year excess'</span>,<span class=\"kw1\">arg</span><span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"kw1\">arg</span><span class=\"br0\">(</span><span class=\"nu0\">1</span><span class=\"br0\">)</span> a<span class=\"sy0\">.</span>_<br/>  <span class=\"kw1\">say</span>; <span class=\"kw1\">exit</span> <span class=\"nu0\">13</span>                                       <span class=\"coMULTI\">/*... then exit.   */</span></pre>"}, {"lang": "Ring", "loc": 20, "block": "<pre class=\"text highlighted_source\">\u00a0<br/>see \"What year to calculate (yyyy)\u00a0: \" <br/>give year<br/>see \"Last Sundays in \" + year + \" are on\u00a0:\" + nl<br/>month = list(12)<br/>mo = [4,0,0,3,5,1,3,6,2,4,0,2]<br/>mon = [31,28,31,30,31,30,31,31,30,31,30,31]<br/>if year &lt; 2100 leap = year - 1900 else leap = year - 1904 ok<br/>m = ((year-1900)%7) + floor(leap/4)\u00a0% 7<br/>for n = 1 to 12<br/>    month[n] = (mo[n] + m)\u00a0% 7<br/>next<br/>for n = 1 to 12<br/>    for i = (mon[n] - 6) to mon[n]<br/>        x = (month[n] + i)\u00a0% 7 <br/>        if  n &lt; 10 strn = \"0\" + string(n) else strn = string(n) ok<br/>        if x = 4 see year + \"-\" + strn + \"-\" + string(i) + nl ok<br/>    next<br/>next<br/>\u00a0</pre>"}, {"lang": "Ruby", "loc": 10, "block": "<pre class=\"ruby highlighted_source\"><span class=\"kw3\">require</span> <span class=\"st0\">'date'</span><br/>\u00a0<br/><span class=\"kw1\">def</span> last_sundays_of_year<span class=\"br0\">(</span>year = <span class=\"kw4\">Date</span>.<span class=\"me1\">today</span>.<span class=\"me1\">year</span><span class=\"br0\">)</span><br/>  <span class=\"br0\">(</span><span class=\"nu0\">1</span>..<span class=\"nu0\">12</span><span class=\"br0\">)</span>.<span class=\"me1\">map</span> <span class=\"kw1\">do</span> <span class=\"sy0\">|</span>month<span class=\"sy0\">|</span><br/>    d = <span class=\"kw4\">Date</span>.<span class=\"me1\">new</span><span class=\"br0\">(</span>year, month, <span class=\"sy0\">-</span><span class=\"nu0\">1</span><span class=\"br0\">)</span> <span class=\"co1\"># -1 means \"last\".</span><br/>    d <span class=\"sy0\">-</span> d.<span class=\"me1\">wday</span><br/>  <span class=\"kw1\">end</span><br/><span class=\"kw1\">end</span><br/>\u00a0<br/><span class=\"kw3\">puts</span> last_sundays_of_year<span class=\"br0\">(</span><span class=\"nu0\">2013</span><span class=\"br0\">)</span></pre>"}, {"lang": "Run BASIC", "loc": 18, "block": "<pre class=\"text highlighted_source\">input \"What year to calculate (yyyy)\u00a0: \";year<br/>print \"Last Sundays in \";year;\" are:\" <br/>dim month(12)<br/>mo$ = \"4 0 0 3 5 1 3 6 2 4 0 2\"<br/>mon$ = \"31 28 31 30 31 30 31 31 30 31 30 31\"<br/>\u00a0<br/>if year &lt; 2100 then leap = year - 1900 else leap = year - 1904<br/>m = ((year-1900) mod 7) + int(leap/4) mod 7<br/>for n = 1 to 12<br/>    month(n) = (val(word$(mo$,n)) + m) mod 7<br/>    month(n) = (val(word$(mo$,n)) + m) mod 7<br/>next<br/>for n = 1 to 12<br/>    for i = (val(word$(mon$,n)) - 6) to val(word$(mon$,n))<br/>        x = (month(n) + i) mod 7 <br/>        if x = 4 then print year\u00a0; \"-\";right$(\"0\"+str$(n),2);\"-\"\u00a0; i<br/>    next<br/>next</pre>"}, {"lang": "Scala", "loc": 15, "block": "<pre class=\"scala highlighted_source\"><a href=\"http://scala-lang.org\"><span class=\"kw1\">object</span></a> FindTheLastSundayOfEachMonth <a href=\"http://scala-lang.org\"><span class=\"kw1\">extends</span></a> App <span class=\"br0\">{</span><br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">import</span></a> java.<span class=\"me1\">util</span>.<span class=\"me1\">Calendar</span>.<span class=\"sy0\">_</span><br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> cal <span class=\"sy0\">=</span> getInstance<br/>\u00a0<br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">def</span></a> lastSundaysOf<span class=\"br0\">(</span>year<span class=\"sy0\">:</span> Int<span class=\"br0\">)</span> <span class=\"sy0\">=</span><br/>    <span class=\"br0\">(</span>JANUARY to DECEMBER<span class=\"br0\">)</span>.<span class=\"me1\">map</span><span class=\"br0\">{</span>month <span class=\"sy0\">=&gt;</span><br/>      cal.<span class=\"me1\">set</span><span class=\"br0\">(</span>year, month + <span class=\"nu0\">1</span>, <span class=\"nu0\">1</span><span class=\"br0\">)</span> <span class=\"co1\">// first day of next month</span><br/>      <span class=\"br0\">(</span><span class=\"nu0\">1</span> to <span class=\"nu0\">7</span><span class=\"br0\">)</span>.<span class=\"me1\">find</span><span class=\"br0\">{</span><span class=\"sy0\">_</span> <span class=\"sy0\">=&gt;</span> cal.<span class=\"me1\">add</span><span class=\"br0\">(</span>DAY<span class=\"sy0\">_</span>OF<span class=\"sy0\">_</span>MONTH, -<span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy0\">;</span> cal.<span class=\"me1\">get</span><span class=\"br0\">(</span>DAY<span class=\"sy0\">_</span>OF<span class=\"sy0\">_</span>WEEK<span class=\"br0\">)</span> <span class=\"sy0\">==</span> SUNDAY<span class=\"br0\">}</span><br/>      cal.<span class=\"me1\">getTime</span><br/>    <span class=\"br0\">}</span><br/>\u00a0<br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> year <span class=\"sy0\">=</span> args.<span class=\"me1\">headOption</span>.<span class=\"me1\">map</span><span class=\"br0\">(</span><span class=\"sy0\">_</span>.<span class=\"me1\">toInt</span><span class=\"br0\">)</span>.<span class=\"me1\">getOrElse</span><span class=\"br0\">(</span>cal.<span class=\"me1\">get</span><span class=\"br0\">(</span>YEAR<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> fmt <span class=\"sy0\">=</span> <a href=\"http://scala-lang.org\"><span class=\"kw1\">new</span></a> java.<span class=\"me1\">text</span>.<span class=\"me1\">SimpleDateFormat</span><span class=\"br0\">(</span><span class=\"st0\">\"yyyy-MM-dd\"</span><span class=\"br0\">)</span><br/>  println<span class=\"br0\">(</span>lastSundaysOf<span class=\"br0\">(</span>year<span class=\"br0\">)</span>.<span class=\"me1\">map</span><span class=\"br0\">(</span>fmt.<span class=\"me1\">format</span><span class=\"br0\">)</span> mkString <span class=\"st0\">\"<span class=\"es1\">\\n</span>\"</span><span class=\"br0\">)</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "Seed7", "loc": 30, "block": "<pre class=\"text highlighted_source\">$ include \"seed7_05.s7i\";<br/>  include \"time.s7i\";<br/>  include \"duration.s7i\";<br/>\u00a0<br/>const proc: main is func<br/>  local<br/>    var integer: weekday is 1; # 1 for monday, 2 for tuesday, and so on up to 7 for sunday.<br/>    var integer: year is 0;<br/>    var integer: month is 1;<br/>    var time: aDate is time.value;<br/>    var time: selected is time.value;<br/>  begin<br/>    if length(argv(PROGRAM)) &lt;&gt; 2 then<br/>      writeln(\"usage: lastWeekdayInMonth weekday year\");<br/>      writeln(\"  weekday: 1 for monday, 2 for tuesday, and so on up to 7 for sunday.\");<br/>    else<br/>      weekday\u00a0:= integer parse (argv(PROGRAM)[1]);<br/>      year\u00a0:= integer parse (argv(PROGRAM)[2]);<br/>      for month range 1 to 12 do<br/>        aDate\u00a0:= date(year, month, 1);<br/>        while aDate.month = month do<br/>          if dayOfWeek(aDate) = weekday then<br/>            selected\u00a0:= aDate;<br/>          end if;<br/>          aDate +:= 1 . DAYS;<br/>        end while;<br/>        writeln(strDate(selected));<br/>      end for;<br/>    end if;<br/>  end func;</pre>"}, {"lang": "Sidef", "loc": 15, "block": "<pre class=\"ruby highlighted_source\">var dt = <span class=\"kw3\">require</span><span class=\"br0\">(</span><span class=\"st0\">'DateTime'</span><span class=\"br0\">)</span>;<br/>var <span class=\"br0\">(</span>year=<span class=\"nu0\">2016</span><span class=\"br0\">)</span> = ARGV.<span class=\"me1\">map</span><span class=\"br0\">{</span>.<span class=\"me1\">to_i</span><span class=\"br0\">}</span>...<br/>\u00a0<br/><span class=\"kw1\">for</span> i <span class=\"kw1\">in</span> <span class=\"br0\">(</span><span class=\"nu0\">1</span> .. <span class=\"nu0\">12</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>    var date = dt.<span class=\"me1\">last_day_of_month</span><span class=\"br0\">(</span><br/>        year  <span class=\"sy0\">=&gt;</span> year,<br/>        month <span class=\"sy0\">=&gt;</span> i<br/>    <span class=\"br0\">)</span>;<br/>\u00a0<br/>    <span class=\"kw1\">while</span> <span class=\"br0\">(</span>date.<span class=\"me1\">dow</span>\u00a0!= <span class=\"nu0\">7</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>        date = date.<span class=\"me1\">subtract</span><span class=\"br0\">(</span>days <span class=\"sy0\">=&gt;</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span>;<br/>    <span class=\"br0\">}</span><br/>\u00a0<br/>    say date.<span class=\"me1\">ymd</span>;<br/><span class=\"br0\">}</span></pre>"}, {"lang": "Smalltalk", "loc": 11, "block": "<pre class=\"smalltalk highlighted_source\">\u00a0<br/><span class=\"re0\">Pharo</span> <span class=\"re0\">Smalltalk</span><br/>\u00a0<br/><span class=\"br0\">[</span>\u00a0:<span class=\"re5\">yr</span> | | firstDay firstSunday |<br/>  <span class=\"re6\">firstDay</span> <span class=\"sy0\">:=</span> <span class=\"re0\">Date</span> year: <span class=\"re5\">yr</span> month: <span class=\"re5\">1</span> day: <span class=\"re5\">1</span>.<br/>  <span class=\"re5\">firstSunday</span> <span class=\"sy0\">:=</span> <span class=\"re5\">firstDay</span> addDays: <span class=\"br0\">(</span><span class=\"re5\">1</span> - <span class=\"re5\">firstDay</span> dayOfWeek<span class=\"br0\">)</span>.<br/>    <span class=\"br0\">(</span><span class=\"re5\">0</span> to: <span class=\"re5\">53</span><span class=\"br0\">)</span> <br/>      collect: <span class=\"br0\">[</span>\u00a0:<span class=\"re5\">each</span> | firstSunday addDays: <span class=\"br0\">(</span><span class=\"re5\">each</span> * <span class=\"re5\">7</span><span class=\"br0\">)</span> <span class=\"br0\">]</span><br/>      thenSelect: <span class=\"br0\">[</span>\u00a0:<span class=\"re5\">each</span> | <br/>        <span class=\"br0\">(</span><span class=\"br0\">(</span><span class=\"br0\">(</span><span class=\"re0\">Date</span> daysInMonth: <span class=\"re5\">each</span> monthIndex forYear: <span class=\"re5\">yr</span><span class=\"br0\">)</span> - <span class=\"re5\">each</span> dayOfMonth<span class=\"br0\">)</span> &lt;<span class=\"sy0\">=</span> <span class=\"re5\">6</span><span class=\"br0\">)</span> and: <span class=\"br0\">[</span> <span class=\"re5\">each</span> year <span class=\"sy0\">=</span> <span class=\"re5\">yr</span> <span class=\"br0\">]</span> <span class=\"br0\">]</span> <span class=\"br0\">]</span><br/>\u00a0</pre>"}, {"lang": "Stata", "loc": 27, "block": "<pre class=\"text highlighted_source\">program last_sundays<br/>\targs year<br/>\tclear<br/>\tqui set obs 12<br/>\tgen day=dofm(mofd(mdy(_n,1,`year'))+1)-1<br/>\tqui replace day=day-mod(dow(day),7)<br/>\tformat\u00a0%td day<br/>\tlist, noobs noheader sep(6)<br/>end<br/>\u00a0<br/>last_sundays 2013<br/>\u00a0<br/>  +-----------+<br/>  | 27jan2013 |<br/>  | 24feb2013 |<br/>  | 31mar2013 |<br/>  | 28apr2013 |<br/>  | 26may2013 |<br/>  | 30jun2013 |<br/>  |-----------|<br/>  | 28jul2013 |<br/>  | 25aug2013 |<br/>  | 29sep2013 |<br/>  | 27oct2013 |<br/>  | 24nov2013 |<br/>  | 29dec2013 |<br/>  +-----------+</pre>"}, {"lang": "Swift", "loc": 31, "block": "<pre class=\"text highlighted_source\">import Foundation<br/>\u00a0<br/>func lastSundays(of year: Int) -&gt; [Date] {<br/>\u00a0<br/>\tlet calendar = Calendar.current<br/>\tvar dates = [Date]()<br/>\u00a0<br/>\tfor month in 1...12 {<br/>\u00a0<br/>\t\tvar dateComponents = DateComponents(calendar: calendar,<br/>\t\t                                    year: year,<br/>\t\t                                    month: month + 1,<br/>\t\t                                    day: 0,<br/>\t\t                                    hour: 12)<br/>\u00a0<br/>\t\tlet date = calendar.date(from: dateComponents)!<br/>\t\tlet weekday = calendar.component(.weekday, from: date)<br/>\u00a0<br/>\t\tif weekday\u00a0!= 1 {<br/>\t\t\tdateComponents.day! -= weekday - 1<br/>\t\t}<br/>\u00a0<br/>\t\tdates.append(calendar.date(from: dateComponents)!)<br/>\t}<br/>\treturn dates<br/>}<br/>\u00a0<br/>var dateFormatter = DateFormatter()<br/>dateFormatter.dateStyle = .short<br/>\u00a0<br/>print(lastSundays(of: 2013).map(dateFormatter.string).joined(separator: \"\\n\"))</pre>"}, {"lang": "Tcl", "loc": 14, "block": "<pre class=\"tcl highlighted_source\"><span class=\"kw1\">proc</span> lastSundays <span class=\"br0\">{</span><span class=\"br0\">{</span>year <span class=\"st0\">\"\"</span><span class=\"br0\">}</span><span class=\"br0\">}</span> <span class=\"br0\">{</span><br/>    <span class=\"kw1\">if</span> <span class=\"br0\">{</span><span class=\"re0\">$year</span> eq <span class=\"st0\">\"\"</span><span class=\"br0\">}</span> <span class=\"br0\">{</span><br/>\t<span class=\"kw1\">set</span> year <span class=\"br0\">[</span><span class=\"kw2\">clock</span> <span class=\"kw2\">format</span> <span class=\"br0\">[</span><span class=\"kw2\">clock</span> seconds<span class=\"br0\">]</span> -gmt <span class=\"nu0\">1</span> -<span class=\"kw2\">format</span> <span class=\"st0\">\"%Y\"</span><span class=\"br0\">]</span><br/>    <span class=\"br0\">}</span><br/>    <span class=\"kw1\">foreach</span> month <span class=\"br0\">{</span><span class=\"nu0\">2</span> <span class=\"nu0\">3</span> <span class=\"nu0\">4</span> <span class=\"nu0\">5</span> <span class=\"nu0\">6</span> <span class=\"nu0\">7</span> <span class=\"nu0\">8</span> <span class=\"nu0\">9</span> <span class=\"nu0\">10</span> <span class=\"nu0\">11</span> <span class=\"nu0\">12</span> <span class=\"nu0\">13</span><span class=\"br0\">}</span> <span class=\"br0\">{</span><br/>\t<span class=\"kw1\">set</span> d <span class=\"br0\">[</span><span class=\"kw2\">clock</span> add <span class=\"br0\">[</span><span class=\"kw2\">clock</span> <span class=\"kw2\">scan</span> <span class=\"st0\">\"$month/1/$year\"</span> -gmt <span class=\"nu0\">1</span><span class=\"br0\">]</span> -<span class=\"nu0\">1</span> day<span class=\"br0\">]</span><br/>\t<span class=\"kw1\">while</span> <span class=\"br0\">{</span><span class=\"br0\">[</span><span class=\"kw2\">clock</span> <span class=\"kw2\">format</span> <span class=\"re0\">$d</span> -gmt <span class=\"nu0\">1</span> -<span class=\"kw2\">format</span> <span class=\"st0\">\"%u\"</span><span class=\"br0\">]</span> <span class=\"sy0\">!</span>= <span class=\"nu0\">7</span><span class=\"br0\">}</span> <span class=\"br0\">{</span><br/>\t    <span class=\"kw1\">set</span> d <span class=\"br0\">[</span><span class=\"kw2\">clock</span> add <span class=\"re0\">$d</span> -<span class=\"nu0\">1</span> day<span class=\"br0\">]</span><br/>\t<span class=\"br0\">}</span><br/>\t<span class=\"kw2\">lappend</span> result <span class=\"br0\">[</span><span class=\"kw2\">clock</span> <span class=\"kw2\">format</span> <span class=\"re0\">$d</span> -gmt <span class=\"nu0\">1</span> -<span class=\"kw2\">format</span> <span class=\"st0\">\"%Y-%m-%d\"</span><span class=\"br0\">]</span><br/>    <span class=\"br0\">}</span><br/>    <span class=\"kw1\">return</span> <span class=\"re0\">$result</span><br/><span class=\"br0\">}</span><br/><span class=\"kw2\">puts</span> <span class=\"br0\">[</span><span class=\"kw2\">join</span> <span class=\"br0\">[</span>lastSundays <span class=\"br0\">{</span><span class=\"sy0\">*</span><span class=\"br0\">}</span><span class=\"kw2\"><span class=\"re0\">$argv</span></span><span class=\"br0\">]</span> <span class=\"st0\">\"<span class=\"es0\">\\n</span>\"</span><span class=\"br0\">]</span></pre>"}, {"lang": "VBScript", "loc": 8, "block": "<pre class=\"text highlighted_source\">\u00a0<br/>strYear = WScript.StdIn.ReadLine<br/>\u00a0<br/>For i = 1 To 12<br/>\td = DateSerial(strYear, i + 1, 1) - 1<br/>\tWScript.Echo d - Weekday(d) + 1<br/>Next<br/>\u00a0</pre>"}, {"lang": "zkl", "loc": 1, "block": "<pre>var [const] D=Time.Date;\nlastDay(2013,D.Sunday)\n2013-01-27\n2013-02-24\n2013-03-31\n2013-04-28\n2013-05-26\n2013-06-30\n2013-07-28\n2013-08-25\n2013-09-29\n2013-10-27\n2013-11-24\n2013-12-29</pre>"}]}