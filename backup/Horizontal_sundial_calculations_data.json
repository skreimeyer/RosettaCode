{"task": "Horizontal_sundial_calculations", "blocks": [{"lang": "Ada", "loc": 45, "block": "<pre class=\"ada highlighted_source\"><span class=\"kw3\">with</span> Ada.<span class=\"me1\">Text_IO</span>;<br/><span class=\"kw3\">with</span> Ada.<span class=\"me1\">Numerics</span>.<span class=\"me1\">Elementary_Functions</span>;<br/><span class=\"kw3\">procedure</span> Sundial <span class=\"kw1\">is</span><br/>   <span class=\"kw3\">use</span> Ada.<span class=\"me1\">Numerics</span>.<span class=\"me1\">Elementary_Functions</span>;<br/>   <span class=\"kw3\">use</span> Ada.<span class=\"me1\">Numerics</span>;<br/>   <span class=\"kw3\">package</span> Float_IO <span class=\"kw1\">is</span> <span class=\"kw3\">new</span> Ada.<span class=\"me1\">Text_IO</span>.<span class=\"me1\">Float_IO</span> <span class=\"br0\">(</span>Float<span class=\"br0\">)</span>;<br/>\u00a0<br/>   Latitude, Longitude, Meridian\u00a0: Float;<br/>   Latitude_Sine                \u00a0: Float;<br/><span class=\"kw1\">begin</span><br/>   Ada.<span class=\"me1\">Text_IO</span>.<span class=\"me1\">Put</span> <span class=\"br0\">(</span><span class=\"st0\">\"Enter latitude:       \"</span><span class=\"br0\">)</span>;<br/>   Float_IO.<span class=\"me1\">Get</span> <span class=\"br0\">(</span>Latitude<span class=\"br0\">)</span>;<br/>   Ada.<span class=\"me1\">Text_IO</span>.<span class=\"me1\">Put</span> <span class=\"br0\">(</span><span class=\"st0\">\"Enter longitude:      \"</span><span class=\"br0\">)</span>;<br/>   Float_IO.<span class=\"me1\">Get</span> <span class=\"br0\">(</span>Longitude<span class=\"br0\">)</span>;<br/>   Ada.<span class=\"me1\">Text_IO</span>.<span class=\"me1\">Put</span> <span class=\"br0\">(</span><span class=\"st0\">\"Enter legal meridian: \"</span><span class=\"br0\">)</span>;<br/>   Float_IO.<span class=\"me1\">Get</span> <span class=\"br0\">(</span>Meridian<span class=\"br0\">)</span>;<br/>   Ada.<span class=\"me1\">Text_IO</span>.<span class=\"me1\">New_Line</span>;<br/>\u00a0<br/>   Latitude_Sine\u00a0:= Sin <span class=\"br0\">(</span>Latitude * Pi / <span class=\"nu0\">180.0</span><span class=\"br0\">)</span>;<br/>   Ada.<span class=\"me1\">Text_IO</span>.<span class=\"me1\">Put_Line</span><br/>     <span class=\"br0\">(</span><span class=\"st0\">\"   sine of latitude:\"</span> &amp; Float'Image <span class=\"br0\">(</span>Latitude_Sine<span class=\"br0\">)</span><span class=\"br0\">)</span>;<br/>   Ada.<span class=\"me1\">Text_IO</span>.<span class=\"me1\">Put_Line</span><br/>     <span class=\"br0\">(</span><span class=\"st0\">\"   diff longitude:\"</span> &amp; Float'Image <span class=\"br0\">(</span>Longitude - Meridian<span class=\"br0\">)</span><span class=\"br0\">)</span>;<br/>   Ada.<span class=\"me1\">Text_IO</span>.<span class=\"me1\">New_Line</span>;<br/>\u00a0<br/>   Ada.<span class=\"me1\">Text_IO</span>.<span class=\"me1\">Put_Line</span><br/>     <span class=\"br0\">(</span><span class=\"st0\">\"hour, sun hour angle, dial hour line angle from 6am to 6pm\"</span><span class=\"br0\">)</span>;<br/>   <span class=\"kw1\">for</span> H <span class=\"kw3\">in</span> -<span class=\"nu0\">6</span> .. <span class=\"nu0\">6</span> <span class=\"kw1\">loop</span><br/>      <span class=\"kw1\">declare</span><br/>         Hour_Angle\u00a0: <span class=\"kw3\">constant</span> Float\u00a0:=<br/>            <span class=\"nu0\">15.0</span> * Float <span class=\"br0\">(</span>H<span class=\"br0\">)</span> - <span class=\"br0\">(</span>Longitude - Meridian<span class=\"br0\">)</span>;<br/>         Line_Angle\u00a0: <span class=\"kw3\">constant</span> Float\u00a0:=<br/>            Arctan <span class=\"br0\">(</span>Latitude_Sine * Tan <span class=\"br0\">(</span>Hour_Angle * Pi / <span class=\"nu0\">180.0</span><span class=\"br0\">)</span><span class=\"br0\">)</span> * <span class=\"nu0\">180.0</span> /<br/>            Pi;<br/>      <span class=\"kw1\">begin</span><br/>         Ada.<span class=\"me1\">Text_IO</span>.<span class=\"me1\">Put_Line</span><br/>           <span class=\"br0\">(</span><span class=\"st0\">\"HR=\"</span> &amp;<br/>            Integer'Image <span class=\"br0\">(</span>H<span class=\"br0\">)</span> &amp;<br/>            <span class=\"st0\">\"; HRA=\"</span> &amp;<br/>            Float'Image <span class=\"br0\">(</span>Hour_Angle<span class=\"br0\">)</span> &amp;<br/>            <span class=\"st0\">\"; HLA=\"</span> &amp;<br/>            Float'Image <span class=\"br0\">(</span>Line_Angle<span class=\"br0\">)</span><span class=\"br0\">)</span>;<br/>      <span class=\"kw1\">end</span>;<br/>   <span class=\"kw1\">end</span> <span class=\"kw1\">loop</span>;<br/><span class=\"kw1\">end</span> Sundial;</pre>"}, {"lang": "ALGOL 68", "loc": 24, "block": "<pre class=\"algol68 highlighted_source\"><span class=\"kw2\">BEGIN</span><br/>  <span class=\"kw3\">REAL</span> lat<span class=\"sy1\">,</span> slat<span class=\"sy1\">,</span> lng<span class=\"sy1\">,</span> ref<span class=\"sy1\">;</span><br/>  <span class=\"kw22\">print</span> <span class=\"br0\">(</span> <span class=\"st0\">\"Enter latitude       =&gt; \"</span> <span class=\"br0\">)</span><span class=\"sy1\">;</span> read <span class=\"br0\">(</span>lat<span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>  <span class=\"kw22\">print</span> <span class=\"br0\">(</span> <span class=\"st0\">\"Enter longitude      =&gt; \"</span> <span class=\"br0\">)</span><span class=\"sy1\">;</span> read <span class=\"br0\">(</span>lng<span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>  <span class=\"kw22\">print</span> <span class=\"br0\">(</span> <span class=\"st0\">\"Enter legal meridian =&gt; \"</span> <span class=\"br0\">)</span><span class=\"sy1\">;</span> read <span class=\"br0\">(</span>ref<span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>  <span class=\"kw22\">new line</span><span class=\"br0\">(</span>stand out<span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>\u00a0<br/>  slat <span class=\"sy1\">:=</span> <span class=\"kw24\">sin</span><span class=\"br0\">(</span>lat<span class=\"sy1\">*</span>2<span class=\"sy1\">*</span><span class=\"kw23\">pi</span><span class=\"sy1\">/</span>360<span class=\"br0\">)</span> <span class=\"sy1\">;</span><br/>  <span class=\"kw22\">print</span> <span class=\"br0\">(</span> <span class=\"br0\">(</span><span class=\"st0\">\"    sine of latitude:   \"</span><span class=\"sy1\">,</span> <span class=\"kw22\">float</span><span class=\"br0\">(</span>slat<span class=\"sy1\">,</span>8<span class=\"sy1\">,</span>2<span class=\"sy1\">,</span>1<span class=\"br0\">)</span><span class=\"sy1\">,</span> <span class=\"kw22\">new line</span> <span class=\"br0\">)</span> <span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>  <span class=\"kw22\">print</span> <span class=\"br0\">(</span> <span class=\"br0\">(</span><span class=\"st0\">\"    diff longitude:     \"</span><span class=\"sy1\">,</span> <span class=\"kw22\">fixed</span><span class=\"br0\">(</span><span class=\"br0\">(</span>lng <span class=\"sy1\">-</span> ref<span class=\"br0\">)</span><span class=\"sy1\">,</span>0<span class=\"sy1\">,</span>3<span class=\"br0\">)</span><span class=\"sy1\">,</span> <span class=\"kw22\">new line</span><span class=\"sy1\">,</span> <span class=\"kw22\">new line</span> <span class=\"br0\">)</span> <span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>\u00a0<br/>  <span class=\"kw22\">print</span> <span class=\"br0\">(</span> <span class=\"br0\">(</span><span class=\"st0\">\"Hour, sun hour angle, dial hour line angle from 6am to 6pm\"</span><span class=\"sy1\">,</span> <span class=\"kw22\">new line</span> <span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>\u00a0<br/>  <span class=\"kw2\">FOR</span> h <span class=\"kw2\">FROM</span> <span class=\"sy1\">-</span>6 <span class=\"kw2\">TO</span> 6<br/>  <span class=\"kw2\">DO</span><br/>     <span class=\"kw3\">REAL</span> hra <span class=\"sy1\">,</span> hla <span class=\"sy1\">;</span>              <span class=\"coMULTI\"># define hour angle and hour line angle #</span><br/>     hra <span class=\"sy1\">:=</span> 15 <span class=\"sy1\">*</span> h <span class=\"sy1\">;</span>               <span class=\"coMULTI\"># hour angle is 15 times the hour #</span><br/>     hra <span class=\"sy1\">:=</span> hra <span class=\"sy1\">-</span> <span class=\"br0\">(</span>lng <span class=\"sy1\">-</span> ref<span class=\"br0\">)</span><span class=\"sy1\">;</span>     <span class=\"coMULTI\"># but correct for longitude difference #</span><br/>     hla <span class=\"sy1\">:=</span> <span class=\"kw24\">arc tan</span> <span class=\"br0\">(</span> slat <span class=\"sy1\">*</span> <span class=\"kw24\">tan</span><span class=\"br0\">(</span>hra<span class=\"sy1\">*</span>2<span class=\"sy1\">*</span><span class=\"kw23\">pi</span><span class=\"sy1\">/</span>360<span class=\"br0\">)</span> <span class=\"br0\">)</span> <span class=\"sy1\">*</span> 360 <span class=\"sy1\">/</span> <span class=\"br0\">(</span> 2<span class=\"sy1\">*</span><span class=\"kw23\">pi</span><span class=\"br0\">)</span> <span class=\"sy1\">;</span><br/>     <span class=\"coMULTI\"># page 132 of a68gdoc.pdf documentationfile #</span><br/>     <span class=\"kw22\">print</span> <span class=\"br0\">(</span><span class=\"st0\">\"HR=\"</span><span class=\"sy1\">+</span><span class=\"kw22\">whole</span><span class=\"br0\">(</span>h<span class=\"sy1\">,</span>3<span class=\"br0\">)</span><span class=\"sy1\">+</span><span class=\"st0\">\"; HRA=\"</span><span class=\"sy1\">+</span><span class=\"kw22\">fixed</span><span class=\"br0\">(</span>hra<span class=\"sy1\">,</span>8<span class=\"sy1\">,</span>3<span class=\"br0\">)</span><span class=\"sy1\">+</span><span class=\"st0\">\"; HLA=\"</span><span class=\"sy1\">+</span><span class=\"kw22\">fixed</span><span class=\"br0\">(</span>hla<span class=\"sy1\">,</span>8<span class=\"sy1\">,</span>3<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>     <span class=\"kw22\">new line</span><span class=\"br0\">(</span>stand out<span class=\"br0\">)</span><br/>  <span class=\"kw2\">OD</span><br/><span class=\"kw2\">END</span></pre>"}, {"lang": "AutoHotkey", "loc": 32, "block": "<pre class=\"autohotkey highlighted_source\"><a href=\"http://www.autohotkey.com/docs/commands/DllCall.htm\"><span class=\"kw3\">DllCall</span></a><span class=\"br0\">(</span><span class=\"st0\">\"AllocConsole\"</span><span class=\"br0\">)</span>  <span class=\"co1\">; Open a console window for this application</span><br/>Pi <span class=\"sy0\">:=</span> <span class=\"nu0\">4</span><span class=\"sy0\">*</span><a href=\"http://www.autohotkey.com/docs/Functions.htm#BuiltIn\"><span class=\"kw4\">ATan</span></a><span class=\"br0\">(</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><br/><span class=\"sy0\">,</span>Degrees <span class=\"sy0\">:=</span> Pi<span class=\"sy0\">/</span><span class=\"nu0\">180</span><br/>\u00a0<br/><a href=\"http://www.autohotkey.com/docs/commands/FileAppend.htm\"><span class=\"kw3\">FileAppend</span></a><span class=\"sy0\">,</span> <span class=\"kw6\">Enter</span> <span class=\"re2\">Latitude: </span><span class=\"sy0\">,</span> CONOUT$ <span class=\"co1\">; write to  stdout</span><br/><a href=\"http://www.autohotkey.com/docs/commands/FileReadLine.htm\"><span class=\"kw3\">FileReadLine</span></a><span class=\"sy0\">,</span> latitude<span class=\"sy0\">,</span> CONIN$<span class=\"sy0\">,</span> <span class=\"nu0\">1</span>     <span class=\"co1\">; read from stdin</span><br/>\u00a0<br/><a href=\"http://www.autohotkey.com/docs/commands/FileAppend.htm\"><span class=\"kw3\">FileAppend</span></a><span class=\"sy0\">,</span> <span class=\"kw6\">Enter</span> <span class=\"re2\">Longitude: </span><span class=\"sy0\">,</span> CONOUT$<br/><a href=\"http://www.autohotkey.com/docs/commands/FileReadLine.htm\"><span class=\"kw3\">FileReadLine</span></a><span class=\"sy0\">,</span> longitude<span class=\"sy0\">,</span> CONIN$<span class=\"sy0\">,</span> <span class=\"nu0\">1</span><br/>\u00a0<br/><a href=\"http://www.autohotkey.com/docs/commands/FileAppend.htm\"><span class=\"kw3\">FileAppend</span></a><span class=\"sy0\">,</span> <span class=\"kw6\">Enter</span> Legal <span class=\"re2\">meridian: </span><span class=\"sy0\">,</span> CONOUT$<br/><a href=\"http://www.autohotkey.com/docs/commands/FileReadLine.htm\"><span class=\"kw3\">FileReadLine</span></a><span class=\"sy0\">,</span> meridian<span class=\"sy0\">,</span> CONIN$<span class=\"sy0\">,</span> <span class=\"nu0\">1</span><br/>\u00a0<br/>sineLatitude <span class=\"sy0\">:=</span> <a href=\"http://www.autohotkey.com/docs/Functions.htm#BuiltIn\"><span class=\"kw4\">Sin</span></a><span class=\"br0\">(</span>latitude<span class=\"sy0\">*</span>Degrees<span class=\"br0\">)</span><br/><a href=\"http://www.autohotkey.com/docs/commands/FileAppend.htm\"><span class=\"kw3\">FileAppend</span></a><span class=\"sy0\">,</span> `n<span class=\"sy0\">,</span> CONOUT$<br/><a href=\"http://www.autohotkey.com/docs/commands/FileAppend.htm\"><span class=\"kw3\">FileAppend</span></a><span class=\"sy0\">,</span> Sine of <span class=\"re2\">latitude: </span><span class=\"re0\">%sineLatitude%</span>`n<span class=\"sy0\">,</span> CONOUT$<br/><a href=\"http://www.autohotkey.com/docs/commands/FileAppend.htm\"><span class=\"kw3\">FileAppend</span></a><span class=\"sy0\">,</span>\u00a0% <span class=\"st0\">\"Difference of Longitudes (given longitude - meridian): \"</span> <span class=\"sy0\">.</span> longitude<span class=\"sy0\">-</span>meridian <span class=\"sy0\">.</span> <span class=\"st0\">\"`n\"</span><span class=\"sy0\">,</span> CONOUT$<br/><a href=\"http://www.autohotkey.com/docs/commands/FileAppend.htm\"><span class=\"kw3\">FileAppend</span></a><span class=\"sy0\">,</span> `n<span class=\"sy0\">,</span> CONOUT$<br/>\u00a0<br/><a href=\"http://www.autohotkey.com/docs/commands/FileAppend.htm\"><span class=\"kw3\">FileAppend</span></a><span class=\"sy0\">,</span> Numbers from <span class=\"nu0\">6</span> AM to <span class=\"nu0\">6</span> PM:`n<span class=\"sy0\">,</span> CONOUT$<br/><a href=\"http://www.autohotkey.com/docs/commands/FileAppend.htm\"><span class=\"kw3\">FileAppend</span></a><span class=\"sy0\">,</span> Hour`t`tSun Hour Angle`t Dial hour line angle`n<span class=\"sy0\">,</span> CONOUT$<br/>\u00a0<br/>\u00a0<br/>hour <span class=\"sy0\">:=</span> <span class=\"sy0\">-</span><span class=\"nu0\">7</span><br/><span class=\"kw1\">While</span> <span class=\"br0\">(</span><span class=\"sy0\">++</span>hour <span class=\"sy0\">&lt;</span> <span class=\"nu0\">7</span><span class=\"br0\">)</span><br/><span class=\"br0\">{</span><br/>   clockHour <span class=\"sy0\">:=</span> hour <span class=\"sy0\">&lt;</span> <span class=\"nu0\">0</span>\u00a0? <a href=\"http://www.autohotkey.com/docs/Functions.htm#BuiltIn\"><span class=\"kw4\">abs</span></a><span class=\"br0\">(</span>hour<span class=\"br0\">)</span> <span class=\"sy0\">.</span> <span class=\"st0\">\"AM\"</span>\u00a0: hour <span class=\"sy0\">.</span> <span class=\"st0\">\"PM\"</span><br/>   shr <span class=\"sy0\">:=</span> RTrim<span class=\"br0\">(</span><span class=\"st0\">\"\"</span> <span class=\"sy0\">.</span> <span class=\"br0\">(</span><span class=\"nu0\">15.0</span><span class=\"sy0\">*</span>hour <span class=\"sy0\">-</span> <span class=\"br0\">(</span>longitude<span class=\"sy0\">-</span>meridian<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">,</span> <span class=\"st0\">\"0\"</span><span class=\"br0\">)</span> <span class=\"co1\">; RTrim() removes trailing zeroes</span><br/>   dhla <span class=\"sy0\">:=</span> <a href=\"http://www.autohotkey.com/docs/Functions.htm#BuiltIn\"><span class=\"kw4\">Atan</span></a><span class=\"br0\">(</span>sineLatitude<span class=\"sy0\">*</span><a href=\"http://www.autohotkey.com/docs/Functions.htm#BuiltIn\"><span class=\"kw4\">Tan</span></a><span class=\"br0\">(</span>shr<span class=\"sy0\">*</span>degrees<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">/</span>Degrees<br/>   <a href=\"http://www.autohotkey.com/docs/commands/FileAppend.htm\"><span class=\"kw3\">FileAppend</span></a><span class=\"sy0\">,</span> <span class=\"re0\">%clockhour%</span>`t`t<span class=\"re0\">%shr%</span>`t`t<span class=\"re0\">%dhla%</span>`n<span class=\"sy0\">,</span> CONOUT$<br/><span class=\"br0\">}</span><br/><a href=\"http://www.autohotkey.com/docs/commands/MsgBox.htm\"><span class=\"kw3\">MsgBox</span></a> close me when done<span class=\"sy0\">.</span></pre>"}, {"lang": "AWK", "loc": 19, "block": "<pre class=\"awk highlighted_source\">\u00a0<br/><span class=\"co1\"># syntax: GAWK -f HORIZONTAL_SUNDIAL_CALCULATIONS.AWK</span><br/><span class=\"kw2\">BEGIN</span> <span class=\"br0\">{</span><br/>    <span class=\"kw5\">printf</span><span class=\"br0\">(</span><span class=\"st0\">\"enter latitude (degrees): \"</span><span class=\"br0\">)</span>\u00a0; <span class=\"kw5\">getline</span> latitude<br/>    <span class=\"kw5\">printf</span><span class=\"br0\">(</span><span class=\"st0\">\"enter longitude (degrees): \"</span><span class=\"br0\">)</span>\u00a0; <span class=\"kw5\">getline</span> longitude<br/>    <span class=\"kw5\">printf</span><span class=\"br0\">(</span><span class=\"st0\">\"enter legal meridian (degrees): \"</span><span class=\"br0\">)</span>\u00a0; <span class=\"kw5\">getline</span> meridian<br/>    <span class=\"kw5\">printf</span><span class=\"br0\">(</span><span class=\"st0\">\"<span class=\"es0\">\\n</span>hour  sun hour angle  dial hour line angle<span class=\"es0\">\\n</span>\"</span><span class=\"br0\">)</span><br/>    slat = <span class=\"kw4\">sin</span><span class=\"br0\">(</span>dr<span class=\"br0\">(</span>latitude<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>    <span class=\"kw1\">for</span> <span class=\"br0\">(</span>hour=<span class=\"sy3\">-</span><span class=\"nu0\">6</span>; hour<span class=\"sy2\">&lt;=</span><span class=\"nu0\">6</span>; hour<span class=\"sy3\">++</span><span class=\"br0\">)</span> <span class=\"br0\">{</span> <span class=\"co1\"># 6AM-6PM</span><br/>      hra = <span class=\"nu0\">15</span> <span class=\"sy3\">*</span> hour <span class=\"sy3\">-</span> longitude <span class=\"sy3\">+</span> meridian<br/>      hraRad = dr<span class=\"br0\">(</span>hra<span class=\"br0\">)</span><br/>      hla = rd<span class=\"br0\">(</span><span class=\"kw4\">atan2</span><span class=\"br0\">(</span><span class=\"kw4\">sin</span><span class=\"br0\">(</span>hraRad<span class=\"br0\">)</span><span class=\"sy3\">*</span>slat,<span class=\"kw4\">cos</span><span class=\"br0\">(</span>hraRad<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>      <span class=\"kw5\">printf</span><span class=\"br0\">(</span><span class=\"st0\">\"%4d\u00a0%15.3f\u00a0%21.3f<span class=\"es0\">\\n</span>\"</span>,hour<span class=\"sy3\">+</span><span class=\"nu0\">12</span>,hra,hla<span class=\"br0\">)</span><br/>    <span class=\"br0\">}</span><br/>    exit<span class=\"br0\">(</span><span class=\"nu0\">0</span><span class=\"br0\">)</span><br/><span class=\"br0\">}</span><br/><span class=\"kw6\">function</span> dr<span class=\"br0\">(</span>x<span class=\"br0\">)</span> <span class=\"br0\">{</span> <span class=\"kw6\">return</span> x <span class=\"sy3\">*</span> <span class=\"nu0\">3.14159265</span> <span class=\"sy3\">/</span> <span class=\"nu0\">180</span> <span class=\"br0\">}</span> <span class=\"co1\"># degrees to radians</span><br/><span class=\"kw6\">function</span> rd<span class=\"br0\">(</span>x<span class=\"br0\">)</span> <span class=\"br0\">{</span> <span class=\"kw6\">return</span> x <span class=\"sy3\">*</span> <span class=\"nu0\">180</span> <span class=\"sy3\">/</span> <span class=\"nu0\">3.14159265</span> <span class=\"br0\">}</span> <span class=\"co1\"># radians to degrees</span><br/>\u00a0</pre>"}, {"lang": "BBC BASIC", "loc": 14, "block": "<pre class=\"text highlighted_source\">      INSTALL @lib$+\"FNUSING\"<br/>\u00a0<br/>      INPUT \"Enter latitude (degrees)     \u00a0: \" latitude<br/>      INPUT \"Enter longitude (degrees)    \u00a0: \" longitude<br/>      INPUT \"Enter legal meridian (degrees): \" meridian<br/>\u00a0<br/>      PRINT '\" Time\", \"Sun hour angle\", \"Dial hour line angle\"<br/>\u00a0<br/>      FOR hour = 6 TO 18<br/>        hra = 15*hour - longitude + meridian - 180<br/>        hla = DEG(ATN(SIN(RAD(latitude)) * TAN(RAD(hra))))<br/>        IF ABS(hra) &gt; 90 hla += 180 * SGN(hra * latitude)<br/>        PRINT FNusing(\"##.##\", hour), FNusing(\"  ####.###  \", hra), FNusing(\"  ####.###\", hla)<br/>      NEXT hour</pre>"}, {"lang": "C", "loc": 43, "block": "<pre class=\"c highlighted_source\"><span class=\"co2\">#include &lt;stdio.h&gt;</span><br/><span class=\"co2\">#include &lt;math.h&gt;</span><br/>\u00a0<br/><span class=\"co2\">#define PICKVALUE(TXT, VM) do {\t\t\t\\<br/>    printf(\"%s: \", TXT);\t\t\t\\<br/>    scanf(\"%lf\", &amp;VM);\t\t\t\t\\<br/>  } while(0);</span><br/>\u00a0<br/><span class=\"co2\">#if\u00a0!defined(M_PI)</span><br/><span class=\"co2\">#define M_PI 3.14159265358979323846</span><br/><span class=\"co2\">#endif</span><br/>\u00a0<br/><span class=\"co2\">#define DR(X) ((X)*M_PI/180.0)</span><br/><span class=\"co2\">#define RD(X) ((X)*180.0/M_PI)</span><br/>\u00a0<br/><span class=\"kw4\">int</span> main<span class=\"br0\">(</span><span class=\"br0\">)</span><br/><span class=\"br0\">{</span><br/>  <span class=\"kw4\">double</span> lat<span class=\"sy0\">,</span> slat<span class=\"sy0\">,</span> lng<span class=\"sy0\">,</span> ref<span class=\"sy0\">;</span><br/>  <span class=\"kw4\">int</span> h<span class=\"sy0\">;</span><br/>\u00a0<br/>  PICKVALUE<span class=\"br0\">(</span><span class=\"st0\">\"Enter latitude\"</span><span class=\"sy0\">,</span> lat<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>  PICKVALUE<span class=\"br0\">(</span><span class=\"st0\">\"Enter longitude\"</span><span class=\"sy0\">,</span> lng<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>  PICKVALUE<span class=\"br0\">(</span><span class=\"st0\">\"Enter legal meridian\"</span><span class=\"sy0\">,</span> ref<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>  <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/printf.html\"><span class=\"kw3\">printf</span></a><span class=\"br0\">(</span><span class=\"st0\">\"<span class=\"es1\">\\n</span>\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>  slat <span class=\"sy0\">=</span> <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/sin.html\"><span class=\"kw3\">sin</span></a><span class=\"br0\">(</span>DR<span class=\"br0\">(</span>lat<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>  <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/printf.html\"><span class=\"kw3\">printf</span></a><span class=\"br0\">(</span><span class=\"st0\">\"sine of latitude:\u00a0%.3f<span class=\"es1\">\\n</span>\"</span><span class=\"sy0\">,</span> slat<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>  <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/printf.html\"><span class=\"kw3\">printf</span></a><span class=\"br0\">(</span><span class=\"st0\">\"diff longitude:\u00a0%.3f<span class=\"es1\">\\n</span><span class=\"es1\">\\n</span>\"</span><span class=\"sy0\">,</span> lng <span class=\"sy0\">-</span> ref<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>  <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/printf.html\"><span class=\"kw3\">printf</span></a><span class=\"br0\">(</span><span class=\"st0\">\"Hour, sun hour angle, dial hour line angle from 6am to 6pm<span class=\"es1\">\\n</span>\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>  <span class=\"kw1\">for</span><span class=\"br0\">(</span>h <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">6</span><span class=\"sy0\">;</span> h <span class=\"sy0\">&lt;=</span> <span class=\"nu0\">6</span><span class=\"sy0\">;</span> h<span class=\"sy0\">++</span><span class=\"br0\">)</span><br/>  <span class=\"br0\">{</span><br/>    <span class=\"kw4\">double</span> hla<span class=\"sy0\">,</span> hra<span class=\"sy0\">;</span><br/>    hra <span class=\"sy0\">=</span> <span class=\"nu16\">15.0</span><span class=\"sy0\">*</span>h<span class=\"sy0\">;</span><br/>    hra <span class=\"sy0\">=</span> hra <span class=\"sy0\">-</span> lng <span class=\"sy0\">+</span> ref<span class=\"sy0\">;</span><br/>    hla <span class=\"sy0\">=</span> RD<span class=\"br0\">(</span><a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/atan.html\"><span class=\"kw3\">atan</span></a><span class=\"br0\">(</span>slat <span class=\"sy0\">*</span> <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/tan.html\"><span class=\"kw3\">tan</span></a><span class=\"br0\">(</span>DR<span class=\"br0\">(</span>hra<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    <a href=\"http://www.opengroup.org/onlinepubs/009695399/functions/printf.html\"><span class=\"kw3\">printf</span></a><span class=\"br0\">(</span><span class=\"st0\">\"HR=\u00a0%3d;  <span class=\"es1\">\\t</span>  HRA=%7.3f;  <span class=\"es1\">\\t</span>  HLA=\u00a0%7.3f<span class=\"es1\">\\n</span>\"</span><span class=\"sy0\">,</span><br/>\t   h<span class=\"sy0\">,</span> hra<span class=\"sy0\">,</span> hla<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>  <span class=\"br0\">}</span><br/>\u00a0<br/>  <span class=\"kw1\">return</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "C#", "loc": 32, "block": "<pre class=\"csharp highlighted_source\"><span class=\"kw1\">using</span> <span class=\"co3\">System</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"kw1\">namespace</span> RosettaCode<br/><span class=\"br0\">{</span><br/>  <span class=\"kw1\">internal</span> <span class=\"kw1\">sealed</span> <span class=\"kw4\">class</span> Program<br/>  <span class=\"br0\">{</span><br/>    <span class=\"kw1\">private</span> <span class=\"kw1\">static</span> <span class=\"kw4\">void</span> Main<span class=\"br0\">(</span><span class=\"br0\">)</span><br/>    <span class=\"br0\">{</span><br/>      Func<span class=\"sy0\">&lt;</span><span class=\"kw4\">double</span><span class=\"sy0\">&gt;</span> getDouble <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"sy0\">=&gt;</span> Convert<span class=\"sy0\">.</span><span class=\"me1\">ToDouble</span><span class=\"br0\">(</span>Console<span class=\"sy0\">.</span><span class=\"me1\">ReadLine</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>      <span class=\"kw4\">double</span> h <span class=\"sy0\">=</span> <span class=\"nu0\">0</span>, lat, lng, lme, slat, hra, hla<span class=\"sy0\">;</span><br/>\u00a0<br/>      Console<span class=\"sy0\">.</span><span class=\"me1\">Write</span><span class=\"br0\">(</span><span class=\"st0\">\"Enter latitude       =&gt; \"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>      lat <span class=\"sy0\">=</span> getDouble<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>      Console<span class=\"sy0\">.</span><span class=\"me1\">Write</span><span class=\"br0\">(</span><span class=\"st0\">\"Enter longitude      =&gt; \"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>      lng <span class=\"sy0\">=</span> getDouble<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>      Console<span class=\"sy0\">.</span><span class=\"me1\">Write</span><span class=\"br0\">(</span><span class=\"st0\">\"Enter legal meridian =&gt; \"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>      lme <span class=\"sy0\">=</span> getDouble<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>      slat <span class=\"sy0\">=</span> Math<span class=\"sy0\">.</span><span class=\"me1\">Sin</span><span class=\"br0\">(</span>lat<span class=\"sy0\">*</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>Math<span class=\"sy0\">.</span><span class=\"me1\">PI</span><span class=\"sy0\">/</span><span class=\"nu0\">360</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>      Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"<span class=\"es0\">\\n</span>    sine of latitude:   {0:0.000}\"</span>, slat<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>      Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"    diff longitude:     {0:0.000}<span class=\"es0\">\\n</span>\"</span>, lng<span class=\"sy0\">-</span>lme<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>      Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"Hour, sun hour angle, dial hour line angle from 6am to 6pm\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>      <span class=\"kw1\">for</span> <span class=\"br0\">(</span>h <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">6</span><span class=\"sy0\">;</span> h<span class=\"sy0\">&lt;</span><span class=\"nu0\">6</span><span class=\"sy0\">;</span> h<span class=\"sy0\">++</span><span class=\"br0\">)</span><br/>      <span class=\"br0\">{</span><br/>        hra <span class=\"sy0\">=</span> <span class=\"nu0\">15</span><span class=\"sy0\">*</span>h<span class=\"sy0\">;</span><br/>        hra <span class=\"sy0\">-=</span> lng<span class=\"sy0\">-</span>lme<span class=\"sy0\">;</span><br/>        hla <span class=\"sy0\">=</span> Math<span class=\"sy0\">.</span><span class=\"me1\">Atan</span><span class=\"br0\">(</span>slat<span class=\"sy0\">*</span>Math<span class=\"sy0\">.</span><span class=\"me1\">Tan</span><span class=\"br0\">(</span>hra<span class=\"sy0\">*</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>Math<span class=\"sy0\">.</span><span class=\"me1\">PI</span><span class=\"sy0\">/</span><span class=\"nu0\">360</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">*</span><span class=\"nu0\">360</span><span class=\"sy0\">/</span><span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>Math<span class=\"sy0\">.</span><span class=\"me1\">PI</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        Console<span class=\"sy0\">.</span><span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"HR= {0,7:0.000}; HRA {1,7:0.000}; HLA= {2,7:0.000}\"</span>, h, hra, hla<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>      <span class=\"br0\">}</span><br/>    <span class=\"br0\">}</span><br/>  <span class=\"br0\">}</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "COBOL", "loc": 54, "block": "<pre class=\"cobol highlighted_source\"><span class=\"kw3\">PROGRAM-ID</span><span class=\"sy0\">.</span> horizontal-sundial-calc<span class=\"sy0\">.</span><br/>\u00a0<br/><span class=\"kw3\">DATA</span> <span class=\"kw3\">DIVISION</span><span class=\"sy0\">.</span><br/><span class=\"kw3\">WORKING-STORAGE</span> <span class=\"kw1\">SECTION</span><span class=\"sy0\">.</span><br/><span class=\"nu0\">01</span>  latitude                       <span class=\"kw3\">PIC</span> S9<span class=\"br0\">(</span><span class=\"nu0\">3</span><span class=\"br0\">)</span>V9<span class=\"br0\">(</span><span class=\"nu0\">5</span><span class=\"br0\">)</span> <span class=\"kw3\">COMP</span><span class=\"sy0\">.</span><br/><span class=\"nu0\">01</span>  longitude                      <span class=\"kw3\">PIC</span> S9<span class=\"br0\">(</span><span class=\"nu0\">3</span><span class=\"br0\">)</span>V9<span class=\"br0\">(</span><span class=\"nu0\">5</span><span class=\"br0\">)</span> <span class=\"kw3\">COMP</span><span class=\"sy0\">.</span><br/><span class=\"nu0\">01</span>  legal-meridian                 <span class=\"kw3\">PIC</span> S9<span class=\"br0\">(</span><span class=\"nu0\">3</span><span class=\"br0\">)</span>V9<span class=\"br0\">(</span><span class=\"nu0\">5</span><span class=\"br0\">)</span> <span class=\"kw3\">COMP</span><span class=\"sy0\">.</span><br/>\u00a0<br/><span class=\"nu0\">01</span>  lat-sine                       <span class=\"kw3\">PIC</span> S9<span class=\"br0\">(</span><span class=\"nu0\">3</span><span class=\"br0\">)</span>V9<span class=\"br0\">(</span><span class=\"nu0\">5</span><span class=\"br0\">)</span> <span class=\"kw3\">COMP</span><span class=\"sy0\">.</span><br/><span class=\"nu0\">01</span>  diff-longitude                 <span class=\"kw3\">PIC</span> S9<span class=\"br0\">(</span><span class=\"nu0\">3</span><span class=\"br0\">)</span>V9<span class=\"br0\">(</span><span class=\"nu0\">5</span><span class=\"br0\">)</span> <span class=\"kw3\">COMP</span><span class=\"sy0\">.</span> <br/>\u00a0<br/><span class=\"nu0\">01</span>  lat-sine-disp                  <span class=\"kw3\">PIC</span> -<span class=\"br0\">(</span><span class=\"nu0\">3</span><span class=\"br0\">)</span><span class=\"nu0\">9.9</span><span class=\"br0\">(</span><span class=\"nu0\">5</span><span class=\"br0\">)</span><span class=\"sy0\">.</span><br/><span class=\"nu0\">01</span>  diff-longitude-disp            <span class=\"kw3\">PIC</span> -<span class=\"br0\">(</span><span class=\"nu0\">3</span><span class=\"br0\">)</span><span class=\"nu0\">9.9</span><span class=\"br0\">(</span><span class=\"nu0\">5</span><span class=\"br0\">)</span><span class=\"sy0\">.</span><br/>\u00a0<br/><span class=\"nu0\">01</span>  hour                           <span class=\"kw3\">PIC</span> S9 <span class=\"kw3\">COMP</span><span class=\"sy0\">.</span><br/><span class=\"nu0\">01</span>  sun-hour-angle                 <span class=\"kw3\">PIC</span> S9<span class=\"br0\">(</span><span class=\"nu0\">3</span><span class=\"br0\">)</span>V9<span class=\"br0\">(</span><span class=\"nu0\">5</span><span class=\"br0\">)</span> <span class=\"kw3\">COMP</span><span class=\"sy0\">.</span><br/><span class=\"nu0\">01</span>  dial-hour-line-angle           <span class=\"kw3\">PIC</span> S9<span class=\"br0\">(</span><span class=\"nu0\">3</span><span class=\"br0\">)</span>V9<span class=\"br0\">(</span><span class=\"nu0\">5</span><span class=\"br0\">)</span> <span class=\"kw3\">COMP</span><span class=\"sy0\">.</span> <br/>\u00a0<br/><span class=\"nu0\">01</span>  hour-disp                      <span class=\"kw3\">PIC</span> <span class=\"nu0\">99</span><span class=\"sy0\">.</span><br/><span class=\"nu0\">01</span>  sun-hour-angle-disp            <span class=\"kw3\">PIC</span> -<span class=\"br0\">(</span><span class=\"nu0\">3</span><span class=\"br0\">)</span><span class=\"nu0\">9.9</span><span class=\"br0\">(</span><span class=\"nu0\">5</span><span class=\"br0\">)</span><span class=\"sy0\">.</span><br/><span class=\"nu0\">01</span>  dial-hour-line-angle-disp      <span class=\"kw3\">PIC</span> -<span class=\"br0\">(</span><span class=\"nu0\">3</span><span class=\"br0\">)</span><span class=\"nu0\">9.9</span><span class=\"br0\">(</span><span class=\"nu0\">5</span><span class=\"br0\">)</span><span class=\"sy0\">.</span><br/>\u00a0<br/><span class=\"kw3\">PROCEDURE</span> <span class=\"kw3\">DIVISION</span><span class=\"sy0\">.</span><br/>    <span class=\"kw2\">DISPLAY</span> <span class=\"st0\">\"Enter latitude: \"</span> <span class=\"kw3\">NO</span> <span class=\"kw3\">ADVANCING</span><br/>    <span class=\"kw2\">ACCEPT</span> latitude<br/>    <span class=\"kw2\">DISPLAY</span> <span class=\"st0\">\"Enter longitude: \"</span> <span class=\"kw3\">NO</span> <span class=\"kw3\">ADVANCING</span><br/>    <span class=\"kw2\">ACCEPT</span> longitude<br/>    <span class=\"kw2\">DISPLAY</span> <span class=\"st0\">\"Enter legal meridian: \"</span> <span class=\"kw3\">NO</span> <span class=\"kw3\">ADVANCING</span><br/>    <span class=\"kw2\">ACCEPT</span> legal-meridian<br/>    <span class=\"kw2\">DISPLAY</span> <span class=\"kw3\">SPACE</span><br/>\u00a0<br/>    <span class=\"kw2\">COMPUTE</span> lat-sine<span class=\"sy0\">,</span> lat-sine-disp <span class=\"kw3\">ROUNDED</span> <span class=\"sy0\">=</span><br/>        <span class=\"kw3\">FUNCTION</span> <span class=\"kw4\">SIN</span><span class=\"br0\">(</span>latitude<span class=\"sy0\"> * </span><span class=\"nu0\">2</span><span class=\"sy0\"> * </span><span class=\"kw3\">FUNCTION</span> PI<span class=\"sy0\"> / </span><span class=\"nu0\">360</span><span class=\"br0\">)</span><br/>    <span class=\"kw2\">DISPLAY</span> <span class=\"st0\">\"Sine of latitude: \"</span> <span class=\"kw3\">FUNCTION</span> TRIM<span class=\"br0\">(</span>lat-sine-disp<span class=\"br0\">)</span><br/>\u00a0<br/>    <span class=\"kw3\">SUBTRACT</span> legal-meridian <span class=\"kw3\">FROM</span> longitude<br/>        <span class=\"kw2\">GIVING</span> diff-longitude<span class=\"sy0\">,</span> diff-longitude-disp<br/>    <span class=\"kw2\">DISPLAY</span> <span class=\"st0\">\"Diff longitude: \"</span> <span class=\"kw3\">FUNCTION</span> TRIM<span class=\"br0\">(</span>diff-longitude-disp<span class=\"br0\">)</span><br/>    <span class=\"kw2\">DISPLAY</span> <span class=\"kw3\">SPACE</span><br/>\u00a0<br/>    <span class=\"kw2\">DISPLAY</span> <span class=\"st0\">\"Time   Sun hour angle  Dial hour line angle\"</span><br/>    <span class=\"kw2\">PERFORM</span> <span class=\"kw2\">VARYING</span> hour <span class=\"kw3\">FROM</span> -<span class=\"nu0\">6</span> <span class=\"kw3\">BY</span> <span class=\"nu0\">1</span> <span class=\"kw2\">UNTIL</span> hour &gt; <span class=\"nu0\">6</span><br/>        <span class=\"kw2\">COMPUTE</span> sun-hour-angle <span class=\"kw3\">ROUNDED</span> <span class=\"sy0\">=</span> hour<span class=\"sy0\"> * </span><span class=\"nu0\">15</span><span class=\"sy0\"> - </span>diff-longitude<br/>        <span class=\"kw2\">COMPUTE</span> dial-hour-line-angle <span class=\"kw3\">ROUNDED</span> <span class=\"sy0\">=</span> <span class=\"kw3\">FUNCTION</span> <span class=\"kw4\">ATAN</span><span class=\"br0\">(</span>lat-sine<br/>           <span class=\"sy0\"> * </span><span class=\"kw3\">FUNCTION</span> <span class=\"kw4\">TAN</span><span class=\"br0\">(</span>sun-hour-angle<span class=\"sy0\"> * </span><span class=\"nu0\">2</span><span class=\"sy0\"> * </span><span class=\"kw3\">FUNCTION</span> PI<span class=\"sy0\"> / </span><span class=\"nu0\">360</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>           <span class=\"sy0\"> * </span><span class=\"nu0\">360</span><span class=\"sy0\"> / </span><span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\"> * </span><span class=\"kw3\">FUNCTION</span> PI<span class=\"br0\">)</span><br/>\u00a0<br/>        <span class=\"kw2\">ADD</span> <span class=\"nu0\">12</span> <span class=\"kw2\">TO</span> hour <span class=\"kw2\">GIVING</span> hour-disp<br/>        <span class=\"kw2\">MOVE</span> sun-hour-angle <span class=\"kw2\">TO</span> sun-hour-angle-disp<br/>        <span class=\"kw2\">MOVE</span> dial-hour-line-angle <span class=\"kw2\">TO</span> dial-hour-line-angle-disp<br/>        <span class=\"kw2\">DISPLAY</span> hour-disp <span class=\"st0\">\":00 \"</span> sun-hour-angle-disp <span class=\"st0\">\"      \"</span><br/>            dial-hour-line-angle-disp<br/>    END-<span class=\"kw2\">PERFORM</span><br/>    <span class=\"sy0\">.</span></pre>"}, {"lang": "D", "loc": 28, "block": "<pre class=\"d highlighted_source\"><span class=\"kw2\">import</span> std.<span class=\"me1\">stdio</span><span class=\"sy0\">,</span> std.<span class=\"me1\">math</span><span class=\"sy0\">,</span> std.<span class=\"me1\">conv</span><span class=\"sy0\">,</span> std.<span class=\"kw4\">string</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"kw4\">double</span> radians<span class=\"br0\">(</span><span class=\"kw2\">in</span> <span class=\"kw4\">double</span> x<span class=\"br0\">)</span> <span class=\"kw4\">pure</span> <span class=\"kw4\">nothrow</span> <span class=\"br0\">{</span> <span class=\"kw1\">return</span> x <span class=\"sy0\">*</span> <span class=\"br0\">(</span>PI <span class=\"sy0\">/</span> <span class=\"nu0\">180</span><span class=\"br0\">)</span><span class=\"sy0\">;</span> <span class=\"br0\">}</span><br/><span class=\"kw4\">double</span> degrees<span class=\"br0\">(</span><span class=\"kw2\">in</span> <span class=\"kw4\">double</span> x<span class=\"br0\">)</span> <span class=\"kw4\">pure</span> <span class=\"kw4\">nothrow</span> <span class=\"br0\">{</span> <span class=\"kw1\">return</span> x <span class=\"sy0\">/</span> <span class=\"br0\">(</span>PI <span class=\"sy0\">/</span> <span class=\"nu0\">180</span><span class=\"br0\">)</span><span class=\"sy0\">;</span> <span class=\"br0\">}</span><br/>\u00a0<br/>T input<span class=\"br0\">(</span>T<span class=\"br0\">)</span><span class=\"br0\">(</span><span class=\"kw2\">in</span> <span class=\"kw4\">string</span> msg<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>    msg.<span class=\"me1\">write</span><span class=\"sy0\">;</span><br/>    <span class=\"kw1\">return</span> readln.<span class=\"me1\">strip</span>.<span class=\"me1\">to</span><span class=\"sy0\">!</span>T<span class=\"sy0\">;</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"kw4\">void</span> main<span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>    <span class=\"kw4\">immutable</span> lat <span class=\"sy0\">=</span> input<span class=\"sy0\">!</span><span class=\"kw4\">double</span><span class=\"br0\">(</span><span class=\"st0\">\"Enter latitude       =&gt; \"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    <span class=\"kw4\">immutable</span> lng <span class=\"sy0\">=</span> input<span class=\"sy0\">!</span><span class=\"kw4\">double</span><span class=\"br0\">(</span><span class=\"st0\">\"Enter longitude      =&gt; \"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    <span class=\"kw4\">immutable</span> lme <span class=\"sy0\">=</span> input<span class=\"sy0\">!</span><span class=\"kw4\">double</span><span class=\"br0\">(</span><span class=\"st0\">\"Enter legal meridian =&gt; \"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    writeln<span class=\"sy0\">;</span><br/>\u00a0<br/>    <span class=\"kw4\">double</span> slat <span class=\"sy0\">=</span> lat.<span class=\"me1\">radians</span>.<span class=\"me1\">sin</span><span class=\"sy0\">;</span><br/>    writefln<span class=\"br0\">(</span><span class=\"st0\">\"    sine of latitude:  \u00a0%.3f\"</span><span class=\"sy0\">,</span> slat<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    writefln<span class=\"br0\">(</span><span class=\"st0\">\"    diff longitude:    \u00a0%.3f\"</span><span class=\"sy0\">,</span> lng <span class=\"sy0\">-</span> lme<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    writeln<span class=\"sy0\">;</span><br/>    <span class=\"st0\">\"Hour, sun hour angle, dial hour line angle from 6am to 6pm\"</span>.<span class=\"me1\">writeln</span><span class=\"sy0\">;</span><br/>\u00a0<br/>    <span class=\"kw1\">foreach</span> <span class=\"br0\">(</span><span class=\"kw4\">immutable</span> h<span class=\"sy0\">;</span> <span class=\"sy0\">-</span><span class=\"nu0\">6</span> <span class=\"sy0\">..</span> <span class=\"nu0\">7</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>        <span class=\"kw4\">immutable</span> <span class=\"kw4\">double</span> hra <span class=\"sy0\">=</span> <span class=\"nu0\">15</span> <span class=\"sy0\">*</span> h <span class=\"sy0\">-</span> <span class=\"br0\">(</span>lng <span class=\"sy0\">-</span> lme<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <span class=\"kw4\">immutable</span> <span class=\"kw4\">double</span> hla <span class=\"sy0\">=</span> atan<span class=\"br0\">(</span>slat <span class=\"sy0\">*</span> hra.<span class=\"me1\">radians</span>.<span class=\"me1\">tan</span><span class=\"br0\">)</span>.<span class=\"me1\">degrees</span><span class=\"sy0\">;</span><br/>        writefln<span class=\"br0\">(</span><span class=\"st0\">\"HR=%3d; HRA=%7.3f; HLA=%7.3f\"</span><span class=\"sy0\">,</span> h<span class=\"sy0\">,</span> hra<span class=\"sy0\">,</span> hla<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    <span class=\"br0\">}</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "DWScript", "loc": 23, "block": "<pre class=\"delphi highlighted_source\"><span class=\"kw1\">procedure</span> PrintSundial<span class=\"br0\">(</span>lat<span class=\"sy1\">,</span> lng<span class=\"sy1\">,</span> lme <span class=\"sy1\">:</span> Float<span class=\"br0\">)</span><span class=\"sy1\">;</span><br/><span class=\"kw1\">begin</span><br/>   PrintLn<span class=\"br0\">(</span><span class=\"kw3\">Format</span><span class=\"br0\">(</span><span class=\"st0\">'latitude:       \u00a0%7.2f'</span><span class=\"sy1\">,</span> <span class=\"br0\">[</span>lat<span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>   PrintLn<span class=\"br0\">(</span><span class=\"kw3\">Format</span><span class=\"br0\">(</span><span class=\"st0\">'longitude:      \u00a0%7.2f'</span><span class=\"sy1\">,</span> <span class=\"br0\">[</span>lng<span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>   PrintLn<span class=\"br0\">(</span><span class=\"kw3\">Format</span><span class=\"br0\">(</span><span class=\"st0\">'legal meridian: \u00a0%7.2f'</span><span class=\"sy1\">,</span> <span class=\"br0\">[</span>lme<span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>\u00a0<br/>   <span class=\"kw1\">var</span> slat <span class=\"sy1\">:</span><span class=\"sy3\">=</span> <span class=\"kw3\">Sin</span><span class=\"br0\">(</span><span class=\"kw3\">DegToRad</span><span class=\"br0\">(</span>lat<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>\u00a0<br/>   PrintLn<span class=\"br0\">(</span><span class=\"kw3\">Format</span><span class=\"br0\">(</span><span class=\"st0\">'sine of latitude:\u00a0%.3f'</span><span class=\"sy1\">,</span> <span class=\"br0\">[</span>slat<span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>   PrintLn<span class=\"br0\">(</span><span class=\"kw3\">Format</span><span class=\"br0\">(</span><span class=\"st0\">'diff longitude:  \u00a0%.3f'</span><span class=\"sy1\">,</span> <span class=\"br0\">[</span>lng<span class=\"sy3\">-</span>lme<span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>   PrintLn<span class=\"br0\">(</span><span class=\"st0\">''</span><span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>   PrintLn<span class=\"br0\">(</span><span class=\"st0\">'Hour, sun hour angle, dial hour line angle from 6am to 6pm'</span><span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>\u00a0<br/>   <span class=\"kw1\">var</span> h <span class=\"sy1\">:</span> <span class=\"kw4\">Integer</span><span class=\"sy1\">;</span><br/>   <span class=\"kw1\">for</span> h<span class=\"sy1\">:</span><span class=\"sy3\">=-</span><span class=\"nu0\">6</span> <span class=\"kw1\">to</span> <span class=\"nu0\">6</span> <span class=\"kw1\">do</span> <span class=\"kw1\">begin</span><br/>      <span class=\"kw1\">var</span> hra <span class=\"sy1\">:</span><span class=\"sy3\">=</span> <span class=\"nu0\">15</span> <span class=\"sy3\">*</span> h <span class=\"sy3\">-</span> <span class=\"br0\">(</span>lng <span class=\"sy3\">-</span> lme<span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>      <span class=\"kw1\">var</span> hraRad <span class=\"sy1\">:</span><span class=\"sy3\">=</span> <span class=\"kw3\">DegToRad</span><span class=\"br0\">(</span>hra<span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>      <span class=\"kw1\">var</span> hla <span class=\"sy1\">:</span><span class=\"sy3\">=</span><span class=\"kw3\">RadToDeg</span><span class=\"br0\">(</span><span class=\"kw3\">ArcTan2</span><span class=\"br0\">(</span><span class=\"kw3\">Sin</span><span class=\"br0\">(</span>hraRad<span class=\"br0\">)</span><span class=\"sy3\">*</span>slat<span class=\"sy1\">,</span> <span class=\"kw3\">Cos</span><span class=\"br0\">(</span>hraRad<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>      PrintLn<span class=\"br0\">(</span><span class=\"kw3\">Format</span><span class=\"br0\">(</span><span class=\"st0\">'HR=%3d; HRA=%7.3f; HLA=%7.3f'</span><span class=\"sy1\">,</span> <span class=\"br0\">[</span>h<span class=\"sy1\">,</span> hra<span class=\"sy1\">,</span> hla<span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>   <span class=\"kw1\">end</span><br/><span class=\"kw1\">end</span><span class=\"sy1\">;</span><br/>\u00a0<br/>PrintSundial<span class=\"br0\">(</span><span class=\"sy3\">-</span><span class=\"nu0\">4.95</span><span class=\"sy1\">,</span> <span class=\"sy3\">-</span><span class=\"nu0\">150.5</span><span class=\"sy1\">,</span> <span class=\"sy3\">-</span><span class=\"nu0\">150</span><span class=\"br0\">)</span><span class=\"sy1\">;</span></pre>"}, {"lang": "ERRE", "loc": 29, "block": "<pre class=\"text highlighted_source\">PROGRAM SUN_DIAL<br/>\u00a0<br/>FUNCTION RAD(X)<br/>    RAD=X*\u03c0/180<br/>END FUNCTION<br/>\u00a0<br/>FUNCTION DEG(X)<br/>    DEG=X*180/\u03c0<br/>END FUNCTION<br/>\u00a0<br/>BEGIN<br/>\u00a0<br/>      INPUT(\"Enter latitude (degrees)     \u00a0: \",latitude)<br/>      INPUT(\"Enter longitude (degrees)    \u00a0: \",longitude)<br/>      INPUT(\"Enter legal meridian (degrees): \",meridian)<br/>\u00a0<br/>      PRINT<br/>      PRINT(\" Time    Sun hour angle  Dial hour line angle\")<br/>      PRINT(\"---------------------------------------------\")<br/>\u00a0<br/>      FOR HOUR=6 TO 18 DO<br/>        HRA=15*HOUR-LONGITUDE+MERIDIAN-180<br/>        HLA=DEG(ATN(SIN(RAD(LATITUDE))*TAN(RAD(HRA))))<br/>        IF ABS(HRA)&gt;90 THEN HLA+=180*SGN(HRA*LATITUDE) END IF<br/>        WRITE(\"##.##         ####.###       ####.###\";HOUR;HRA;HLA)<br/>      END FOR<br/>\u00a0<br/>END PROGRAM<br/>\u00a0</pre>"}, {"lang": "Euphoria", "loc": 37, "block": "<pre class=\"euphoria highlighted_source\">\u00a0<br/><span class=\"kw1\">include</span> std<span class=\"sy1\">/</span>console.e<br/><span class=\"kw1\">include</span> std<span class=\"sy1\">/</span>mathcons.e<br/>\u00a0<br/><span class=\"kw2\">atom</span> lat <span class=\"sy1\">=</span> prompt_number<span class=\"br0\">(</span><span class=\"st0\">\"Enter Latitude: \"</span><span class=\"sy2\">,</span><span class=\"br0\">{</span><span class=\"br0\">}</span><span class=\"br0\">)</span><br/><span class=\"kw2\">atom</span> lng <span class=\"sy1\">=</span> prompt_number<span class=\"br0\">(</span><span class=\"st0\">\"Enter Longitude: \"</span><span class=\"sy2\">,</span><span class=\"br0\">{</span><span class=\"br0\">}</span><span class=\"br0\">)</span><br/><span class=\"kw2\">atom</span> lm <span class=\"sy1\">=</span> prompt_number<span class=\"br0\">(</span><span class=\"st0\">\"Enter Legal Meridian: \"</span><span class=\"sy2\">,</span><span class=\"br0\">{</span><span class=\"br0\">}</span><span class=\"br0\">)</span><br/><span class=\"kw2\">puts</span><span class=\"br0\">(</span><span class=\"nu0\">1</span><span class=\"sy2\">,</span><span class=\"st0\">'<span class=\"es0\">\\n</span>'</span><span class=\"br0\">)</span><br/>\u00a0<br/><span class=\"kw2\">atom</span> ha<span class=\"sy2\">,</span> hla<br/>\u00a0<br/><span class=\"kw1\">function</span> D2R<span class=\"br0\">(</span><span class=\"kw2\">atom</span> degrees<span class=\"br0\">)</span><br/>\t<span class=\"kw1\">return</span> degrees <span class=\"sy1\">*</span> PI <span class=\"sy1\">/</span> <span class=\"nu0\">180</span><br/><span class=\"kw1\">end</span> <span class=\"kw1\">function</span><br/>\u00a0<br/><span class=\"kw1\">function</span> R2D<span class=\"br0\">(</span><span class=\"kw2\">atom</span> radians<span class=\"br0\">)</span><br/>\t<span class=\"kw1\">return</span> radians <span class=\"sy1\">*</span> <span class=\"nu0\">180</span> <span class=\"sy1\">/</span> PI<br/><span class=\"kw1\">end</span> <span class=\"kw1\">function</span><br/>\u00a0<br/><span class=\"kw1\">function</span> atan2<span class=\"br0\">(</span><span class=\"kw2\">atom</span> y<span class=\"sy2\">,</span> <span class=\"kw2\">atom</span> x<span class=\"br0\">)</span><br/>\t<span class=\"kw1\">return</span> <span class=\"nu0\">2</span><span class=\"sy1\">*</span><span class=\"kw2\">arctan</span><span class=\"br0\">(</span><span class=\"br0\">(</span><span class=\"kw2\">sqrt</span><span class=\"br0\">(</span><span class=\"kw2\">power</span><span class=\"br0\">(</span>x<span class=\"sy2\">,</span><span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"sy1\">+</span><span class=\"kw2\">power</span><span class=\"br0\">(</span>y<span class=\"sy2\">,</span><span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"sy1\">-</span> x<span class=\"br0\">)</span><span class=\"sy1\">/</span>y<span class=\"br0\">)</span><br/><span class=\"kw1\">end</span> <span class=\"kw1\">function</span><br/>\u00a0<br/><span class=\"kw2\">atom</span> s_lat <span class=\"sy1\">=</span> <span class=\"kw2\">sin</span><span class=\"br0\">(</span>D2R<span class=\"br0\">(</span>lat<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>\u00a0<br/><span class=\"kw2\">puts</span><span class=\"br0\">(</span><span class=\"nu0\">1</span><span class=\"sy2\">,</span><span class=\"st0\">\"Hour,  Sun Hour Angle, Dial Hour Line Angle<span class=\"es0\">\\n</span>\"</span><span class=\"br0\">)</span><br/>\u00a0<br/><span class=\"kw1\">for</span> hour <span class=\"sy1\">=</span> <span class=\"sy1\">-</span><span class=\"nu0\">6</span> <span class=\"kw1\">to</span> <span class=\"nu0\">6</span> <span class=\"kw1\">do</span><br/>\tha <span class=\"sy1\">=</span> hour <span class=\"sy1\">*</span> <span class=\"nu0\">15</span> <span class=\"sy1\">-</span> lng <span class=\"sy1\">+</span> lm<br/>\t<span class=\"kw2\">atom</span> s <span class=\"sy1\">=</span> <span class=\"kw2\">sin</span><span class=\"br0\">(</span>D2R<span class=\"br0\">(</span>ha<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>\t<span class=\"kw2\">atom</span> c <span class=\"sy1\">=</span> <span class=\"kw2\">cos</span><span class=\"br0\">(</span>D2R<span class=\"br0\">(</span>ha<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>\thla <span class=\"sy1\">=</span> R2D<span class=\"br0\">(</span>atan2<span class=\"br0\">(</span>s_lat<span class=\"sy1\">*</span>s<span class=\"sy2\">,</span>c<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>\t<span class=\"kw2\">printf</span><span class=\"br0\">(</span><span class=\"nu0\">1</span><span class=\"sy2\">,</span><span class=\"st0\">\"%3d<span class=\"es0\">\\t</span><span class=\"es0\">\\t</span><span class=\"es0\">\\t</span>%7.3f<span class=\"es0\">\\t</span><span class=\"es0\">\\t</span><span class=\"es0\">\\t</span>%7.3f<span class=\"es0\">\\n</span>\"</span><span class=\"sy2\">,</span><span class=\"br0\">{</span>hour<span class=\"sy1\">+</span><span class=\"nu0\">12</span><span class=\"sy2\">,</span>ha<span class=\"sy2\">,</span>hla<span class=\"br0\">}</span><span class=\"br0\">)</span><br/><span class=\"kw1\">end</span> <span class=\"kw1\">for</span><br/>\u00a0<br/><span class=\"kw1\">if</span> <span class=\"kw2\">getc</span><span class=\"br0\">(</span><span class=\"nu0\">0</span><span class=\"br0\">)</span> <span class=\"kw1\">then</span> <span class=\"kw1\">end</span> <span class=\"kw1\">if</span><br/>\u00a0</pre>"}, {"lang": "F#", "loc": 36, "block": "<pre class=\"fsharp highlighted_source\"><span class=\"co1\">// Learn more about F# at http://fsharp.net</span><br/>\u00a0<br/><span class=\"kw1\">open</span> System<br/>\u00a0<br/><span class=\"co1\">//(degree measure)*Degrees =&gt; Radian measure</span><br/><span class=\"co1\">//(radian measure)/Degrees =&gt; Degree measure</span><br/><span class=\"kw1\">let</span> Degrees <span class=\"sy0\">=</span> Math.<span class=\"me1\">PI</span> <span class=\"sy0\">/</span> <span class=\"nu0\">180.0</span><br/>\u00a0<br/>Console.<span class=\"me1\">Write</span><span class=\"br0\">(</span><span class=\"st0\">\"Enter latitude: \"</span><span class=\"br0\">)</span><br/><span class=\"kw1\">let</span> latitude <span class=\"sy0\">=</span> Console.<span class=\"me1\">ReadLine</span><span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"sy0\">|&gt;</span> Double.<span class=\"me1\">Parse</span><br/>\u00a0<br/>Console.<span class=\"me1\">Write</span><span class=\"br0\">(</span><span class=\"st0\">\"Enter longitude: \"</span><span class=\"br0\">)</span><br/><span class=\"kw1\">let</span> longitude <span class=\"sy0\">=</span> Console.<span class=\"me1\">ReadLine</span><span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"sy0\">|&gt;</span> Double.<span class=\"me1\">Parse</span><br/>\u00a0<br/>Console.<span class=\"me1\">Write</span><span class=\"br0\">(</span><span class=\"st0\">\"Enter legal meridian: \"</span><span class=\"br0\">)</span><br/><span class=\"kw1\">let</span> meridian <span class=\"sy0\">=</span> Console.<span class=\"me1\">ReadLine</span><span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"sy0\">|&gt;</span> Double.<span class=\"me1\">Parse</span><br/>\u00a0<br/><span class=\"kw1\">let</span> sineLatitude <span class=\"sy0\">=</span> Math.<span class=\"me1\">Sin</span><span class=\"br0\">(</span>latitude <span class=\"sy0\">*</span> Degrees<span class=\"br0\">)</span><br/>Console.<span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"br0\">)</span><br/>Console.<span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"Sine of latitude: {0}\"</span>,sineLatitude<span class=\"br0\">)</span><br/>Console.<span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"Difference of Longitudes (given longitude - meridian): {0}\"</span>,longitude<span class=\"sy0\">-</span>meridian<span class=\"br0\">)</span><br/>Console.<span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"br0\">)</span><br/>\u00a0<br/>printfn <span class=\"st0\">\"Numbers from 6 AM to 6 PM: \"</span><br/>printfn <span class=\"st0\">\"Hour<span class=\"es0\">\\t</span><span class=\"es0\">\\t</span>Sun hour angle<span class=\"es0\">\\t</span> Dial hour line angle\"</span><br/>\u00a0<br/><span class=\"kw1\">for</span> hour <span class=\"kw1\">in</span> <span class=\"sy0\">-</span><span class=\"nu0\">6</span>..<span class=\"nu0\">6</span> <span class=\"kw1\">do</span><br/>    <span class=\"kw1\">let</span> clockHour <span class=\"sy0\">=</span> <span class=\"kw1\">if</span> hour <span class=\"sy0\">&lt;</span> <span class=\"nu0\">0</span> <span class=\"kw1\">then</span> <a href=\"http://research.microsoft.com/en-us/um/cambridge/projects/fsharp/manual/namespaces.html\"><span class=\"kw2\">String</span></a>.<span class=\"me1\">Format</span><span class=\"br0\">(</span><span class=\"st0\">\"{0}AM\"</span>,Math.<span class=\"me1\">Abs</span><span class=\"br0\">(</span>hour<span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"kw1\">else</span> <a href=\"http://research.microsoft.com/en-us/um/cambridge/projects/fsharp/manual/namespaces.html\"><span class=\"kw2\">String</span></a>.<span class=\"me1\">Format</span><span class=\"br0\">(</span><span class=\"st0\">\"{0}PM\"</span>,hour<span class=\"br0\">)</span><br/>    <span class=\"kw1\">let</span> shr <span class=\"sy0\">=</span> <span class=\"nu0\">15.0</span><span class=\"sy0\">*</span><span class=\"br0\">(</span><span class=\"kw4\">float</span><span class=\"br0\">)</span>hour <span class=\"sy0\">-</span> <span class=\"br0\">(</span>longitude <span class=\"sy0\">-</span> meridian<span class=\"br0\">)</span><br/>    <span class=\"kw1\">let</span> dhla <span class=\"sy0\">=</span> Math.<span class=\"me1\">Atan</span><span class=\"br0\">(</span>sineLatitude<span class=\"sy0\">*</span>Math.<span class=\"me1\">Tan</span><span class=\"br0\">(</span>shr<span class=\"sy0\">*</span>Degrees<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">/</span>Degrees<span class=\"sy0\">;</span><br/>    Console.<span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"{0}<span class=\"es0\">\\t</span><span class=\"es0\">\\t</span>{1}<span class=\"es0\">\\t</span><span class=\"es0\">\\t</span>{2:0.000}\"</span>,clockHour,shr,dhla<span class=\"br0\">)</span><br/><span class=\"kw1\">done</span><br/>\u00a0<br/><span class=\"co1\">//To keep the console window open, can be omitted with block comment (\" (* comment *) \")</span><br/>Console.<span class=\"me1\">WriteLine</span><span class=\"br0\">(</span><span class=\"st0\">\"Press any key to continue...\"</span><span class=\"br0\">)</span><br/>Console.<span class=\"me1\">ReadKey</span><span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"sy0\">|&gt;</span> <span class=\"kw3\">ignore</span></pre>"}, {"lang": "Forth", "loc": 19, "block": "<pre class=\"text highlighted_source\">: faccept ( -- f )<br/>  pad 32 accept pad swap &gt;float 0= throw\u00a0;<br/>: &gt;radians ( deg -- rad ) 180e f/ pi f*\u00a0;<br/>: &gt;degrees ( rad -- deg ) pi f/ 180e f*\u00a0;<br/>: sundial<br/>  cr .\" Enter latitude: \"<br/>  faccept &gt;radians fsin<br/>  cr .\" Enter longitude: \"<br/>  faccept<br/>  cr .\" Enter legal meridian: \"<br/>  faccept f- fnegate   ( sin[latitude] -longitude )<br/>\u00a0<br/>  cr .\" Hour\u00a0: HourAngle , DialAngle\"<br/>  7 -6 do<br/>    cr i 4 .r .\"\u00a0: \"<br/>    fover fover i 15 * s&gt;d d&gt;f f+<br/>    fdup f. .\" , \"<br/>    &gt;radians fsincos fswap frot f* fswap fatan2 &gt;degrees f.<br/>  loop fdrop fdrop\u00a0;</pre>"}, {"lang": "Fortran", "loc": 45, "block": "<pre class=\"fortran highlighted_source\"><span class=\"kw1\">program</span> SunDial<br/>\u00a0<br/>  <span class=\"kw3\">real</span>    <span class=\"sy0\">::</span> <span class=\"me2\">lat</span>, slat, lng, ref<br/>  <span class=\"kw3\">real</span>    <span class=\"sy0\">::</span> <span class=\"me2\">hra</span>, hla<br/>  <span class=\"kw3\">integer</span> <span class=\"sy0\">::</span> <span class=\"me2\">h</span><br/>\u00a0<br/>  <span class=\"kw3\">real</span>, <span class=\"kw3\">parameter</span> <span class=\"sy0\">::</span> <span class=\"me2\">pi</span> <span class=\"sy0\">=</span> <span class=\"nu0\">3.14159265358979323846</span><br/>\u00a0<br/>  print <span class=\"sy0\">*</span>, <span class=\"st0\">\"Enter latitude\"</span><br/>  read <span class=\"sy0\">*</span>, lat<br/>  print <span class=\"sy0\">*</span>, <span class=\"st0\">\"Enter longitude\"</span><br/>  read <span class=\"sy0\">*</span>, lng<br/>  print <span class=\"sy0\">*</span>, <span class=\"st0\">\"Enter legal meridian\"</span><br/>  read <span class=\"sy0\">*</span>, ref<br/>\u00a0<br/>  print <span class=\"sy0\">*</span><br/>\u00a0<br/>  slat <span class=\"sy0\">=</span> <span class=\"kw4\">sin</span><span class=\"br0\">(</span>dr<span class=\"br0\">(</span>lat<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>  write<span class=\"br0\">(</span><span class=\"sy0\">*</span>, <span class=\"st0\">'(A,1F6.3)'</span><span class=\"br0\">)</span> <span class=\"st0\">\"sine of latitude: \"</span>, slat<br/>  write<span class=\"br0\">(</span><span class=\"sy0\">*</span>, <span class=\"st0\">'(A,1F6.3)'</span><span class=\"br0\">)</span> <span class=\"st0\">\"diff longitude: \"</span>, lng <span class=\"sy0\">-</span> ref<br/>\u00a0<br/>  print <span class=\"sy0\">*</span>, <span class=\"st0\">\"Hour, sun hour angle, dial hour line angle from 6am to 6pm\"</span><br/>\u00a0<br/>  <span class=\"kw1\">do</span> h <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">6</span>, <span class=\"nu0\">6</span><br/>     hra <span class=\"sy0\">=</span> <span class=\"nu0\">15.0</span><span class=\"sy0\">*</span>h<br/>     hra <span class=\"sy0\">=</span> hra <span class=\"sy0\">-</span> lng <span class=\"sy0\">+</span> ref<br/>     hla <span class=\"sy0\">=</span> rd<span class=\"br0\">(</span> <span class=\"kw4\">atan</span><span class=\"br0\">(</span> slat <span class=\"sy0\">*</span> <span class=\"kw4\">tan</span><span class=\"br0\">(</span> dr<span class=\"br0\">(</span>hra<span class=\"br0\">)</span> <span class=\"br0\">)</span> <span class=\"br0\">)</span> <span class=\"br0\">)</span><br/>     write<span class=\"br0\">(</span><span class=\"sy0\">*</span>, <span class=\"st0\">'(\" HR= \",I3,\";  <span class=\"es0\">\\t</span>  HRA=\",F7.3,\";  <span class=\"es0\">\\t</span>  HLA= \", F7.3)'</span><span class=\"br0\">)</span>, h, hra, hla<br/>  <span class=\"kw1\">end</span> <span class=\"kw1\">do</span><br/>\u00a0<br/><span class=\"co1\">contains</span><br/>\u00a0<br/>  <span class=\"kw1\">function</span> dr<span class=\"br0\">(</span>angle<span class=\"br0\">)</span><br/>    <span class=\"kw3\">real</span> <span class=\"sy0\">::</span> <span class=\"me2\">dr</span><br/>    <span class=\"kw3\">real</span>, <span class=\"kw3\">intent</span><span class=\"br0\">(</span><span class=\"kw3\">in</span><span class=\"br0\">)</span> <span class=\"sy0\">::</span> <span class=\"me2\">angle</span><br/>    dr <span class=\"sy0\">=</span> angle<span class=\"sy0\">*</span>pi<span class=\"sy0\">/</span><span class=\"nu0\">180.0</span><br/>  <span class=\"kw1\">end</span> <span class=\"kw1\">function</span> dr<br/>\u00a0<br/>  <span class=\"kw1\">function</span> rd<span class=\"br0\">(</span>angle<span class=\"br0\">)</span><br/>    <span class=\"kw3\">real</span> <span class=\"sy0\">::</span> <span class=\"me2\">rd</span><br/>    <span class=\"kw3\">real</span>, <span class=\"kw3\">intent</span><span class=\"br0\">(</span><span class=\"kw3\">in</span><span class=\"br0\">)</span> <span class=\"sy0\">::</span> <span class=\"me2\">angle</span><br/>    rd <span class=\"sy0\">=</span> angle<span class=\"sy0\">*</span><span class=\"nu0\">180.0</span><span class=\"sy0\">/</span>pi<br/>  <span class=\"kw1\">end</span> <span class=\"kw1\">function</span> rd<br/>\u00a0<br/><span class=\"kw1\">end</span> <span class=\"kw1\">program</span> SunDial</pre>"}, {"lang": "freeBASIC", "loc": 35, "block": "<pre class=\"freebasic highlighted_source\"><span class=\"co1\">' version 04-11-2016</span><br/><span class=\"co1\">' compile with: fbc -s console</span><br/>\u00a0<br/><span class=\"co2\">#Macro deg2rad (x)</span><br/>    <span class=\"br0\">(</span>x<span class=\"br0\">)</span> * <span class=\"kw1\">Atn</span><span class=\"br0\">(</span><span class=\"nu0\">1</span><span class=\"br0\">)</span> / <span class=\"nu0\">45</span><br/><span class=\"co2\">#EndMacro</span><br/>\u00a0<br/><span class=\"co2\">#Macro rad2deg (x)</span><br/>    <span class=\"br0\">(</span>x<span class=\"br0\">)</span> * <span class=\"nu0\">45</span> / <span class=\"kw1\">Atn</span><span class=\"br0\">(</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><br/><span class=\"co2\">#EndMacro</span><br/>\u00a0<br/><span class=\"co1\">' ------=&lt; MAIN &gt;=------</span><br/>\u00a0<br/><span class=\"kw1\">Dim</span> <span class=\"kw1\">As</span> <span class=\"kw1\">Double</span> latitude, longitude, meridian, hra, hla<br/><span class=\"kw1\">Dim</span> <span class=\"kw1\">As</span> ULong h<br/>\u00a0<br/><span class=\"kw1\">Input</span> <span class=\"st0\">\"      Enter latitude (degrees): \"</span>, latitude<br/><span class=\"kw1\">Input</span> <span class=\"st0\">\"     Enter longitude (degrees): \"</span>, longitude<br/><span class=\"kw1\">Input</span> <span class=\"st0\">\"Enter legal meridian (degrees): \"</span>, meridian<br/>\u00a0<br/><span class=\"kw1\">Print</span><br/><span class=\"kw1\">Print</span> <span class=\"st0\">\" Time  Sun hour angle  Dial hour line angle\"</span><br/>\u00a0<br/><span class=\"kw1\">For</span> h = <span class=\"nu0\">6</span> <span class=\"kw1\">To</span> <span class=\"nu0\">18</span><br/>    hra = h * <span class=\"nu0\">15</span> - longitude + meridian - <span class=\"nu0\">180</span><br/>    hla = rad2deg<span class=\"br0\">(</span><span class=\"kw1\">Atn</span><span class=\"br0\">(</span><span class=\"kw1\">Sin</span><span class=\"br0\">(</span>deg2rad<span class=\"br0\">(</span>latitude<span class=\"br0\">)</span><span class=\"br0\">)</span> * <span class=\"kw1\">Tan</span><span class=\"br0\">(</span>deg2rad<span class=\"br0\">(</span>hra<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>    <span class=\"kw1\">If</span> Abs<span class=\"br0\">(</span>hra<span class=\"br0\">)</span> &gt; <span class=\"nu0\">90</span> <span class=\"kw1\">Then</span> hla += <span class=\"nu0\">180</span> * <span class=\"kw1\">Sgn</span><span class=\"br0\">(</span>hra * latitude<span class=\"br0\">)</span><br/>    <span class=\"kw1\">Print</span> <span class=\"kw1\">Using</span> <span class=\"st0\">\"##.##     ####.###         ####.###\"</span>; h; hra; hla<br/><span class=\"kw1\">Next</span><br/>\u00a0<br/><span class=\"co1\">' empty keyboard buffer</span><br/><span class=\"kw1\">While</span> <span class=\"kw1\">InKey</span> &lt;&gt; <span class=\"st0\">\"\"</span>\u00a0: <span class=\"kw1\">Wend</span><br/><span class=\"kw1\">Print</span>\u00a0: <span class=\"kw1\">Print</span> <span class=\"st0\">\"hit any key to end program\"</span><br/><span class=\"kw1\">Sleep</span><br/><span class=\"kw1\">End</span></pre>"}, {"lang": "FutureBasic", "loc": 28, "block": "<pre class=\"text highlighted_source\">\u00a0<br/>include \"ConsoleWindow\"<br/>\u00a0<br/>local fn rad2deg( theta as double ) as double<br/>end fn = theta * 180 / pi<br/>\u00a0<br/>local fn deg2rad( theta as double ) as double<br/>end fn = theta * pi / 180<br/>\u00a0<br/>local fn SolarHourAngle( latitude as double, longitude as double, meridian as double )<br/>dim as long hour<br/>dim as double hra, hla, time<br/>dim as Str15 ap<br/>\u00a0<br/>print \"Latitude  = \"; latitude; chr$(13); \"Longitude = \"; longitude; chr$(13); \"Meridian  = \"; meridian<br/>print\u00a0: print \"sine of latitude: \"; sin(latitude * pi / 180 ); chr$(13); \"  diff longitude: \"; longitude - meridian<br/>print\u00a0: print \"Time\", \"Sun hour angle\", \"Dial hour line angle\"<br/>for hour = 6 to 18<br/>hra = ( 15 * hour ) - longitude + meridian - 180<br/>hla = fn rad2deg( atn( sin( fn deg2rad( latitude ) ) * tan( fn deg2rad( hra ) )))<br/>if abs( hra ) &gt; 90 then hla = hla + 180 * sgn( hra * latitude )<br/>if hour &gt; 12 then time = hour - 12\u00a0: ap = \" a.m.\" else time = hour\u00a0: ap = \" p.m.\"<br/>print using \"##\"; time; ap, using \"####.##\"; hra, using \"####.###\"; hla<br/>next hour<br/>end fn<br/>\u00a0<br/>fn SolarHourAngle( -4.95, -150.5, -150.0 )<br/>\u00a0</pre>"}, {"lang": "Go", "loc": 33, "block": "<pre class=\"go highlighted_source\"><span class=\"kw1\">package</span> main<br/>\u00a0<br/><span class=\"kw1\">import</span> <span class=\"sy1\">(</span><br/>    <span class=\"st0\">\"fmt\"</span><br/>    <span class=\"st0\">\"math\"</span><br/>    <span class=\"st0\">\"os\"</span><br/><span class=\"sy1\">)</span><br/>\u00a0<br/><span class=\"kw4\">func</span> getnum<span class=\"sy1\">(</span>prompt <span class=\"kw4\">string</span><span class=\"sy1\">)</span> <span class=\"sy1\">(</span>r <span class=\"kw4\">float64</span><span class=\"sy1\">)</span> <span class=\"sy1\">{</span><br/>    fmt<span class=\"sy3\">.</span>Print<span class=\"sy1\">(</span>prompt<span class=\"sy1\">)</span><br/>    <span class=\"kw1\">if</span> _<span class=\"sy1\">,</span> err <span class=\"sy2\">:=</span> fmt<span class=\"sy3\">.</span>Scan<span class=\"sy1\">(</span>&amp;r<span class=\"sy1\">);</span> err <span class=\"sy2\">!=</span> <span class=\"kw2\">nil</span> <span class=\"sy1\">{</span><br/>        fmt<span class=\"sy3\">.</span>Println<span class=\"sy1\">(</span>err<span class=\"sy1\">)</span><br/>        os<span class=\"sy3\">.</span>Exit<span class=\"sy1\">(</span><span class=\"sy3\">-</span><span class=\"nu0\">1</span><span class=\"sy1\">)</span><br/>    <span class=\"sy1\">}</span><br/>    <span class=\"kw1\">return</span><br/><span class=\"sy1\">}</span><br/>\u00a0<br/><span class=\"kw4\">func</span> main<span class=\"sy1\">()</span> <span class=\"sy1\">{</span><br/>    lat <span class=\"sy2\">:=</span> getnum<span class=\"sy1\">(</span><span class=\"st0\">\"Enter latitude       =&gt; \"</span><span class=\"sy1\">)</span><br/>    lng <span class=\"sy2\">:=</span> getnum<span class=\"sy1\">(</span><span class=\"st0\">\"Enter longitude      =&gt; \"</span><span class=\"sy1\">)</span><br/>    ref <span class=\"sy2\">:=</span> getnum<span class=\"sy1\">(</span><span class=\"st0\">\"Enter legal meridian =&gt; \"</span><span class=\"sy1\">)</span><br/>    slat <span class=\"sy2\">:=</span> math<span class=\"sy3\">.</span>Sin<span class=\"sy1\">(</span>lat <span class=\"sy3\">*</span> math<span class=\"sy3\">.</span>Pi <span class=\"sy3\">/</span> <span class=\"nu0\">180</span><span class=\"sy1\">)</span><br/>    diff <span class=\"sy2\">:=</span> lng <span class=\"sy3\">-</span> ref<br/>    fmt<span class=\"sy3\">.</span>Println<span class=\"sy1\">(</span><span class=\"st0\">\"<span class=\"es1\">\\n</span>    sine of latitude:   \"</span><span class=\"sy1\">,</span> slat<span class=\"sy1\">)</span><br/>    fmt<span class=\"sy3\">.</span><span class=\"me1\">Println</span><span class=\"sy1\">(</span><span class=\"st0\">\"    diff longitude:     \"</span><span class=\"sy1\">,</span> diff<span class=\"sy1\">)</span><br/>    fmt<span class=\"sy3\">.</span><span class=\"me1\">Println</span><span class=\"sy1\">(</span><span class=\"st0\">\"<span class=\"es1\">\\n</span>Hour, sun hour angle, dial hour line angle from 6am to 6pm\"</span><span class=\"sy1\">)</span><br/>    <span class=\"kw1\">for</span> h <span class=\"sy2\">:=</span> <span class=\"sy3\">-</span><span class=\"nu0\">6</span><span class=\"sy3\">.</span><span class=\"sy1\">;</span> h &lt;<span class=\"sy2\">=</span> <span class=\"nu0\">6</span><span class=\"sy1\">;</span> h<span class=\"sy2\">++</span> <span class=\"sy1\">{</span><br/>        hra <span class=\"sy2\">:=</span> <span class=\"nu0\">15</span><span class=\"sy3\">*</span>h <span class=\"sy3\">-</span> diff<br/>        s<span class=\"sy1\">,</span> c <span class=\"sy2\">:=</span> math<span class=\"sy3\">.</span>Sincos<span class=\"sy1\">(</span>hra <span class=\"sy3\">*</span> math<span class=\"sy3\">.</span>Pi <span class=\"sy3\">/</span> <span class=\"nu0\">180</span><span class=\"sy1\">)</span><br/>        hla <span class=\"sy2\">:=</span> math<span class=\"sy3\">.</span>Atan2<span class=\"sy1\">(</span>slat<span class=\"sy3\">*</span>s<span class=\"sy1\">,</span> c<span class=\"sy1\">)</span> <span class=\"sy3\">*</span> <span class=\"nu0\">180</span> <span class=\"sy3\">/</span> math<span class=\"sy3\">.</span>Pi<br/>        fmt<span class=\"sy3\">.</span>Printf<span class=\"sy1\">(</span><span class=\"st0\">\"%2.0f\u00a0%8.3f\u00a0%8.3f<span class=\"es1\">\\n</span>\"</span><span class=\"sy1\">,</span> h<span class=\"sy1\">,</span> hra<span class=\"sy1\">,</span> hla<span class=\"sy1\">)</span><br/>    <span class=\"sy1\">}</span><br/><span class=\"sy1\">}</span></pre>"}, {"lang": "GW-BASIC", "loc": 25, "block": "<pre class=\"qbasic highlighted_source\"><span class=\"co3\"><br/>10</span>  <span class=\"co1\">' Horizontal sundial calculations</span><br/><span class=\"co3\">20</span>  <a href=\"http://www.qbasicnews.com/qboho/qckprint.shtml\"><span class=\"kw3\">PRINT</span></a> <span class=\"st0\">\"Enter latitude       =&gt; \"</span>;<br/><span class=\"co3\">30</span>  <a href=\"http://www.qbasicnews.com/qboho/qckinput.shtml\"><span class=\"kw3\">INPUT</span></a> LAT<br/><span class=\"co3\">40</span>  <a href=\"http://www.qbasicnews.com/qboho/qckprint.shtml\"><span class=\"kw3\">PRINT</span></a> <span class=\"st0\">\"Enter longitude      =&gt; \"</span>;<br/><span class=\"co3\">50</span>  <a href=\"http://www.qbasicnews.com/qboho/qckinput.shtml\"><span class=\"kw3\">INPUT</span></a> LNG<br/><span class=\"co3\">60</span>  <a href=\"http://www.qbasicnews.com/qboho/qckprint.shtml\"><span class=\"kw3\">PRINT</span></a> <span class=\"st0\">\"Enter legal meridian =&gt; \"</span>;<br/><span class=\"co3\">70</span>  <a href=\"http://www.qbasicnews.com/qboho/qckinput.shtml\"><span class=\"kw3\">INPUT</span></a> REF<br/><span class=\"co3\">80</span>  <a href=\"http://www.qbasicnews.com/qboho/qckprint.shtml\"><span class=\"kw3\">PRINT</span></a><br/><span class=\"co3\">90</span>  <a href=\"http://www.qbasicnews.com/qboho/qcklet.shtml\"><span class=\"kw3\">LET</span></a> PI <span class=\"sy0\">=</span> <span class=\"nu0\">4</span> <span class=\"sy0\">*</span> <a href=\"http://www.qbasicnews.com/qboho/qckatn.shtml\"><span class=\"kw3\">ATN</span></a><span class=\"br0\">(</span><span class=\"nu0\">1</span><span class=\"br0\">)</span><br/><span class=\"co3\">100</span> <a href=\"http://www.qbasicnews.com/qboho/qcklet.shtml\"><span class=\"kw3\">LET</span></a> SLAT <span class=\"sy0\">=</span> <a href=\"http://www.qbasicnews.com/qboho/qcksin.shtml\"><span class=\"kw3\">SIN</span></a><span class=\"br0\">(</span>LAT <span class=\"sy0\">*</span> PI <span class=\"sy0\">/</span> <span class=\"nu0\">180</span><span class=\"br0\">)</span><br/><span class=\"co3\">110</span> <a href=\"http://www.qbasicnews.com/qboho/qckprint.shtml\"><span class=\"kw3\">PRINT</span></a> <span class=\"st0\">\"    sine of latitude:   \"</span>; <a href=\"http://www.qbasicnews.com/qboho/qckusing.shtml\"><span class=\"kw3\">USING</span></a> <span class=\"st0\">\"#.##^^^^\"</span>; SLAT<br/><span class=\"co3\">120</span> <a href=\"http://www.qbasicnews.com/qboho/qckprint.shtml\"><span class=\"kw3\">PRINT</span></a> <span class=\"st0\">\"    diff longitude:     \"</span>; <a href=\"http://www.qbasicnews.com/qboho/qckusing.shtml\"><span class=\"kw3\">USING</span></a> <span class=\"st0\">\"####.###\"</span>; LNG <span class=\"sy0\">-</span> REF<br/><span class=\"co3\">130</span> <a href=\"http://www.qbasicnews.com/qboho/qckprint.shtml\"><span class=\"kw3\">PRINT</span></a><br/><span class=\"co3\">140</span> <a href=\"http://www.qbasicnews.com/qboho/qckprint.shtml\"><span class=\"kw3\">PRINT</span></a> <span class=\"st0\">\"Hour, sun hour angle, dial hour line angle from 6am to 6pm\"</span><br/><span class=\"co3\">150</span> <span class=\"kw1\">FOR</span> H% <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">6</span> <span class=\"kw1\">TO</span> <span class=\"nu0\">6</span> <br/><span class=\"co3\">160</span>  <a href=\"http://www.qbasicnews.com/qboho/qcklet.shtml\"><span class=\"kw3\">LET</span></a> HRA <span class=\"sy0\">=</span> <span class=\"nu0\">15</span> <span class=\"sy0\">*</span> H%<br/><span class=\"co3\">170</span>  <a href=\"http://www.qbasicnews.com/qboho/qcklet.shtml\"><span class=\"kw3\">LET</span></a> HRA <span class=\"sy0\">=</span> HRA <span class=\"sy0\">-</span> <span class=\"br0\">(</span>LNG <span class=\"sy0\">-</span> REF<span class=\"br0\">)</span>: <span class=\"co1\">' correct for longitude difference</span><br/><span class=\"co3\">180</span>  <a href=\"http://www.qbasicnews.com/qboho/qcklet.shtml\"><span class=\"kw3\">LET</span></a> HLA <span class=\"sy0\">=</span> <a href=\"http://www.qbasicnews.com/qboho/qckatn.shtml\"><span class=\"kw3\">ATN</span></a><span class=\"br0\">(</span>SLAT <span class=\"sy0\">*</span> <a href=\"http://www.qbasicnews.com/qboho/qcktan.shtml\"><span class=\"kw3\">TAN</span></a><span class=\"br0\">(</span>HRA <span class=\"sy0\">*</span> PI <span class=\"sy0\">/</span> <span class=\"nu0\">180</span><span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"sy0\">*</span> <span class=\"nu0\">180</span> <span class=\"sy0\">/</span> PI<br/><span class=\"co3\">190</span>  <a href=\"http://www.qbasicnews.com/qboho/qckprint.shtml\"><span class=\"kw3\">PRINT</span></a> <span class=\"st0\">\"HR=\"</span>; <a href=\"http://www.qbasicnews.com/qboho/qckusing.shtml\"><span class=\"kw3\">USING</span></a> <span class=\"st0\">\"+##\"</span>; H%;<br/><span class=\"co3\">200</span>  <a href=\"http://www.qbasicnews.com/qboho/qckprint.shtml\"><span class=\"kw3\">PRINT</span></a> <span class=\"st0\">\"; HRA=\"</span>; <a href=\"http://www.qbasicnews.com/qboho/qckusing.shtml\"><span class=\"kw3\">USING</span></a> <span class=\"st0\">\"+###.###\"</span>; HRA;<br/><span class=\"co3\">210</span>  <a href=\"http://www.qbasicnews.com/qboho/qckprint.shtml\"><span class=\"kw3\">PRINT</span></a> <span class=\"st0\">\"; HLA=\"</span>; <a href=\"http://www.qbasicnews.com/qboho/qckusing.shtml\"><span class=\"kw3\">USING</span></a> <span class=\"st0\">\"+###.###\"</span>; HLA<br/><span class=\"co3\">220</span> <span class=\"kw1\">NEXT</span> H%<br/><span class=\"co3\">230</span> <a href=\"http://www.qbasicnews.com/qboho/qckend.shtml\"><span class=\"kw3\">END</span></a><br/>\u00a0</pre>"}, {"lang": "Haskell", "loc": 28, "block": "<pre class=\"haskell highlighted_source\"><span class=\"kw1\">module</span> Rosetta<span class=\"sy0\">.</span>HorSunDial <span class=\"kw1\">where</span><br/>\u00a0<br/>roundDec <span class=\"sy0\">::</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:Int\"><span class=\"kw4\">Int</span></a> <span class=\"sy0\">-&gt;</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:Double\"><span class=\"kw4\">Double</span></a> <span class=\"sy0\">-&gt;</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:Double\"><span class=\"kw4\">Double</span></a><br/>roundDec d <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"sy0\">/</span><span class=\"nu0\">10.0</span><span class=\"sy0\">^</span>d<span class=\"br0\">)</span><span class=\"sy0\">.</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:fromIntegral\"><span class=\"kw3\">fromIntegral</span></a><span class=\"sy0\">.</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:round\"><span class=\"kw3\">round</span></a><span class=\"sy0\">.</span> <span class=\"br0\">(</span><span class=\"sy0\">*</span><span class=\"nu0\">10.0</span><span class=\"sy0\">^</span>d<span class=\"br0\">)</span><br/>\u00a0<br/>radToDegr <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"br0\">(</span><span class=\"nu0\">180</span><span class=\"sy0\">/</span><a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:pi\"><span class=\"kw3\">pi</span></a><span class=\"br0\">)</span><span class=\"sy0\">*</span><span class=\"br0\">)</span><br/>degrToRad <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"br0\">(</span><a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:pi\"><span class=\"kw3\">pi</span></a><span class=\"sy0\">/</span><span class=\"nu0\">180</span><span class=\"br0\">)</span><span class=\"sy0\">*</span><span class=\"br0\">)</span><br/>\u00a0<br/>main <span class=\"sy0\">=</span> <span class=\"kw1\">do</span><br/>  <span class=\"kw1\">let</span> lat        <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">4.95</span><br/>      long       <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">150.5</span><br/>      legalMerid <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">150</span><br/>      sinOfLat   <span class=\"sy0\">=</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:sin\"><span class=\"kw3\">sin</span></a> <span class=\"sy0\">$</span> degrToRad lat<br/>      diff       <span class=\"sy0\">=</span> legalMerid <span class=\"sy0\">-</span> long<br/>\u00a0<br/>  <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:putStrLn\"><span class=\"kw3\">putStrLn</span></a> <span class=\"sy0\">$</span> <span class=\"st0\">\"Latitude         \"</span> <span class=\"sy0\">++</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:show\"><span class=\"kw3\">show</span></a> lat<br/>  <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:putStrLn\"><span class=\"kw3\">putStrLn</span></a> <span class=\"sy0\">$</span> <span class=\"st0\">\"Longitude        \"</span> <span class=\"sy0\">++</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:show\"><span class=\"kw3\">show</span></a> long<br/>  <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:putStrLn\"><span class=\"kw3\">putStrLn</span></a> <span class=\"sy0\">$</span> <span class=\"st0\">\"Legal meridian   \"</span> <span class=\"sy0\">++</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:show\"><span class=\"kw3\">show</span></a> legalMerid<br/>  <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:putStrLn\"><span class=\"kw3\">putStrLn</span></a> <span class=\"sy0\">$</span> <span class=\"st0\">\"Sine of latitude \"</span> <span class=\"sy0\">++</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:show\"><span class=\"kw3\">show</span></a> <span class=\"br0\">(</span>roundDec <span class=\"nu0\">6</span> sinOfLat<span class=\"br0\">)</span><br/>  <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:putStrLn\"><span class=\"kw3\">putStrLn</span></a> <span class=\"sy0\">$</span> <span class=\"st0\">\"Diff longitude   \"</span> <span class=\"sy0\">++</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:show\"><span class=\"kw3\">show</span></a> <span class=\"br0\">(</span><span class=\"sy0\">-</span>diff<span class=\"br0\">)</span><br/>  <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:putStrLn\"><span class=\"kw3\">putStrLn</span></a> <span class=\"st0\">\"hour   sun hour angle   dial hour  line angle\"</span><br/>  <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:mapM_\"><span class=\"kw3\">mapM_</span></a> <span class=\"br0\">(</span>\\h <span class=\"sy0\">-&gt;</span> <br/>\t  <span class=\"kw1\">let</span> sha  <span class=\"sy0\">=</span> diff <span class=\"sy0\">+</span> <span class=\"nu0\">15</span><span class=\"sy0\">*</span>h<br/>\t      dhla <span class=\"sy0\">=</span> radToDegr <span class=\"sy0\">.</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:atan\"><span class=\"kw3\">atan</span></a><span class=\"sy0\">.</span> <span class=\"br0\">(</span>sinOfLat <span class=\"sy0\">*</span><span class=\"br0\">)</span><span class=\"sy0\">.</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:tan\"><span class=\"kw3\">tan</span></a> <span class=\"sy0\">$</span> degrToRad sha<br/>\t  <span class=\"kw1\">in</span>  <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:putStrLn\"><span class=\"kw3\">putStrLn</span></a> <span class=\"sy0\">$</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:take\"><span class=\"kw3\">take</span></a> <span class=\"nu0\">7</span> <span class=\"br0\">(</span><a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:show\"><span class=\"kw3\">show</span></a> h <span class=\"sy0\">++</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:repeat\"><span class=\"kw3\">repeat</span></a> <span class=\"st0\">' '</span><span class=\"br0\">)</span> <br/>\t\t\t    <span class=\"sy0\">++</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:take\"><span class=\"kw3\">take</span></a> <span class=\"nu0\">16</span> <span class=\"br0\">(</span><a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:show\"><span class=\"kw3\">show</span></a> <span class=\"br0\">(</span>roundDec <span class=\"nu0\">3</span> sha<span class=\"br0\">)</span> <span class=\"sy0\">++</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:repeat\"><span class=\"kw3\">repeat</span></a> <span class=\"st0\">' '</span> <span class=\"br0\">)</span><br/>\t\t\t    <span class=\"sy0\">++</span> <span class=\"st0\">\" \"</span> <span class=\"sy0\">++</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:show\"><span class=\"kw3\">show</span></a> <span class=\"br0\">(</span>roundDec <span class=\"nu0\">3</span> dhla<span class=\"br0\">)</span><br/>\t  <span class=\"br0\">)</span> <span class=\"br0\">[</span><span class=\"sy0\">-</span><span class=\"nu0\">6</span><span class=\"sy0\">,-</span><span class=\"nu0\">5</span><span class=\"sy0\">..</span><span class=\"nu0\">6</span><span class=\"br0\">]</span></pre>"}, {"lang": "Icon and Unicon", "loc": 24, "block": "<pre class=\"icon highlighted_source\"><span class=\"kw1\">procedure</span> main<span class=\"br0\">(</span><span class=\"br0\">)</span><br/>   PrintSundial<span class=\"br0\">(</span><span class=\"sy1\">-</span><span class=\"nu0\">4.95</span><span class=\"sy1\">,</span> <span class=\"sy1\">-</span><span class=\"nu0\">150.5</span><span class=\"sy1\">,</span> <span class=\"sy1\">-</span><span class=\"nu0\">150</span><span class=\"br0\">)</span><span class=\"sy1\">;</span><br/><span class=\"kw1\">end</span><br/>\u00a0<br/><span class=\"kw1\">procedure</span> PrintSundial<span class=\"br0\">(</span>lat<span class=\"sy1\">,</span> lng<span class=\"sy1\">,</span> mer <span class=\"br0\">)</span><br/>   <span class=\"kw4\">write</span><span class=\"br0\">(</span><span class=\"st0\">\"latitude:        \"</span><span class=\"sy1\">,</span> lat<span class=\"sy1\">,</span><br/>         <span class=\"st0\">\"<span class=\"es0\">\\n</span>longitude:       \"</span><span class=\"sy1\">,</span> lng<span class=\"sy1\">,</span><br/>         <span class=\"st0\">\"<span class=\"es0\">\\n</span>legal meridian:  \"</span><span class=\"sy1\">,</span> mer<span class=\"br0\">)</span><br/>\u00a0<br/>   slat <span class=\"sy1\">:=</span> sin<span class=\"br0\">(</span><span class=\"kw4\">dtor</span><span class=\"br0\">(</span>lat<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>\u00a0<br/>   <span class=\"kw4\">write</span><span class=\"br0\">(</span><span class=\"st0\">\"sine of latitude: \"</span><span class=\"sy1\">,</span>slat<span class=\"sy1\">,</span><br/>         <span class=\"st0\">\"<span class=\"es0\">\\n</span>diff longitude:   \"</span><span class=\"sy1\">,</span> lng<span class=\"sy1\">-</span>mer<span class=\"br0\">)</span><br/>   <span class=\"kw4\">write</span><span class=\"br0\">(</span><span class=\"st0\">\"<span class=\"es0\">\\n</span>Hour, sun hour angle, dial hour line angle from 6am to 6pm\"</span><span class=\"br0\">)</span><br/>\u00a0<br/>   <span class=\"kw1\">every</span> h <span class=\"sy1\">:=</span> <span class=\"sy1\">-</span><span class=\"nu0\">6</span> <span class=\"kw1\">to</span> <span class=\"nu0\">6</span> <span class=\"kw1\">do</span> <span class=\"br0\">{</span><br/>      hraRad <span class=\"sy1\">:=</span> <span class=\"kw4\">dtor</span><span class=\"br0\">(</span>hra <span class=\"sy1\">:=</span> <span class=\"nu0\">15</span> <span class=\"sy1\">*</span> h <span class=\"sy1\">-</span> <span class=\"br0\">(</span>lng <span class=\"sy1\">-</span> mer<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>      hla <span class=\"sy1\">:=</span><span class=\"kw4\">rtod</span><span class=\"br0\">(</span><span class=\"kw4\">atan</span><span class=\"br0\">(</span>sin<span class=\"br0\">(</span>hraRad<span class=\"br0\">)</span><span class=\"sy1\">*</span>slat<span class=\"sy1\">,</span> <span class=\"kw4\">cos</span><span class=\"br0\">(</span>hraRad<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>      <span class=\"kw4\">write</span><span class=\"br0\">(</span><span class=\"st0\">\"HR=\"</span><span class=\"sy1\">,</span><br/>            <span class=\"kw4\">right</span><span class=\"br0\">(</span><span class=\"kw1\">if</span> h <span class=\"sy1\">&lt;=</span> <span class=\"nu0\">0</span> <span class=\"kw1\">then</span> <span class=\"nu0\">12</span><span class=\"sy1\">+</span>h <span class=\"kw1\">else</span> h<span class=\"sy1\">,</span><span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"sy1\">,</span><br/>            <span class=\"kw1\">if</span> h <span class=\"sy1\">&lt;</span> <span class=\"nu0\">0</span> <span class=\"kw1\">then</span> <span class=\"st0\">\"am\"</span> <span class=\"kw1\">else</span> <span class=\"st0\">\"pm\"</span><span class=\"sy1\">,</span><br/>            <span class=\"st0\">\" HRA=\"</span><span class=\"sy1\">,</span>hra<span class=\"sy1\">,</span><span class=\"st0\">\", HLA=\"</span><span class=\"sy1\">,</span>hla<span class=\"br0\">)</span><br/>      <span class=\"br0\">}</span><br/><span class=\"kw1\">end</span></pre>"}, {"lang": "J", "loc": 15, "block": "<pre class=\"j highlighted_source\">require <span class=\"st_h\">'trig'</span><br/>atan2=: {:@*<a class=\"__cf_email__\" data-cfemail=\"eac4aa80c4\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a> <span class=\"co1\">NB. arc tangent of y divided by x</span><br/>\u00a0<br/>horiz=: verb define<br/>  <span class=\"st_h\">'lat lng ref'</span>=. <span class=\"kw2\">y</span><br/>  out=. <a class=\"__cf_email__\" data-cfemail=\"f6859b998382868382b6\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>,&amp;\":<br/>  <span class=\"st_h\">'Latitude         '</span> out lat<br/>  <span class=\"st_h\">'Longitude        '</span> out lng<br/>  <span class=\"st_h\">'Legal meridian   '</span> out ref<br/>  <span class=\"st_h\">'Sine of latitude '</span> out slat=. sin rfd lat<br/>  <span class=\"st_h\">'Diff longitude   '</span> out -diff=. ref - lng<br/>  lbl=.<span class=\"st_h\">'hour  '</span>;<span class=\"st_h\">'sun hour angle  '</span>;<span class=\"st_h\">'dial hour line angle'</span><br/>  r=.<span class=\"sy0\">((</span>,. <span class=\"sy0\">(</span>,. <span class=\"sy0\">(</span>atan2 *&amp;slat<span class=\"sy0\">)</span>/@<a class=\"__cf_email__\" data-cfemail=\"715a5f31035f\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>&amp;.rfd<span class=\"sy0\">))</span> diff + <span class=\"nu0\">15</span>&amp;*<span class=\"sy0\">)</span> i:<span class=\"nu0\">6</span><br/>  smoutput lbl ,: <span class=\"sy0\">(</span><span class=\"st_h\">'3.0'</span>;<span class=\"st_h\">'7.3'</span>;<span class=\"st_h\">'7.3'</span><span class=\"sy0\">)</span> <span class=\"nu0\">8</span>!:<span class=\"nu0\">1</span> r<br/><span class=\"sy0\">)</span></pre>"}, {"lang": "Java", "loc": 32, "block": "<pre class=\"java highlighted_source\"><span class=\"kw1\">import</span> <span class=\"co2\">java.util.Scanner</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"kw1\">public</span> <span class=\"kw1\">class</span> Sundial <span class=\"br0\">{</span><br/>    <span class=\"kw1\">public</span> <span class=\"kw1\">static</span> <span class=\"kw4\">void</span> main<span class=\"br0\">(</span><a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">String</span></a><span class=\"br0\">[</span><span class=\"br0\">]</span> args<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>        <span class=\"kw4\">double</span> lat, slat, lng, ref<span class=\"sy0\">;</span><br/>        Scanner sc <span class=\"sy0\">=</span> <span class=\"kw1\">new</span> Scanner<span class=\"br0\">(</span><a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">in</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>        <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">print</span><span class=\"br0\">(</span><span class=\"st0\">\"Enter latitude: \"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        lat <span class=\"sy0\">=</span> sc.<span class=\"me1\">nextDouble</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">print</span><span class=\"br0\">(</span><span class=\"st0\">\"Enter longitude: \"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        lng <span class=\"sy0\">=</span> sc.<span class=\"me1\">nextDouble</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">print</span><span class=\"br0\">(</span><span class=\"st0\">\"Enter legal meridian: \"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        ref <span class=\"sy0\">=</span> sc.<span class=\"me1\">nextDouble</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">println</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>        slat <span class=\"sy0\">=</span> <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Amath+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">Math</span></a>.<span class=\"me1\">sin</span><span class=\"br0\">(</span><a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Amath+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">Math</span></a>.<span class=\"me1\">toRadians</span><span class=\"br0\">(</span>lat<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">printf</span><span class=\"br0\">(</span><span class=\"st0\">\"sine of latitude:\u00a0%.3f<span class=\"es0\">\\n</span>\"</span>, slat<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">printf</span><span class=\"br0\">(</span><span class=\"st0\">\"diff longitude:\u00a0%.3f<span class=\"es0\">\\n</span><span class=\"es0\">\\n</span>\"</span>, lng <span class=\"sy0\">-</span> ref<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>        <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">printf</span><span class=\"br0\">(</span><span class=\"st0\">\"Hour, sun hour angle, dial hour line angle from 6am to 6pm<span class=\"es0\">\\n</span>\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>        <span class=\"kw1\">for</span> <span class=\"br0\">(</span><span class=\"kw4\">int</span> h <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">6</span><span class=\"sy0\">;</span> h <span class=\"sy0\">&lt;=</span> <span class=\"nu0\">6</span><span class=\"sy0\">;</span> h<span class=\"sy0\">++</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>            <span class=\"kw4\">double</span> hla, hra, hraRad<span class=\"sy0\">;</span><br/>            hra <span class=\"sy0\">=</span> <span class=\"nu0\">15.0</span> <span class=\"sy0\">*</span> h<span class=\"sy0\">;</span><br/>            hra <span class=\"sy0\">=</span> hra <span class=\"sy0\">-</span> lng <span class=\"sy0\">+</span> ref<span class=\"sy0\">;</span><br/>            hraRad <span class=\"sy0\">=</span> <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Amath+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">Math</span></a>.<span class=\"me1\">toRadians</span><span class=\"br0\">(</span>hra<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            hla <span class=\"sy0\">=</span> <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Amath+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">Math</span></a>.<span class=\"me1\">toDegrees</span><span class=\"br0\">(</span><a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Amath+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">Math</span></a>.<span class=\"me1\">atan2</span><span class=\"br0\">(</span><a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Amath+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">Math</span></a>.<span class=\"me1\">sin</span><span class=\"br0\">(</span>hraRad<span class=\"br0\">)</span><span class=\"sy0\">*</span><a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Amath+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">Math</span></a>.<span class=\"me1\">sin</span><span class=\"br0\">(</span><a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Amath+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">Math</span></a>.<span class=\"me1\">toRadians</span><span class=\"br0\">(</span>lat<span class=\"br0\">)</span><span class=\"br0\">)</span>, <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Amath+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">Math</span></a>.<span class=\"me1\">cos</span><span class=\"br0\">(</span>hraRad<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">printf</span><span class=\"br0\">(</span><span class=\"st0\">\"HR=\u00a0%3d;  <span class=\"es0\">\\t</span>  HRA=%7.3f;  <span class=\"es0\">\\t</span>  HLA=\u00a0%7.3f<span class=\"es0\">\\n</span>\"</span>,<br/>                    h, hra, hla<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <span class=\"br0\">}</span><br/>    <span class=\"br0\">}</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "Julia", "loc": 22, "block": "<pre class=\"text highlighted_source\">\u00a0<br/>print(\"Enter latitude       =&gt; \")<br/>lat = parse(Float64, readline(STDIN))<br/>print(\"Enter longitude      =&gt; \")<br/>lng = parse(Float64, readline(STDIN))<br/>print(\"Enter legal meridian =&gt; \")<br/>ref = parse(Float64, readline(STDIN))<br/>println()<br/>\u00a0<br/>slat = sin(deg2rad(lat))<br/>@printf \"    sine of latitude:  \u00a0%.3f\\n\" slat<br/>@printf \"    diff longitude:    \u00a0%.3f\\n\" (lng - ref)<br/>\u00a0<br/>println(\"\\nHour, sun hour angle, dial hour line angle from 6am to 6pm\\n\")<br/>\u00a0<br/>for h in -6:6<br/>  hra = 15 * h<br/>  hra -= lng - ref<br/>  hla = rad2deg(atan(slat * tan(deg2rad(hra))))<br/>  @printf \"HR =\u00a0%3d; HRA =\u00a0%7.3f; HLA =\u00a0%7.3f\\n\" h hra hla<br/>end<br/>\u00a0</pre>"}, {"lang": "Kotlin", "loc": 33, "block": "<pre class=\"scala highlighted_source\"><a href=\"http://scala-lang.org\"><span class=\"kw1\">import</span></a> java.<span class=\"me1\">lang</span>.<span class=\"me1\">Math</span>.<span class=\"me1\">atan2</span><br/><a href=\"http://scala-lang.org\"><span class=\"kw1\">import</span></a> java.<span class=\"me1\">lang</span>.<span class=\"me1\">Math</span>.<span class=\"me1\">cos</span><br/><a href=\"http://scala-lang.org\"><span class=\"kw1\">import</span></a> java.<span class=\"me1\">lang</span>.<span class=\"me1\">Math</span>.<span class=\"me1\">sin</span><br/><a href=\"http://scala-lang.org\"><span class=\"kw1\">import</span></a> java.<span class=\"me1\">lang</span>.<span class=\"me1\">Math</span>.<span class=\"me1\">toDegrees</span><br/><a href=\"http://scala-lang.org\"><span class=\"kw1\">import</span></a> java.<span class=\"me1\">lang</span>.<span class=\"me1\">Math</span>.<span class=\"me1\">toRadians</span><br/>\u00a0<br/><span class=\"co1\">// version 1.1.4</span><br/>\u00a0<br/>fun main<span class=\"br0\">(</span>args<span class=\"sy0\">:</span> Array<span class=\"sy0\">&lt;</span>String<span class=\"sy0\">&gt;</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>    println<span class=\"br0\">(</span><span class=\"st0\">\"Please enter the following in degrees:\"</span><span class=\"br0\">)</span><br/>    print<span class=\"br0\">(</span><span class=\"st0\">\"  Latitude      \u00a0: \"</span><span class=\"br0\">)</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> lat <span class=\"sy0\">=</span> readLine<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">!!</span>.<span class=\"me1\">toDouble</span><span class=\"br0\">(</span><span class=\"br0\">)</span><br/>    print<span class=\"br0\">(</span><span class=\"st0\">\"  Longitude     \u00a0: \"</span><span class=\"br0\">)</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> lng <span class=\"sy0\">=</span> readLine<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">!!</span>.<span class=\"me1\">toDouble</span><span class=\"br0\">(</span><span class=\"br0\">)</span><br/>    print<span class=\"br0\">(</span><span class=\"st0\">\"  Legal Meridian\u00a0: \"</span><span class=\"br0\">)</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> mer <span class=\"sy0\">=</span> readLine<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">!!</span>.<span class=\"me1\">toDouble</span><span class=\"br0\">(</span><span class=\"br0\">)</span><br/>\u00a0<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> slat <span class=\"sy0\">=</span> sin<span class=\"br0\">(</span>toRadians<span class=\"br0\">(</span>lat<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> diff <span class=\"sy0\">=</span> lng - mer<br/>    println<span class=\"br0\">(</span><span class=\"st0\">\"<span class=\"es1\">\\n</span>Sine of latitude     = ${\"</span><span class=\"sy0\">%</span>.6f<span class=\"st0\">\".format(slat)}\"</span><span class=\"br0\">)</span><br/>    println<span class=\"br0\">(</span><span class=\"st0\">\"Longitude - Meridian = ${\"</span><span class=\"sy0\">%</span>.3f<span class=\"st0\">\".format(diff)}<span class=\"es1\">\\n</span>\"</span><span class=\"br0\">)</span><br/>    println<span class=\"br0\">(</span><span class=\"st0\">\"Hour   Sun Hour Angle  Dial Hour Line Angle\"</span><span class=\"br0\">)</span><br/>    println<span class=\"br0\">(</span><span class=\"st0\">\"-----  --------------  --------------------\"</span><span class=\"br0\">)</span><br/>    println<span class=\"br0\">(</span><span class=\"st0\">\"              \u00b0               \u00b0\"</span><span class=\"br0\">)</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">for</span></a> <span class=\"br0\">(</span>h in -<span class=\"nu0\">6</span>..<span class=\"nu0\">6</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>        <a href=\"http://scala-lang.org\"><span class=\"kw1\">var</span></a> hr <span class=\"sy0\">=</span> h + <span class=\"nu0\">12</span><br/>        <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> am <span class=\"sy0\">=</span> <a href=\"http://scala-lang.org\"><span class=\"kw1\">if</span></a> <span class=\"br0\">(</span>hr <span class=\"sy0\">&lt;</span> <span class=\"nu0\">12</span><span class=\"br0\">)</span> <span class=\"st0\">\"AM\"</span> <a href=\"http://scala-lang.org\"><span class=\"kw1\">else</span></a> <span class=\"st0\">\"PM\"</span><br/>        <a href=\"http://scala-lang.org\"><span class=\"kw1\">if</span></a> <span class=\"br0\">(</span>hr <span class=\"sy0\">&gt;</span> <span class=\"nu0\">12</span><span class=\"br0\">)</span> hr -<span class=\"sy0\">=</span> <span class=\"nu0\">12</span><br/>        <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> sha <span class=\"sy0\">=</span> <span class=\"nu0\">15.0</span> <span class=\"sy0\">*</span> h - diff<br/>        <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> dhla <span class=\"sy0\">=</span> toDegrees<span class=\"br0\">(</span>atan2<span class=\"br0\">(</span>slat <span class=\"sy0\">*</span> sin<span class=\"br0\">(</span>toRadians<span class=\"br0\">(</span>sha<span class=\"br0\">)</span><span class=\"br0\">)</span>, cos<span class=\"br0\">(</span>toRadians<span class=\"br0\">(</span>sha<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>        println<span class=\"br0\">(</span><span class=\"st0\">\"%2d\u00a0%s     \u00a0%+7.3f        \u00a0%+7.3f\"</span>.<span class=\"me1\">format</span><span class=\"br0\">(</span>hr, am, sha, dhla<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>    <span class=\"br0\">}</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "Liberty BASIC", "loc": 30, "block": "<pre class=\"lb highlighted_source\"><span class=\"kw1\">global</span> pi<br/>pi <span class=\"sy0\">=</span><span class=\"nu0\">3.14159265</span><br/>\u00a0<br/><span class=\"kw1\">input</span> <span class=\"st0\">\"Enter latitude  (degrees)    \u00a0: \"</span>; latitude      <span class=\"co1\">'     -4.95</span><br/><span class=\"kw1\">input</span> <span class=\"st0\">\"Enter longitude (degrees)    \u00a0: \"</span>; longitude     <span class=\"co1\">'   -150.5</span><br/><span class=\"kw1\">input</span> <span class=\"st0\">\"Enter legal meridian (degrees): \"</span>; meridian      <span class=\"co1\">'   -150.0</span><br/>\u00a0<br/><span class=\"kw1\">print</span><br/><span class=\"kw1\">print</span> <span class=\"st0\">\"Time       Sun hour angle   Dial hour line angle\"</span><br/>\u00a0<br/><span class=\"kw1\">for</span> hour <span class=\"sy0\">=</span> <span class=\"nu0\">6</span> <span class=\"kw1\">TO</span> <span class=\"nu0\">18</span><br/>   hra <span class=\"sy0\">=</span><span class=\"nu0\">15</span> <span class=\"sy0\">*</span>hour <span class=\"sy0\">-</span> longitude <span class=\"sy0\">+</span>meridian <span class=\"sy0\">-</span><span class=\"nu0\">180</span><br/>   hla <span class=\"sy0\">=</span>rad2deg<span class=\"br0\">(</span> <span class=\"kw2\">atn</span><span class=\"br0\">(</span> <span class=\"kw2\">sin</span><span class=\"br0\">(</span> deg2rad<span class=\"br0\">(</span> latitude<span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"sy0\">*</span><span class=\"kw2\">tan</span><span class=\"br0\">(</span> deg2rad<span class=\"br0\">(</span> hra<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>   <span class=\"kw1\">if</span> <span class=\"kw2\">abs</span><span class=\"br0\">(</span> hra<span class=\"br0\">)</span> <span class=\"sy0\">&gt;</span><span class=\"nu0\">90</span> <span class=\"kw1\">then</span> hla <span class=\"sy0\">=</span>hla <span class=\"sy0\">+</span><span class=\"nu0\">180</span> <span class=\"sy0\">*</span>sgn<span class=\"br0\">(</span> hra <span class=\"sy0\">*</span>latitude<span class=\"br0\">)</span><br/>   <span class=\"kw1\">print</span> <span class=\"kw2\">using</span><span class=\"br0\">(</span> <span class=\"st0\">\"##.##\"</span><span class=\"sy0\">,</span> hour<span class=\"br0\">)</span><span class=\"sy0\">,</span> <span class=\"kw2\">using</span><span class=\"br0\">(</span><span class=\"st0\">\"####.###  \"</span><span class=\"sy0\">,</span> hra<span class=\"br0\">)</span><span class=\"sy0\">,</span> <span class=\"kw2\">using</span><span class=\"br0\">(</span><span class=\"st0\">\"####.###\"</span><span class=\"sy0\">,</span> hla<span class=\"br0\">)</span><br/><span class=\"kw1\">next</span> hour<br/>\u00a0<br/><span class=\"kw1\">function</span> rad2deg<span class=\"br0\">(</span> theta<span class=\"br0\">)</span><br/>    rad2deg <span class=\"sy0\">=</span>theta <span class=\"sy0\">*</span><span class=\"nu0\">180</span> <span class=\"sy0\">/</span>pi<br/><span class=\"kw1\">end</span> <span class=\"kw1\">function</span><br/>\u00a0<br/><span class=\"kw1\">function</span> deg2rad<span class=\"br0\">(</span> theta<span class=\"br0\">)</span><br/>    deg2rad <span class=\"sy0\">=</span>theta <span class=\"sy0\">*</span>pi <span class=\"sy0\">/</span><span class=\"nu0\">180</span><br/><span class=\"kw1\">end</span> <span class=\"kw1\">function</span><br/>\u00a0<br/><span class=\"kw1\">function</span> sgn<span class=\"br0\">(</span> x<span class=\"br0\">)</span><br/>    <span class=\"kw1\">if</span> x <span class=\"sy0\">&gt;</span><span class=\"nu0\">0</span> <span class=\"kw1\">then</span> sgn <span class=\"sy0\">=</span><span class=\"nu0\">1</span> <span class=\"kw1\">else</span> sgn <span class=\"sy0\">=-</span><span class=\"nu0\">1</span><br/><span class=\"kw1\">end</span> <span class=\"kw1\">function</span><br/>\u00a0<br/><span class=\"kw1\">end</span></pre>"}, {"lang": "LiveCode", "loc": 28, "block": "<pre class=\"text highlighted_source\">on mouseUp<br/>    ask \"Enter lng,lat,meridian\"<br/>    if it is empty then exit mouseup<br/>    // -150.5, -4.95, -150.0<br/>    put item 1 of it into longitude<br/>    put item 2 of it into latitude<br/>    put item 3 of it into meridian<br/>\u00a0<br/>    repeat with hour = 6 TO 18<br/>        put 15 *hour - longitude + meridian - 180 into hra<br/>        put rad2deg(atan(sin(deg2rad(latitude)) * tan(deg2rad(hra)))) into hla<br/>        if abs(hra) &gt; 90 then put hla + 180 * sgn(hra *latitude) into hla<br/>        put hour &amp;&amp; hra &amp;&amp; hla &amp; cr after sunhours<br/>    end repeat<br/>    put sunhours<br/>end mouseUp<br/>\u00a0<br/>function rad2deg theta<br/>    return theta * (180 / pi)<br/>end rad2deg<br/>\u00a0<br/>function deg2rad theta<br/>    return theta * (pi / 180)<br/>end deg2rad<br/>\u00a0<br/>function sgn x<br/>    if x &gt;0 then return 1 else return -1<br/>end sgn</pre>"}, {"lang": "Logo", "loc": 13, "block": "<pre class=\"text highlighted_source\">type \"|Enter latitude: |<br/>make \"lat readword<br/>type \"|Enter longitude: |<br/>make \"long readword<br/>type \"|Enter legal meridian: |<br/>make \"long\u00a0:long - readword<br/>\u00a0<br/>print [Hour\u00a0: HourAngle , DialAngle]<br/>for [hour -6 6] [<br/>   make \"hra 15 *\u00a0:hour -\u00a0:long<br/>   make \"hla arctan product sin\u00a0:lat quotient sin\u00a0:hra cos\u00a0:hra<br/>   print (sentence \"hour\u00a0:hour \":\u00a0:hra \",\u00a0:hla)<br/>]</pre>"}, {"lang": "Microsoft Small Basic", "loc": 31, "block": "<pre class=\"text highlighted_source\">\u00a0<br/>TextWindow.Write(\"Enter latitude       =&gt; \")<br/>lat = TextWindow.ReadNumber()<br/>TextWindow.Write(\"Enter longitude      =&gt; \")<br/>lng = TextWindow.ReadNumber()<br/>TextWindow.Write(\"Enter legal meridian =&gt; \")<br/>ref = TextWindow.ReadNumber()<br/>sLat = Math.Sin(Math.GetRadians(lat))<br/>TextWindow.WriteLine(\"\")<br/>TextWindow.Write(\"    sine of latitude:   \")<br/>TextWindow.WriteLine(Math.Round(sLat * 10000) / 10000) <br/>TextWindow.Write(\"    diff longitude:     \")<br/>TextWindow.WriteLine(lng - ref) <br/>TextWindow.WriteLine(\"\")<br/>TextWindow.WriteLine(\"Hour, sun hour angle, dial hour line angle from 6am to 6pm\")<br/>For hour = -6 To 6 <br/>  hourAngle = 15 * hour<br/>  hourAngle = hourAngle - (lng - ref) ' correct for longitude difference <br/>  hourLineAngle = math.GetDegrees(Math.ArcTan(sLat * Math.Tan(Math.GetRadians(hourAngle))))<br/>  TextWindow.Write(\"HR=\")<br/>  TextWindow.CursorLeft = 3 + (3 - Text.GetLength(hour))<br/>  TextWindow.Write(hour) <br/>  TextWindow.Write(\"; HRA=\")<br/>  TextWindow.CursorLeft = 12 + (6 - Text.GetLength(hourAngle)) <br/>  TextWindow.Write(hourAngle) <br/>  TextWindow.Write(\"; HLA=\")<br/>  TextWindow.CursorLeft = 24 + (4 - Text.GetLength(Math.Floor(hourLineAngle)))<br/>  TextWindow.Write(Math.Round(hourLineAngle * 1000) / 1000)<br/>  TextWindow.WriteLine(\"\")<br/>EndFor<br/>\u00a0</pre>"}, {"lang": "\u041c\u041a-61/52", "loc": 6, "block": "<pre class=\"text highlighted_source\">\u041c\u0413\t\u041f2\t-&gt;\t\u041c\u0413\t\u041f1\t-&gt;\t\u041c\u0413\tsin\t\u041f0<br/>6\t/-/\t\u041f3<br/>\u0418\u041f3\t1\t5\t*\t\u0418\u041f1\t\u0418\u041f2\t-\t-\t\u041f4<br/>tg\t\u0418\u041f0\t*\tarctg\t\u0418\u041f4\t\u0418\u041f3\t\u0421/\u041f<br/>\u0418\u041f3\t1\t+\t\u041f3\t7\t-\tx=0\t12<br/>\u0421x\t\u0421/\u041f</pre>"}, {"lang": "Modula-2", "loc": 51, "block": "<pre class=\"modula2 highlighted_source\">\u00a0<br/><span class=\"kw1\">MODULE</span> SunDial;<br/>\u00a0<br/><span class=\"kw1\">FROM</span> STextIO <span class=\"kw1\">IMPORT</span><br/>  WriteString<span class=\"sy0\">,</span> WriteLn<span class=\"sy0\">,</span> SkipLine;<br/><span class=\"kw1\">FROM</span> SRealIO <span class=\"kw1\">IMPORT</span><br/>  ReadReal<span class=\"sy0\">,</span> WriteFixed<span class=\"sy0\">,</span> WriteFloat;<br/><span class=\"kw1\">FROM</span> SWholeIO <span class=\"kw1\">IMPORT</span><br/>  WriteInt;<br/><span class=\"kw1\">FROM</span> RealMath <span class=\"kw1\">IMPORT</span><br/>  sin<span class=\"sy0\">,</span> pi<span class=\"sy0\">,</span> arctan<span class=\"sy0\">,</span> tan;<br/>\u00a0<br/><span class=\"kw1\">VAR</span><br/>  Lat<span class=\"sy0\">,</span> Slat<span class=\"sy0\">,</span> Lng<span class=\"sy0\">,</span> Ref<span class=\"sy0\">:</span> <span class=\"kw4\">REAL</span>;<br/>  Hour<span class=\"sy0\">:</span> <span class=\"kw4\">INTEGER</span>;<br/>  HourAngle<span class=\"sy0\">,</span> HourLineAngle<span class=\"sy0\">:</span> <span class=\"kw4\">REAL</span>;<br/><span class=\"kw1\">BEGIN</span><br/>  WriteString<span class=\"br0\">(</span><span class=\"st0\">\"Enter latitude       =&gt; \"</span><span class=\"br0\">)</span>;<br/>  ReadReal<span class=\"br0\">(</span>Lat<span class=\"br0\">)</span>;<br/>  SkipLine;<br/>  WriteString<span class=\"br0\">(</span><span class=\"st0\">\"Enter longitude      =&gt; \"</span><span class=\"br0\">)</span>;<br/>  ReadReal<span class=\"br0\">(</span>Lng<span class=\"br0\">)</span>;<br/>  SkipLine;<br/>  WriteString<span class=\"br0\">(</span><span class=\"st0\">\"Enter legal meridian =&gt; \"</span><span class=\"br0\">)</span>;<br/>  ReadReal<span class=\"br0\">(</span>Ref<span class=\"br0\">)</span>;<br/>  SkipLine;<br/>  WriteLn;<br/>  Slat <span class=\"sy0\">:=</span> sin<span class=\"br0\">(</span>Lat <span class=\"sy0\">*</span> pi <span class=\"sy0\">/</span> <span class=\"nu0\">180.0</span><span class=\"br0\">)</span>;<br/>  WriteString<span class=\"br0\">(</span><span class=\"st0\">\"    sine of latitude:   \"</span><span class=\"br0\">)</span>;<br/>  WriteFloat<span class=\"br0\">(</span>Slat<span class=\"sy0\">,</span> <span class=\"nu0\">2</span><span class=\"sy0\">,</span> <span class=\"nu0\">8</span><span class=\"br0\">)</span>;<br/>  WriteLn;<br/>  WriteString<span class=\"br0\">(</span><span class=\"st0\">\"    diff longitude:     \"</span><span class=\"br0\">)</span>;<br/>  WriteFixed<span class=\"br0\">(</span>Lng <span class=\"sy0\">-</span> Ref<span class=\"sy0\">,</span> <span class=\"nu0\">3</span><span class=\"sy0\">,</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span>;<br/>  WriteLn;<br/>  WriteLn;<br/>  WriteString<span class=\"br0\">(</span><span class=\"st0\">\"Hour, sun hour angle, dial hour line angle from 6am to 6pm\"</span><span class=\"br0\">)</span>;<br/>  WriteLn;<br/>  <span class=\"kw1\">FOR</span> Hour <span class=\"sy0\">:=</span> <span class=\"sy0\">-</span><span class=\"nu0\">6</span> <span class=\"kw1\">TO</span> <span class=\"nu0\">6</span> <span class=\"kw1\">DO</span><br/>    HourAngle <span class=\"sy0\">:=</span> <span class=\"kw3\">FLOAT</span><span class=\"br0\">(</span><span class=\"nu0\">15</span> <span class=\"sy0\">*</span> Hour<span class=\"br0\">)</span>;<br/>    HourAngle <span class=\"sy0\">:=</span> HourAngle <span class=\"sy0\">-</span> <span class=\"br0\">(</span>Lng <span class=\"sy0\">-</span> Ref<span class=\"br0\">)</span>; <span class=\"coMULTI\">(* correct for longitude difference *)</span><br/>    HourLineAngle <span class=\"sy0\">:=</span> arctan<span class=\"br0\">(</span>Slat <span class=\"sy0\">*</span> tan<span class=\"br0\">(</span>HourAngle <span class=\"sy0\">*</span> pi <span class=\"sy0\">/</span> <span class=\"nu0\">180.0</span><span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"sy0\">*</span> <span class=\"nu0\">180.0</span> <span class=\"sy0\">/</span> pi;<br/>    WriteString<span class=\"br0\">(</span><span class=\"st0\">\"HR=\"</span><span class=\"br0\">)</span>;<br/>    WriteInt<span class=\"br0\">(</span>Hour<span class=\"sy0\">,</span> <span class=\"nu0\">3</span><span class=\"br0\">)</span>;<br/>    WriteString<span class=\"br0\">(</span><span class=\"st0\">\"; HRA=\"</span><span class=\"br0\">)</span>;<br/>    WriteFixed<span class=\"br0\">(</span>HourAngle<span class=\"sy0\">,</span> <span class=\"nu0\">3</span><span class=\"sy0\">,</span> <span class=\"nu0\">8</span><span class=\"br0\">)</span>;<br/>    WriteString<span class=\"br0\">(</span><span class=\"st0\">\"; HLA=\"</span><span class=\"br0\">)</span>;<br/>    WriteFixed<span class=\"br0\">(</span>HourLineAngle<span class=\"sy0\">,</span> <span class=\"nu0\">3</span><span class=\"sy0\">,</span> <span class=\"nu0\">8</span><span class=\"br0\">)</span>;<br/>    WriteLn;<br/>  <span class=\"kw1\">END</span>;<br/><span class=\"kw1\">END</span> SunDial.<br/>\u00a0</pre>"}, {"lang": "Nim", "loc": 20, "block": "<pre class=\"text highlighted_source\">import rdstdin, strutils, math, strfmt<br/>\u00a0<br/>proc radians(x): float = x * Pi / 180<br/>proc degrees(x): float = x * 180 / Pi<br/>\u00a0<br/>let lat = parseFloat readLineFromStdin \"Enter latitude       =&gt; \"<br/>let lng = parseFloat readLineFromStdin \"Enter longitude      =&gt; \"<br/>let med = parseFloat readLineFromStdin \"Enter legal meridian =&gt; \"<br/>echo \"\"<br/>\u00a0<br/>let slat = sin radians lat<br/>echo \"    sine of latitude:   {:.3f}\".fmt(slat)<br/>echo \"    diff longitude:     {:.3f}\".fmt(lng-med)<br/>echo \"\"<br/>echo \"Hour, sun hour angle, dial hour line angle from 6am to 6pm\"<br/>\u00a0<br/>for h in -6..6:<br/>  let hra = float(15 * h) - lng + med<br/>  let hla = degrees arctan(slat * tan radians hra)<br/>  echo \"HR={:3d}; HRA={:7.3f}; HLA={:7.3f}\".fmt(h, hra, hla)</pre>"}, {"lang": "Objeck", "loc": 27, "block": "<pre class=\"objeck highlighted_source\">\u00a0<br/><span class=\"kw1\">class</span> Sundial <span class=\"br0\">{</span><br/>  <span class=\"kw1\">function</span> <span class=\"sy0\">:</span> Main<span class=\"br0\">(</span>args <span class=\"sy0\">:</span> <span class=\"kw2\">String</span><span class=\"br0\">[</span><span class=\"br0\">]</span><span class=\"br0\">)</span> ~ <span class=\"kw2\">Nil</span> <span class=\"br0\">{</span><br/>    <span class=\"st0\">\"Enter latitude: \"</span><span class=\"sy0\">-&gt;</span><span class=\"me1\">Print</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    lat <span class=\"sy0\">:=</span> System.IO.Console<span class=\"sy0\">-&gt;</span><span class=\"me1\">ReadString</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">-&gt;</span><span class=\"me1\">ToFloat</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span>    <br/>    <span class=\"st0\">\"Enter longitude: \"</span><span class=\"sy0\">-&gt;</span><span class=\"me1\">Print</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    lng <span class=\"sy0\">:=</span> System.IO.Console<span class=\"sy0\">-&gt;</span><span class=\"me1\">ReadString</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">-&gt;</span><span class=\"me1\">ToFloat</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    <span class=\"st0\">\"Enter legal meridian: \"</span><span class=\"sy0\">-&gt;</span><span class=\"me1\">Print</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    ref <span class=\"sy0\">:=</span> System.IO.Console<span class=\"sy0\">-&gt;</span><span class=\"me1\">ReadString</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">-&gt;</span><span class=\"me1\">ToFloat</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    '\\n'<span class=\"sy0\">-&gt;</span><span class=\"me1\">PrintLine</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>    slat <span class=\"sy0\">:=</span> lat<span class=\"sy0\">-&gt;</span><span class=\"me1\">ToRadians</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">-&gt;</span><span class=\"me1\">Sin</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    <span class=\"st0\">\"sine of latitude: {$slat}\"</span><span class=\"sy0\">-&gt;</span><span class=\"me1\">PrintLine</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span>    <br/>    value <span class=\"sy0\">:=</span> lng <span class=\"sy0\">-</span> ref<span class=\"sy0\">;</span><br/>    <span class=\"st0\">\"diff longitude: {$value}\"</span><span class=\"sy0\">-&gt;</span><span class=\"me1\">PrintLine</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    '\\n'<span class=\"sy0\">-&gt;</span><span class=\"me1\">PrintLine</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>    <span class=\"st0\">\"Hour<span class=\"es0\">\\t</span><span class=\"es0\">\\t</span>sun hour angle<span class=\"es0\">\\t</span><span class=\"es0\">\\t</span>dial hour line angle from 6am to 6pm\"</span><span class=\"sy0\">-&gt;</span><span class=\"me1\">PrintLine</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    <span class=\"kw1\">for</span> <span class=\"br0\">(</span>h <span class=\"sy0\">:=</span> <span class=\"sy0\">-</span><span class=\"nu0\">6</span><span class=\"sy0\">;</span> h <span class=\"sy0\">&lt;=</span> <span class=\"nu0\">6</span><span class=\"sy0\">;</span> h<span class=\"sy0\">+=</span><span class=\"nu0\">1</span><span class=\"sy0\">;</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>      hra <span class=\"sy0\">:=</span> <span class=\"nu0\">15.0</span> <span class=\"sy0\">*</span> h<span class=\"sy0\">;</span><br/>      hra <span class=\"sy0\">-=</span> lng <span class=\"sy0\">-</span> ref<span class=\"sy0\">;</span><br/>      hla <span class=\"sy0\">:=</span> <span class=\"br0\">(</span>slat<span class=\"sy0\">*</span> <span class=\"br0\">(</span>hra<span class=\"sy0\">*</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>Float<span class=\"sy0\">-&gt;</span><span class=\"me1\">Pi</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">/</span><span class=\"nu0\">360.0</span><span class=\"br0\">)</span><span class=\"sy0\">-&gt;</span><span class=\"me1\">Tan</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">-&gt;</span><span class=\"me1\">ArcTan</span><span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"sy0\">*</span> <span class=\"nu0\">360.0</span> <span class=\"sy0\">/</span> <span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>Float<span class=\"sy0\">-&gt;</span><span class=\"me1\">Pi</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>      <span class=\"st0\">\"HR={$h}<span class=\"es0\">\\t</span><span class=\"es0\">\\t</span>HRA={$hra}<span class=\"es0\">\\t</span><span class=\"es0\">\\t</span>HLA={$hla}\"</span><span class=\"sy0\">-&gt;</span><span class=\"me1\">PrintLine</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    <span class=\"br0\">}</span><span class=\"sy0\">;</span><br/>  <span class=\"br0\">}</span><br/><span class=\"br0\">}</span><br/>\u00a0</pre>"}, {"lang": "OCaml", "loc": 24, "block": "<pre class=\"ocaml highlighted_source\"><span class=\"kw1\">let</span> <span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"sy0\">=</span><br/>  <span class=\"kw1\">let</span> pi <span class=\"sy0\">=</span> <span class=\"nu0\">4</span><span class=\"sy0\">.</span> <span class=\"sy0\">*.</span> <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALatan\"><span class=\"kw3\">atan</span></a> <span class=\"nu0\">1</span><span class=\"sy0\">.</span> <span class=\"kw1\">in</span><br/>  <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALprint_endline\"><span class=\"kw3\">print_endline</span></a> <span class=\"st0\">\"Enter latitude\t\t=&gt; \"</span><span class=\"sy0\">;</span><br/>  <span class=\"kw1\">let</span> lat <span class=\"sy0\">=</span> <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALread_float\"><span class=\"kw3\">read_float</span></a> <span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"kw1\">in</span><br/>  <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALprint_endline\"><span class=\"kw3\">print_endline</span></a> <span class=\"st0\">\"Enter longitude\t=&gt; \"</span><span class=\"sy0\">;</span><br/>  <span class=\"kw1\">let</span> lng <span class=\"sy0\">=</span> <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALread_float\"><span class=\"kw3\">read_float</span></a> <span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"kw1\">in</span><br/>  <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALprint_endline\"><span class=\"kw3\">print_endline</span></a> <span class=\"st0\">\"Enter legal meridian\t=&gt; \"</span><span class=\"sy0\">;</span><br/>  <span class=\"kw1\">let</span> <span class=\"kw1\">ref</span> <span class=\"sy0\">=</span> <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALread_float\"><span class=\"kw3\">read_float</span></a> <span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"kw1\">in</span><br/>  <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALprint_newline\"><span class=\"kw3\">print_newline</span></a> <span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>  <span class=\"kw1\">let</span> slat <span class=\"sy0\">=</span> <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALsin\"><span class=\"kw3\">sin</span></a> <span class=\"br0\">(</span>lat <span class=\"sy0\">*.</span> <span class=\"nu0\">2</span><span class=\"sy0\">.</span> <span class=\"sy0\">*.</span> pi <span class=\"sy0\">/.</span> <span class=\"nu0\">360</span><span class=\"sy0\">.</span><span class=\"br0\">)</span> <span class=\"kw1\">in</span><br/>  <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Printf.html\"><span class=\"kw2\">Printf</span></a><span class=\"sy0\">.</span>printf <span class=\"st0\">\"    sine of latitude:  \u00a0%.3f\\n\"</span> slat<span class=\"sy0\">;</span><br/>  <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Printf.html\"><span class=\"kw2\">Printf</span></a><span class=\"sy0\">.</span>printf <span class=\"st0\">\"    diff longitude:    \u00a0%.3f\\n\"</span> <span class=\"br0\">(</span>lng <span class=\"sy0\">-.</span> <span class=\"kw1\">ref</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>  <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALprint_newline\"><span class=\"kw3\">print_newline</span></a> <span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>  <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALprint_endline\"><span class=\"kw3\">print_endline</span></a> <span class=\"st0\">\"Hour, sun hour angle, dial hour line angle from 6am to 6pm\"</span><span class=\"sy0\">;</span><br/>\u00a0<br/>  <span class=\"kw1\">for</span> h <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">6</span> <span class=\"kw1\">to</span> <span class=\"nu0\">6</span> <span class=\"kw1\">do</span><br/>    <span class=\"kw1\">let</span> hra <span class=\"sy0\">=</span> <span class=\"nu0\">15</span><span class=\"sy0\">.</span> <span class=\"sy0\">*.</span> <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALfloat\"><span class=\"kw3\">float</span></a> h <span class=\"kw1\">in</span><br/>    <span class=\"kw1\">let</span> hra <span class=\"sy0\">=</span> hra <span class=\"sy0\">-.</span> <span class=\"br0\">(</span>lng <span class=\"sy0\">-.</span> <span class=\"kw1\">ref</span><span class=\"br0\">)</span> <span class=\"kw1\">in</span><br/>    <span class=\"kw1\">let</span> hla <span class=\"sy0\">=</span> <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALatan\"><span class=\"kw3\">atan</span></a> <span class=\"br0\">(</span>slat <span class=\"sy0\">*.</span> <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html#VALtan\"><span class=\"kw3\">tan</span></a> <span class=\"br0\">(</span>hra <span class=\"sy0\">*.</span> <span class=\"nu0\">2</span><span class=\"sy0\">.</span> <span class=\"sy0\">*.</span> pi <span class=\"sy0\">/.</span> <span class=\"nu0\">360</span><span class=\"sy0\">.</span><span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"sy0\">*.</span> <span class=\"nu0\">360</span><span class=\"sy0\">.</span> <span class=\"sy0\">/.</span> <span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">.</span> <span class=\"sy0\">*.</span> pi<span class=\"br0\">)</span> <span class=\"kw1\">in</span><br/>    <a href=\"http://caml.inria.fr/pub/docs/manual-ocaml/libref/Printf.html\"><span class=\"kw2\">Printf</span></a><span class=\"sy0\">.</span>printf <span class=\"st0\">\"HR=\u00a0%3d;  \\t  HRA=%7.3f;  \\t  HLA=\u00a0%7.3f\\n\"</span> h hra hla<span class=\"sy0\">;</span><br/>  <span class=\"kw1\">done</span><br/>\u00a0</pre>"}, {"lang": "Octave", "loc": 12, "block": "<pre class=\"octave highlighted_source\">lat <span class=\"sy3\">=</span> <a href=\"http://octave.sourceforge.net/octave/function/input.html\"><span class=\"kw5\">input</span></a><span class=\"br0\">(</span><span class=\"co4\">\"Enter latitude: \"</span><span class=\"br0\">)</span><span class=\"sy5\">;</span><br/>lng <span class=\"sy3\">=</span> <a href=\"http://octave.sourceforge.net/octave/function/input.html\"><span class=\"kw5\">input</span></a><span class=\"br0\">(</span><span class=\"co4\">\"Enter longitude: \"</span><span class=\"br0\">)</span><span class=\"sy5\">;</span><br/>ref <span class=\"sy3\">=</span> <a href=\"http://octave.sourceforge.net/octave/function/input.html\"><span class=\"kw5\">input</span></a><span class=\"br0\">(</span><span class=\"co4\">\"Enter legal meridian: \"</span><span class=\"br0\">)</span><span class=\"sy5\">;</span><br/>slat <span class=\"sy3\">=</span> <a href=\"http://octave.sourceforge.net/octave/function/sind.html\"><span class=\"kw6\">sind</span></a><span class=\"br0\">(</span>lat<span class=\"br0\">)</span><span class=\"sy5\">;</span><br/><a href=\"http://octave.sourceforge.net/octave/function/printf.html\"><span class=\"kw5\">printf</span></a><span class=\"br0\">(</span><span class=\"co4\">\"sine of latitude:\u00a0%.3f\\n\"</span><span class=\"sy5\">,</span> slat<span class=\"br0\">)</span><span class=\"sy5\">;</span><br/><a href=\"http://octave.sourceforge.net/octave/function/printf.html\"><span class=\"kw5\">printf</span></a><span class=\"br0\">(</span><span class=\"co4\">\"diff longitude:\u00a0%.3f\\n\\n\"</span><span class=\"sy5\">,</span> lng <span class=\"sy1\">-</span> ref<span class=\"br0\">)</span><span class=\"sy5\">;</span><br/><a href=\"http://octave.sourceforge.net/octave/function/printf.html\"><span class=\"kw5\">printf</span></a><span class=\"br0\">(</span><span class=\"co4\">\"Hour, sun hour angle, dial hour line angle from 6am to 6pm\\n\"</span><span class=\"br0\">)</span><span class=\"sy5\">;</span><br/>\u00a0<br/>hras <span class=\"sy3\">=</span> <span class=\"br0\">[</span><span class=\"sy1\">-</span><span class=\"nu0\">6</span><span class=\"sy4\">:</span><span class=\"nu0\">6</span><span class=\"br0\">]</span> <span class=\"sy2\">.*</span> <span class=\"nu19\">15.0</span> .<span class=\"sy1\">-</span> lng .<span class=\"sy1\">+</span> ref<span class=\"sy5\">;</span><br/>hlas <span class=\"sy3\">=</span> <a href=\"http://octave.sourceforge.net/octave/function/atand.html\"><span class=\"kw6\">atand</span></a><span class=\"br0\">(</span> <a href=\"http://octave.sourceforge.net/octave/function/tand.html\"><span class=\"kw6\">tand</span></a><span class=\"br0\">(</span>hras<span class=\"br0\">)</span> <span class=\"sy2\">.*</span> slat <span class=\"br0\">)</span><span class=\"sy5\">;</span><br/><a href=\"http://octave.sourceforge.net/octave/function/printf.html\"><span class=\"kw5\">printf</span></a><span class=\"br0\">(</span><span class=\"co4\">\"HR=\u00a0%3d;  \\t  HRA=%7.3f;  \\t  HLA=\u00a0%7.3f\\n\"</span><span class=\"sy5\">,</span> <br/>       <span class=\"br0\">[</span> <span class=\"br0\">[</span><span class=\"sy1\">-</span><span class=\"nu0\">6</span><span class=\"sy4\">:</span><span class=\"nu0\">6</span><span class=\"br0\">]</span><span class=\"sy5\">;</span> hras<span class=\"sy5\">;</span> hlas<span class=\"br0\">]</span> <span class=\"br0\">)</span><span class=\"sy5\">;</span></pre>"}, {"lang": "OoRexx", "loc": 38, "block": "<pre class=\"oorexx highlighted_source\"><span class=\"coMULTI\">/*REXX pgm shows:  hour,  sun hour angle,  dial hour line angle,  6am ---&gt; 6pm*/</span><br/><span class=\"coMULTI\">/* Use trigonometric functions provided by rxCalc                             */</span><br/><span class=\"kw1\">parse</span> <span class=\"kw1\">arg</span> lat lng mer <span class=\"sy0\">.</span>               <span class=\"coMULTI\">/*get the optional arguments from the CL*/</span><br/>                          <span class=\"coMULTI\">/*None specified?   Then use the default of Jules   */</span><br/>                          <span class=\"coMULTI\">/*Verne's Lincoln Island,  aka  Ernest Legouve Reef.*/</span><br/>\u00a0<br/><span class=\"kw1\">if</span> lat==<span class=\"st0\">''</span> <span class=\"sy0\">|</span> lat==<span class=\"st0\">','</span> <span class=\"kw3\">then</span> lat=-<span class=\"nu0\">4.95</span>  <span class=\"coMULTI\">/*Not specified?   Then use the default.*/</span><br/><span class=\"kw1\">if</span> lng==<span class=\"st0\">''</span> <span class=\"sy0\">|</span> lng==<span class=\"st0\">','</span> <span class=\"kw3\">then</span> lng=-<span class=\"nu0\">150.5</span> <span class=\"coMULTI\">/* \"      \"          \"   \"   \"     \"    */</span><br/><span class=\"kw1\">if</span> mer==<span class=\"st0\">''</span> <span class=\"sy0\">|</span> mer==<span class=\"st0\">','</span> <span class=\"kw3\">then</span> mer=-<span class=\"nu0\">150</span>   <span class=\"coMULTI\">/* \"      \"          \"   \"   \"     \"    */</span><br/>L=<span class=\"kw6\">max</span><span class=\"br0\">(</span><span class=\"kw6\">length</span><span class=\"br0\">(</span>lat<span class=\"br0\">)</span>, <span class=\"kw6\">length</span><span class=\"br0\">(</span>lng<span class=\"br0\">)</span>, <span class=\"kw6\">length</span><span class=\"br0\">(</span>mer<span class=\"br0\">)</span><span class=\"br0\">)</span><br/><span class=\"kw1\">say</span> <span class=\"st0\">'       latitude:'</span> <span class=\"kw6\">right</span><span class=\"br0\">(</span>lat,L<span class=\"br0\">)</span><br/><span class=\"kw1\">say</span> <span class=\"st0\">'      longitude:'</span> <span class=\"kw6\">right</span><span class=\"br0\">(</span>lng,L<span class=\"br0\">)</span><br/><span class=\"kw1\">say</span> <span class=\"st0\">' legal meridian:'</span> <span class=\"kw6\">right</span><span class=\"br0\">(</span>mer,L<span class=\"br0\">)</span><br/>sineLat=rxCalcSin<span class=\"br0\">(</span>lat,,<span class=\"st0\">'D'</span><span class=\"br0\">)</span><br/>w1=<span class=\"kw6\">max</span><span class=\"br0\">(</span><span class=\"kw6\">length</span><span class=\"br0\">(</span><span class=\"st0\">'hour'</span><span class=\"br0\">)</span>     ,<span class=\"kw6\">length</span><span class=\"br0\">(</span><span class=\"st0\">'midnight'</span><span class=\"br0\">)</span><span class=\"br0\">)</span>+<span class=\"nu0\">2</span><br/>w2=<span class=\"kw6\">max</span><span class=\"br0\">(</span><span class=\"kw6\">length</span><span class=\"br0\">(</span><span class=\"st0\">'sun hour'</span><span class=\"br0\">)</span> ,<span class=\"kw6\">length</span><span class=\"br0\">(</span><span class=\"st0\">'angle'</span><span class=\"br0\">)</span><span class=\"br0\">)</span>+<span class=\"nu0\">2</span><br/>w3=<span class=\"kw6\">max</span><span class=\"br0\">(</span><span class=\"kw6\">length</span><span class=\"br0\">(</span><span class=\"st0\">'dial hour'</span><span class=\"br0\">)</span>,<span class=\"kw6\">length</span><span class=\"br0\">(</span><span class=\"st0\">'line angle'</span><span class=\"br0\">)</span><span class=\"br0\">)</span>+<span class=\"nu0\">2</span><br/>indent=<span class=\"kw6\">left</span><span class=\"br0\">(</span><span class=\"st0\">''</span>,<span class=\"nu0\">30</span><span class=\"br0\">)</span>               <span class=\"coMULTI\">/*make the presentation prettier.      */</span><br/><span class=\"kw1\">say</span> indent <span class=\"kw6\">center</span><span class=\"br0\">(</span><span class=\"st0\">'    '</span>,w1<span class=\"br0\">)</span> <span class=\"kw6\">center</span><span class=\"br0\">(</span><span class=\"st0\">'sun hour'</span>,w2<span class=\"br0\">)</span> <span class=\"kw6\">center</span><span class=\"br0\">(</span><span class=\"st0\">'dial hour'</span> ,w3<span class=\"br0\">)</span><br/><span class=\"kw1\">say</span> indent <span class=\"kw6\">center</span><span class=\"br0\">(</span><span class=\"st0\">'hour'</span>,w1<span class=\"br0\">)</span> <span class=\"kw6\">center</span><span class=\"br0\">(</span><span class=\"st0\">'angle'</span>   ,w2<span class=\"br0\">)</span> <span class=\"kw6\">center</span><span class=\"br0\">(</span><span class=\"st0\">'line angle'</span>,w3<span class=\"br0\">)</span><br/><span class=\"kw1\">call</span> sep                         <span class=\"coMULTI\">/*add a separator line for the eyeballs*/</span><br/>\u00a0<br/><span class=\"kw1\">do</span> h=-<span class=\"nu0\">6</span>  <span class=\"kw2\">to</span> <span class=\"nu0\">6</span>                    <span class=\"coMULTI\">/*Okey dokey then, let's get busy.     */</span><br/>  <span class=\"kw1\">select</span><br/>    <span class=\"kw3\">when</span> <span class=\"kw6\">abs</span><span class=\"br0\">(</span>h<span class=\"br0\">)</span>==<span class=\"nu0\">12</span>  <span class=\"kw3\">then</span> hc=<span class=\"st0\">'midnight'</span>      <span class=\"coMULTI\">/*above the arctic circle? */</span><br/>    <span class=\"kw3\">when</span> h<span class=\"sy0\">&lt;</span><span class=\"nu0\">0</span>  <span class=\"kw3\">then</span> hc=-h <span class=\"st0\">'am'</span>    <span class=\"coMULTI\">/*convert the hour for human beans.    */</span><br/>    <span class=\"kw3\">when</span> h==<span class=\"nu0\">0</span> <span class=\"kw3\">then</span> hc=<span class=\"st0\">'noon'</span>     <span class=\"coMULTI\">/*  ... easier to understand now.      */</span><br/>    <span class=\"kw3\">when</span> h<span class=\"sy0\">&gt;</span><span class=\"nu0\">0</span>  <span class=\"kw3\">then</span> hc=h <span class=\"st0\">'pm'</span>     <span class=\"coMULTI\">/*  ... even more meaningful.          */</span><br/>    <span class=\"kw3\">end</span>   <span class=\"coMULTI\">/*select*/</span><br/>  hra=<span class=\"nu0\">15</span><span class=\"sy0\">*</span>h-lng+mer<br/>  hla=rxCalcArctan<span class=\"br0\">(</span>sineLat<span class=\"sy0\">*</span>rxCalctan<span class=\"br0\">(</span>hra,,<span class=\"st0\">'D'</span><span class=\"br0\">)</span>,,<span class=\"st0\">'D'</span><span class=\"br0\">)</span><br/>  <span class=\"kw1\">say</span> indent <span class=\"kw6\">center</span><span class=\"br0\">(</span>hc,w1<span class=\"br0\">)</span> <span class=\"kw6\">right</span><span class=\"br0\">(</span><span class=\"kw6\">format</span><span class=\"br0\">(</span>hra,,<span class=\"nu0\">1</span><span class=\"br0\">)</span>,w2<span class=\"br0\">)</span> <span class=\"kw6\">right</span><span class=\"br0\">(</span><span class=\"kw6\">format</span><span class=\"br0\">(</span>hla,,<span class=\"nu0\">1</span><span class=\"br0\">)</span>,w3<span class=\"br0\">)</span><br/>  <span class=\"kw3\">end</span><br/><span class=\"kw1\">call</span> sep<br/><span class=\"kw1\">Exit</span><br/>sep: <span class=\"kw1\">say</span> indent <span class=\"kw6\">copies</span><span class=\"br0\">(</span><span class=\"st0\">'-'</span>,w1<span class=\"br0\">)</span> <span class=\"kw6\">copies</span><span class=\"br0\">(</span><span class=\"st0\">'-'</span>,w2<span class=\"br0\">)</span> <span class=\"kw6\">copies</span><span class=\"br0\">(</span><span class=\"st0\">'-'</span>,w3<span class=\"br0\">)</span><br/>     <span class=\"kw1\">Return</span><br/>::Requires rxMath Library</pre>"}, {"lang": "Pascal", "loc": 36, "block": "<pre class=\"pascal highlighted_source\"><span class=\"kw1\">Program</span> SunDial<span class=\"sy1\">;</span><br/>\u00a0<br/><span class=\"kw1\">Const</span><br/>   pi  <span class=\"sy3\">=</span> <span class=\"nu0\">3.14159265358979323846</span><span class=\"sy1\">;</span><br/>   dr  <span class=\"sy3\">=</span> pi<span class=\"sy3\">/</span><span class=\"nu0\">180.0</span><span class=\"sy1\">;</span><br/>   rd  <span class=\"sy3\">=</span> <span class=\"nu0\">180.0</span><span class=\"sy3\">/</span>pi<span class=\"sy1\">;</span><br/>   tab <span class=\"sy3\">=</span>  <span class=\"kw3\">chr</span><span class=\"br0\">(</span><span class=\"nu0\">9</span><span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>\u00a0<br/><span class=\"kw1\">Var</span><br/>   lat<span class=\"sy1\">,</span> slat<span class=\"sy1\">,</span> lng<span class=\"sy1\">,</span> ref <span class=\"sy1\">:</span> <span class=\"kw4\">Real</span><span class=\"sy1\">;</span><br/>   hla<span class=\"sy1\">,</span> hra\t       <span class=\"sy1\">:</span> <span class=\"kw4\">Real</span><span class=\"sy1\">;</span><br/>   h\t\t       <span class=\"sy1\">:</span> <span class=\"kw4\">Integer</span><span class=\"sy1\">;</span><br/>\u00a0<br/><span class=\"kw1\">function</span> tan<span class=\"br0\">(</span>val <span class=\"sy1\">:</span> <span class=\"kw4\">Real</span><span class=\"br0\">)</span> <span class=\"sy1\">:</span> <span class=\"kw4\">Real</span><span class=\"sy1\">;</span><br/><span class=\"kw1\">begin</span><br/>   tan <span class=\"sy1\">:</span><span class=\"sy3\">=</span> <span class=\"kw3\">sin</span><span class=\"br0\">(</span>val<span class=\"br0\">)</span><span class=\"sy3\">/</span><span class=\"kw3\">cos</span><span class=\"br0\">(</span>val<span class=\"br0\">)</span><br/><span class=\"kw1\">end</span><span class=\"sy1\">;</span><br/>\u00a0<br/><span class=\"kw1\">Begin</span><br/>   <span class=\"kw3\">Write</span><span class=\"br0\">(</span><span class=\"st0\">'Enter latitude: '</span><span class=\"br0\">)</span><span class=\"sy1\">;</span> <span class=\"kw3\">Read</span><span class=\"br0\">(</span>lat<span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>   <span class=\"kw3\">Write</span><span class=\"br0\">(</span><span class=\"st0\">'Enter longitude: '</span><span class=\"br0\">)</span><span class=\"sy1\">;</span> <span class=\"kw3\">Read</span><span class=\"br0\">(</span>lng<span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>   <span class=\"kw3\">Write</span><span class=\"br0\">(</span><span class=\"st0\">'Enter legal meridian: '</span><span class=\"br0\">)</span><span class=\"sy1\">;</span> <span class=\"kw3\">Read</span><span class=\"br0\">(</span>ref<span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>   <span class=\"kw3\">WriteLn</span><span class=\"sy1\">;</span><br/>   slat <span class=\"sy1\">:</span><span class=\"sy3\">=</span> <span class=\"kw3\">sin</span><span class=\"br0\">(</span>lat <span class=\"sy3\">*</span> dr<span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>   <span class=\"kw3\">WriteLn</span><span class=\"br0\">(</span><span class=\"st0\">'sine of latitude: '</span><span class=\"sy1\">,</span> slat<span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>   <span class=\"kw3\">WriteLn</span><span class=\"br0\">(</span><span class=\"st0\">'diff longitude: '</span><span class=\"sy1\">,</span> lng <span class=\"sy3\">-</span> ref<span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>   <span class=\"kw3\">WriteLn</span><span class=\"br0\">(</span><span class=\"st0\">'Hour, sun hour angle, dial hour line angle from 6am to 6pm'</span><span class=\"br0\">)</span><span class=\"sy1\">;</span><br/>   <span class=\"kw1\">for</span> h <span class=\"sy1\">:</span><span class=\"sy3\">=</span> <span class=\"sy3\">-</span><span class=\"nu0\">6</span> <span class=\"kw1\">to</span> <span class=\"nu0\">6</span> <span class=\"kw1\">do</span> <span class=\"kw1\">begin</span><br/>      hra <span class=\"sy1\">:</span><span class=\"sy3\">=</span> <span class=\"nu0\">15.0</span> <span class=\"sy3\">*</span> h<span class=\"sy1\">;</span><br/>      hra <span class=\"sy1\">:</span><span class=\"sy3\">=</span> hra <span class=\"sy3\">-</span> lng <span class=\"sy3\">+</span> ref<span class=\"sy1\">;</span><br/>      hla <span class=\"sy1\">:</span><span class=\"sy3\">=</span> <span class=\"kw3\">arctan</span><span class=\"br0\">(</span>slat <span class=\"sy3\">*</span> tan<span class=\"br0\">(</span>hra <span class=\"sy3\">*</span> dr<span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"sy3\">*</span> rd<span class=\"sy1\">;</span><br/>      <span class=\"kw3\">WriteLn</span><span class=\"br0\">(</span><span class=\"st0\">'HR= '</span><span class=\"sy1\">,</span> h<span class=\"sy1\">:</span><span class=\"nu0\">3</span><span class=\"sy1\">,</span> <span class=\"st0\">';  '</span><span class=\"sy1\">,</span><br/>\t      tab<span class=\"sy1\">,</span> <span class=\"st0\">'  HRA= '</span><span class=\"sy1\">,</span> hra<span class=\"sy1\">:</span><span class=\"nu0\">7</span><span class=\"sy1\">:</span><span class=\"nu0\">3</span><span class=\"sy1\">,</span> <span class=\"st0\">';  '</span><span class=\"sy1\">,</span><br/>\t      tab<span class=\"sy1\">,</span> <span class=\"st0\">'  HLA= '</span><span class=\"sy1\">,</span> hla<span class=\"sy1\">:</span><span class=\"nu0\">7</span><span class=\"sy1\">:</span><span class=\"nu0\">3</span><span class=\"br0\">)</span><br/>   <span class=\"kw1\">end</span><br/><span class=\"kw1\">end</span><span class=\"sy1\">.</span></pre>"}, {"lang": "Perl 6", "loc": 19, "block": "<pre class=\"perl6 highlighted_source\"><span class=\"kw2\">sub</span> postfix<span class=\"sy0\">:&lt;</span>\u00b0<span class=\"sy0\">&gt;</span> <span class=\"br0\">(</span><span class=\"re0\">$a</span><span class=\"br0\">)</span> <span class=\"br0\">{</span> <span class=\"re0\">$a</span> <span class=\"sy0\">*</span> pi <span class=\"sy0\">/</span> <span class=\"nu0\">180</span> <span class=\"br0\">}</span> <span class=\"co1\"># degrees to radians</span><br/><span class=\"kw2\">sub</span> postfix<span class=\"sy0\">:&lt;</span>\u00ae<span class=\"sy0\">&gt;</span> <span class=\"br0\">(</span><span class=\"re0\">$a</span><span class=\"br0\">)</span> <span class=\"br0\">{</span> <span class=\"re0\">$a</span> <span class=\"sy0\">*</span> <span class=\"nu0\">180</span> <span class=\"sy0\">/</span> pi <span class=\"br0\">}</span> <span class=\"co1\"># radians to degrees</span><br/>\u00a0<br/><span class=\"kw1\">my</span> <span class=\"re0\">$latitude</span>  <span class=\"sy0\">=</span> prompt <span class=\"st_h\">'Enter latitude       =&gt; '</span><span class=\"sy0\">;</span><br/><span class=\"kw1\">my</span> <span class=\"re0\">$longitude</span> <span class=\"sy0\">=</span> prompt <span class=\"st_h\">'Enter longitude      =&gt; '</span><span class=\"sy0\">;</span><br/><span class=\"kw1\">my</span> <span class=\"re0\">$meridian</span>  <span class=\"sy0\">=</span> prompt <span class=\"st_h\">'Enter legal meridian =&gt; '</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"kw1\">my</span> <span class=\"re0\">$lat_sin</span> <span class=\"sy0\">=</span> sin<span class=\"br0\">(</span> <span class=\"re0\">$latitude</span>\u00b0 <span class=\"br0\">)</span><span class=\"sy0\">;</span><br/><span class=\"kw3\">say</span> <span class=\"st_h\">'Sine of latitude: '</span><span class=\"sy0\">,</span> <span class=\"re0\">$lat_sin</span><span class=\"sy0\">.</span><span class=\"kw3\">fmt</span><span class=\"br0\">(</span><span class=\"st0\">\"%.4f\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span> <br/><span class=\"kw3\">say</span> <span class=\"st_h\">'Longitude offset: '</span><span class=\"sy0\">,</span> <span class=\"kw1\">my</span> <span class=\"re0\">$offset</span> <span class=\"sy0\">=</span> <span class=\"re0\">$meridian</span> <span class=\"sy0\">-</span> <span class=\"re0\">$longitude</span><span class=\"sy0\">;</span><br/><span class=\"kw3\">say</span> <span class=\"st_h\">'='</span> <span class=\"kw1\">x</span> <span class=\"nu0\">48</span><span class=\"sy0\">;</span><br/><span class=\"kw3\">say</span> <span class=\"st_h\">' Hour \u00a0: Sun hour angle\u00b0\u00a0: Dial hour line angle\u00b0'</span><span class=\"sy0\">;</span> <br/>\u00a0<br/><span class=\"kw1\">for</span> <span class=\"sy0\">-</span><span class=\"nu0\">6</span> <span class=\"sy0\">..</span> <span class=\"nu0\">6</span> <span class=\"sy0\">-&gt;</span> <span class=\"re0\">$hour</span> <span class=\"br0\">{</span><br/>    <span class=\"kw1\">my</span> <span class=\"re0\">$sun_deg</span>  <span class=\"sy0\">=</span> <span class=\"re0\">$hour</span> <span class=\"sy0\">*</span> <span class=\"nu0\">15</span> <span class=\"sy0\">+</span> <span class=\"re0\">$offset</span><span class=\"sy0\">;</span><br/>    <span class=\"kw1\">my</span> <span class=\"re0\">$line_deg</span> <span class=\"sy0\">=</span> <span class=\"kw3\">atan2</span><span class=\"br0\">(</span> <span class=\"br0\">(</span> sin<span class=\"br0\">(</span><span class=\"re0\">$sun_deg</span>\u00b0<span class=\"br0\">)</span> <span class=\"sy0\">*</span> <span class=\"re0\">$lat_sin</span> <span class=\"br0\">)</span><span class=\"sy0\">,</span> cos<span class=\"br0\">(</span><span class=\"re0\">$sun_deg</span>\u00b0<span class=\"br0\">)</span> <span class=\"br0\">)</span>\u00ae<span class=\"sy0\">;</span><br/>    <span class=\"kw3\">printf</span> <span class=\"st0\">\"%2d\u00a0%s     \u00a0%7.3f            \u00a0%7.3f<span class=\"es0\">\\n</span>\"</span><span class=\"sy0\">,</span><br/>    <span class=\"br0\">(</span><span class=\"re0\">$hour</span> <span class=\"sy0\">+</span> <span class=\"nu0\">12</span><span class=\"br0\">)</span> <span class=\"sy0\">%</span> <span class=\"nu0\">12</span> <span class=\"sy0\">||</span> <span class=\"nu0\">12</span><span class=\"sy0\">,</span> <span class=\"br0\">(</span><span class=\"re0\">$hour</span> <span class=\"sy0\">&lt;</span> <span class=\"nu0\">0</span> <span class=\"sy0\">??</span> <span class=\"st_h\">'AM'</span> <span class=\"sy0\">!!</span> <span class=\"st_h\">'PM'</span><span class=\"br0\">)</span><span class=\"sy0\">,</span> <span class=\"re0\">$sun_deg</span><span class=\"sy0\">,</span> <span class=\"re0\">$line_deg</span><span class=\"sy0\">;</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "Phix", "loc": 32, "block": "<pre class=\"text highlighted_source\">atom lat = prompt_number(\"Enter Latitude: \",{})<br/>atom lng = prompt_number(\"Enter Longitude: \",{})<br/>atom lm = prompt_number(\"Enter Legal Meridian: \",{})<br/>puts(1,'\\n')<br/>\u00a0<br/>atom ha, hla<br/>\u00a0<br/>function Deg2Rad(atom degrees)<br/>    return degrees * PI / 180<br/>end function<br/>\u00a0<br/>function Rad2Deg(atom radians)<br/>    return radians * 180 / PI<br/>end function<br/>\u00a0<br/>function atan2(atom y, atom x)<br/>    return 2*arctan((sqrt(power(x,2)+power(y,2)) - x)/y)<br/>end function<br/>\u00a0<br/>atom s_lat = sin(Deg2Rad(lat))<br/>\u00a0<br/>puts(1,\"Hour,  Sun Hour Angle, Dial Hour Line Angle\\n\")<br/>\u00a0<br/>for hour = -6 to 6 do<br/>    ha = hour * 15 - lng + lm<br/>    atom s = sin(Deg2Rad(ha))<br/>    atom c = cos(Deg2Rad(ha))<br/>    hla = Rad2Deg(atan2(s_lat*s,c))<br/>    printf(1,\"%3d      \u00a0%7.3f         \u00a0%7.3f\\n\",{hour+12,ha,hla})<br/>end for<br/>\u00a0<br/>{} = wait_key()</pre>"}, {"lang": "PicoLisp", "loc": 26, "block": "<pre class=\"text highlighted_source\">(load \"@lib/math.l\")<br/>\u00a0<br/>(de prompt (Str . Arg)<br/>   (prin Str \" =&gt; \")<br/>   (set (car Arg) (in NIL (read))) )<br/>\u00a0<br/>(use (Lat Lng Ref)<br/>   (prompt \"Enter latitude      \" Lat)<br/>   (prompt \"Enter longitude     \" Lng)<br/>   (prompt \"Enter legal meridian\" Ref)<br/>   (prinl)<br/>   (let Slat (sin (*/ Lat pi 180.0))<br/>      (prinl \"    sine of latitude:   \" (round Slat))<br/>      (prinl \"    diff longitude:     \" (round (- Lng Ref)))<br/>      (prinl)<br/>      (prinl \"Hour, sun hour angle, dial hour line angle from 6am to 6pm\")<br/>      (for H (range -6 6)<br/>         (let Hra (- (* 15.0 H) (- Lng Ref))<br/>            (let Hla (*/ (atan (*/ Slat (tan (*/ Hra pi 180.0)) 1.0)) 180.0 pi)<br/>               (prinl<br/>                  \"HR=\"<br/>                  (align 3 H)<br/>                  \"; HRA=\"<br/>                  (align 8 (round Hra))<br/>                  \"; HLA=\"<br/>                  (align 8 (round Hla)) ) ) ) ) ) )</pre>"}, {"lang": "PowerShell", "loc": 52, "block": "<pre class=\"powershell highlighted_source\">\u00a0<br/><span class=\"kw3\">function</span> Get<span class=\"sy0\">-</span>Sundial<br/><span class=\"br0\">{</span><br/>    <span class=\"br0\">[</span>CmdletBinding<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">]</span><br/>    <span class=\"br0\">[</span>OutputType<span class=\"br0\">(</span><span class=\"br0\">[</span>PSCustomObject<span class=\"br0\">]</span><span class=\"br0\">)</span><span class=\"br0\">]</span><br/>    <span class=\"kw3\">Param</span><br/>    <span class=\"br0\">(</span><br/>        <span class=\"br0\">[</span>Parameter<span class=\"br0\">(</span>Mandatory<span class=\"sy0\">=</span><span class=\"re0\">$true</span><span class=\"br0\">)</span><span class=\"br0\">]</span><br/>        <span class=\"br0\">[</span>ValidateRange<span class=\"br0\">(</span><span class=\"sy0\">-</span><span class=\"nu0\">90</span><span class=\"sy0\">,</span><span class=\"nu0\">90</span><span class=\"br0\">)</span><span class=\"br0\">]</span><br/>        <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><br/>        <span class=\"re0\">$Latitude</span><span class=\"sy0\">,</span><br/>\u00a0<br/>\u00a0<br/>        <span class=\"br0\">[</span>Parameter<span class=\"br0\">(</span>Mandatory<span class=\"sy0\">=</span><span class=\"re0\">$true</span><span class=\"br0\">)</span><span class=\"br0\">]</span><br/>        <span class=\"br0\">[</span>ValidateRange<span class=\"br0\">(</span><span class=\"sy0\">-</span><span class=\"nu0\">180</span><span class=\"sy0\">,</span><span class=\"nu0\">180</span><span class=\"br0\">)</span><span class=\"br0\">]</span><br/>        <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><br/>        <span class=\"re0\">$Longitude</span><span class=\"sy0\">,</span><br/>\u00a0<br/>\u00a0<br/>        <span class=\"br0\">[</span>Parameter<span class=\"br0\">(</span>Mandatory<span class=\"sy0\">=</span><span class=\"re0\">$true</span><span class=\"br0\">)</span><span class=\"br0\">]</span><br/>        <span class=\"br0\">[</span>ValidateRange<span class=\"br0\">(</span><span class=\"sy0\">-</span><span class=\"nu0\">180</span><span class=\"sy0\">,</span><span class=\"nu0\">180</span><span class=\"br0\">)</span><span class=\"br0\">]</span><br/>        <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><br/>        <span class=\"re0\">$Meridian</span><br/>    <span class=\"br0\">)</span><br/>\u00a0<br/>    <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$sinLat</span> <span class=\"sy0\">=</span> <span class=\"br0\">[</span>Math<span class=\"br0\">]</span>::Sin<span class=\"br0\">(</span><span class=\"re0\">$Latitude</span><span class=\"sy0\">*</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span><span class=\"br0\">[</span>Math<span class=\"br0\">]</span>::PI<span class=\"sy0\">/</span><span class=\"nu0\">360</span><span class=\"br0\">)</span><br/>\u00a0<br/>    <span class=\"re0\">$object</span> <span class=\"sy0\">=</span> <span class=\"br0\">[</span>PSCustomObject<span class=\"br0\">]</span><span class=\"sy0\">@</span><span class=\"br0\">{</span><br/>        <span class=\"st0\">\"Sine of Latitude\"</span>     <span class=\"sy0\">=</span> <span class=\"br0\">[</span>Math<span class=\"br0\">]</span>::Round<span class=\"br0\">(</span><span class=\"re0\">$sinLat</span><span class=\"sy0\">,</span><span class=\"nu0\">3</span><span class=\"br0\">)</span><br/>        <span class=\"st0\">\"Longitude Difference\"</span> <span class=\"sy0\">=</span> <span class=\"re0\">$Longitude</span> <span class=\"sy0\">-</span> <span class=\"re0\">$Meridian</span><br/>    <span class=\"br0\">}</span><br/>\u00a0<br/>    <span class=\"br0\">[</span><span class=\"re3\">int</span><span class=\"br0\">[</span><span class=\"br0\">]</span><span class=\"br0\">]</span><span class=\"re0\">$hours</span> <span class=\"sy0\">=</span> <span class=\"sy0\">-</span><span class=\"nu0\">6</span>..<span class=\"nu0\">6</span><br/>\u00a0<br/>    <span class=\"re0\">$hoursArray</span> <span class=\"sy0\">=</span> <span class=\"kw3\">foreach</span> <span class=\"br0\">(</span><span class=\"re0\">$hour</span> <span class=\"kw3\">in</span> <span class=\"re0\">$hours</span><span class=\"br0\">)</span><br/>    <span class=\"br0\">{</span><br/>        <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$hra</span> <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"nu0\">15</span> <span class=\"sy0\">*</span> <span class=\"re0\">$hour</span><span class=\"br0\">)</span> <span class=\"sy0\">-</span> <span class=\"br0\">(</span><span class=\"re0\">$Longitude</span> <span class=\"sy0\">-</span> <span class=\"re0\">$Meridian</span><span class=\"br0\">)</span><br/>        <span class=\"br0\">[</span><span class=\"re3\">double</span><span class=\"br0\">]</span><span class=\"re0\">$hla</span> <span class=\"sy0\">=</span> <span class=\"br0\">[</span>Math<span class=\"br0\">]</span>::Atan<span class=\"br0\">(</span><span class=\"re0\">$sinLat</span><span class=\"sy0\">*</span><span class=\"br0\">[</span>Math<span class=\"br0\">]</span>::Tan<span class=\"br0\">(</span><span class=\"re0\">$hra</span><span class=\"sy0\">*</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span><span class=\"br0\">[</span>Math<span class=\"br0\">]</span>::PI<span class=\"sy0\">/</span><span class=\"nu0\">360</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">*</span><span class=\"nu0\">360</span><span class=\"sy0\">/</span><span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span><span class=\"br0\">[</span>Math<span class=\"br0\">]</span>::PI<span class=\"br0\">)</span><br/>        <span class=\"br0\">[</span>PSCustomObject<span class=\"br0\">]</span><span class=\"sy0\">@</span><span class=\"br0\">{</span><br/>            <span class=\"st0\">\"Hour\"</span>                 <span class=\"sy0\">=</span> <span class=\"st0\">\"{0,8}\"</span> <span class=\"kw4\">-f</span> <span class=\"br0\">(</span><span class=\"br0\">(</span><span class=\"kw1\">Get-Date</span> <span class=\"kw5\">-Hour</span> <span class=\"br0\">(</span><span class=\"re0\">$hour</span> <span class=\"sy0\">+</span> <span class=\"nu0\">12</span><span class=\"br0\">)</span> <span class=\"kw5\">-Minute</span> <span class=\"nu0\">0</span><span class=\"br0\">)</span>.ToString<span class=\"br0\">(</span><span class=\"st0\">\"t\"</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>            <span class=\"st0\">\"Sun Hour Angle\"</span>       <span class=\"sy0\">=</span> <span class=\"br0\">[</span>Math<span class=\"br0\">]</span>::Round<span class=\"br0\">(</span><span class=\"re0\">$hra</span><span class=\"sy0\">,</span><span class=\"nu0\">3</span><span class=\"br0\">)</span><br/>            <span class=\"st0\">\"Dial Hour Line Angle\"</span> <span class=\"sy0\">=</span> <span class=\"br0\">[</span>Math<span class=\"br0\">]</span>::Round<span class=\"br0\">(</span><span class=\"re0\">$hla</span><span class=\"sy0\">,</span><span class=\"nu0\">3</span><span class=\"br0\">)</span><br/>        <span class=\"br0\">}</span><br/>    <span class=\"br0\">}</span><br/>\u00a0<br/>    <span class=\"re0\">$object</span> <span class=\"sy0\">|</span> <span class=\"kw1\">Add-Member</span> <span class=\"kw5\">-MemberType</span> NoteProperty <span class=\"kw5\">-Name</span> Hours <span class=\"kw5\">-Value</span> <span class=\"re0\">$hoursArray</span> <span class=\"kw5\">-PassThru</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"re0\">$sundial</span> <span class=\"sy0\">=</span> Get<span class=\"sy0\">-</span>Sundial <span class=\"sy0\">-</span>Latitude <span class=\"sy0\">-</span><span class=\"nu0\">4.95</span> <span class=\"sy0\">-</span>Longitude <span class=\"sy0\">-</span><span class=\"nu0\">150.5</span> <span class=\"sy0\">-</span>Meridian <span class=\"sy0\">-</span><span class=\"nu0\">150</span><br/><span class=\"re0\">$sundial</span> <span class=\"sy0\">|</span> <span class=\"kw1\">Select-Object</span> <span class=\"kw5\">-Property</span> <span class=\"st0\">\"Sine of Latitude\"</span><span class=\"sy0\">,</span> <span class=\"st0\">\"Longitude Difference\"</span> <span class=\"sy0\">|</span> <span class=\"kw1\">Format-List</span><br/><span class=\"re0\">$sundial</span>.Hours <span class=\"sy0\">|</span> <span class=\"kw1\">Format-Table</span> <span class=\"kw5\">-AutoSize</span><br/>\u00a0</pre>"}, {"lang": "PureBasic", "loc": 22, "block": "<pre class=\"purebasic highlighted_source\"><span class=\"kw1\">If</span> <span class=\"kw2\">OpenConsole</span><span class=\"br0\">(</span><span class=\"br0\">)</span><br/>  <span class=\"kw1\">Define</span>.f lat, slat, lng, ref<br/>  <span class=\"kw1\">Define</span>.i h<br/>  <span class=\"kw2\">Print</span><span class=\"br0\">(</span><span class=\"st0\">\"Enter latitude       =&gt; \"</span><span class=\"br0\">)</span>: lat<span class=\"sy0\">=</span><span class=\"kw2\">ValF</span><span class=\"br0\">(</span><span class=\"kw2\">Input</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>  <span class=\"kw2\">Print</span><span class=\"br0\">(</span><span class=\"st0\">\"Enter longitude      =&gt; \"</span><span class=\"br0\">)</span>: lng<span class=\"sy0\">=</span><span class=\"kw2\">ValF</span><span class=\"br0\">(</span><span class=\"kw2\">Input</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>  <span class=\"kw2\">Print</span><span class=\"br0\">(</span><span class=\"st0\">\"Enter legal meridian =&gt; \"</span><span class=\"br0\">)</span>: ref<span class=\"sy0\">=</span><span class=\"kw2\">ValF</span><span class=\"br0\">(</span><span class=\"kw2\">Input</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>  <span class=\"kw2\">PrintN</span><span class=\"br0\">(</span><span class=\"st0\">\"\"</span><span class=\"br0\">)</span><br/>\u00a0<br/>  slat<span class=\"sy0\">=</span><span class=\"kw2\">Sin</span><span class=\"br0\">(</span>lat<span class=\"sy0\">*</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>#PI<span class=\"sy0\">/</span><span class=\"nu0\">360</span><span class=\"br0\">)</span><br/>  <span class=\"kw2\">PrintN</span><span class=\"br0\">(</span><span class=\"st0\">\"    sine of latitude:   \"</span><span class=\"sy0\">+</span><span class=\"kw2\">StrF</span><span class=\"br0\">(</span>slat,<span class=\"nu0\">3</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>  <span class=\"kw2\">PrintN</span><span class=\"br0\">(</span><span class=\"st0\">\"    diff longitude:     \"</span><span class=\"sy0\">+</span><span class=\"kw2\">StrF</span><span class=\"br0\">(</span><span class=\"br0\">(</span>lng<span class=\"sy0\">-</span>ref<span class=\"br0\">)</span>,<span class=\"nu0\">3</span><span class=\"br0\">)</span><span class=\"sy0\">+</span>#CRLF$<span class=\"br0\">)</span><br/>  <span class=\"kw2\">PrintN</span><span class=\"br0\">(</span><span class=\"st0\">\"Hour, sun hour angle, dial hour line angle from 6am to 6pm\"</span><span class=\"br0\">)</span><br/>\u00a0<br/>  <span class=\"kw1\">For</span> h<span class=\"sy0\">=-</span><span class=\"nu0\">6</span> <span class=\"kw1\">To</span> <span class=\"nu0\">6</span><br/>    <span class=\"kw1\">Define</span>.f hra, hla<br/>    hra<span class=\"sy0\">=</span><span class=\"nu0\">15</span><span class=\"sy0\">*</span>h<br/>    hra<span class=\"sy0\">=</span>hra<span class=\"sy0\">-</span><span class=\"br0\">(</span>lng<span class=\"sy0\">-</span>ref<span class=\"br0\">)</span><br/>    hla<span class=\"sy0\">=</span><span class=\"kw2\">ATan</span><span class=\"br0\">(</span>slat<span class=\"sy0\">*</span><span class=\"kw2\">Tan</span><span class=\"br0\">(</span>hra<span class=\"sy0\">*</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>#PI<span class=\"sy0\">/</span><span class=\"nu0\">360</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">*</span><span class=\"nu0\">360</span><span class=\"sy0\">/</span><span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"sy0\">*</span>#PI<span class=\"br0\">)</span><br/>    <span class=\"kw2\">PrintN</span><span class=\"br0\">(</span><span class=\"st0\">\"HR=\"</span><span class=\"sy0\">+</span><span class=\"kw2\">RSet</span><span class=\"br0\">(</span><span class=\"kw2\">Str</span><span class=\"br0\">(</span>h<span class=\"br0\">)</span>,<span class=\"nu0\">3</span><span class=\"br0\">)</span><span class=\"sy0\">+</span><span class=\"st0\">\"; HRA=\"</span><span class=\"sy0\">+</span><span class=\"kw2\">RSet</span><span class=\"br0\">(</span><span class=\"kw2\">StrF</span><span class=\"br0\">(</span>hra,<span class=\"nu0\">3</span><span class=\"br0\">)</span>,<span class=\"nu0\">7</span><span class=\"br0\">)</span><span class=\"sy0\">+</span><span class=\"st0\">\"; HLA=\"</span><span class=\"sy0\">+</span><span class=\"kw2\">RSet</span><span class=\"br0\">(</span><span class=\"kw2\">StrF</span><span class=\"br0\">(</span>hla,<span class=\"nu0\">3</span><span class=\"br0\">)</span>,<span class=\"nu0\">7</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>  <span class=\"kw1\">Next</span><br/>\u00a0<br/><span class=\"kw1\">EndIf</span></pre>"}, {"lang": "Python", "loc": 21, "block": "<pre class=\"python highlighted_source\"><span class=\"kw1\">from</span> <span class=\"kw3\">__future__</span> <span class=\"kw1\">import</span> print_function<br/><span class=\"kw1\">import</span> <span class=\"kw3\">math</span><br/><span class=\"kw1\">try</span>: <span class=\"kw2\">raw_input</span><br/><span class=\"kw1\">except</span>: <span class=\"kw2\">raw_input</span> <span class=\"sy0\">=</span> <span class=\"kw2\">input</span><br/>\u00a0<br/>lat <span class=\"sy0\">=</span> <span class=\"kw2\">float</span><span class=\"br0\">(</span><span class=\"kw2\">raw_input</span><span class=\"br0\">(</span><span class=\"st0\">\"Enter latitude       =&gt; \"</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>lng <span class=\"sy0\">=</span> <span class=\"kw2\">float</span><span class=\"br0\">(</span><span class=\"kw2\">raw_input</span><span class=\"br0\">(</span><span class=\"st0\">\"Enter longitude      =&gt; \"</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>ref <span class=\"sy0\">=</span> <span class=\"kw2\">float</span><span class=\"br0\">(</span><span class=\"kw2\">raw_input</span><span class=\"br0\">(</span><span class=\"st0\">\"Enter legal meridian =&gt; \"</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/><span class=\"kw1\">print</span><span class=\"br0\">(</span><span class=\"br0\">)</span><br/>\u00a0<br/>slat <span class=\"sy0\">=</span> <span class=\"kw3\">math</span>.<span class=\"me1\">sin</span><span class=\"br0\">(</span><span class=\"kw3\">math</span>.<span class=\"me1\">radians</span><span class=\"br0\">(</span>lat<span class=\"br0\">)</span><span class=\"br0\">)</span><br/><span class=\"kw1\">print</span><span class=\"br0\">(</span><span class=\"st0\">\"    sine of latitude:  \u00a0%.3f\"</span>\u00a0% slat<span class=\"br0\">)</span><br/><span class=\"kw1\">print</span><span class=\"br0\">(</span><span class=\"st0\">\"    diff longitude:    \u00a0%.3f\"</span>\u00a0% <span class=\"br0\">(</span>lng-ref<span class=\"br0\">)</span><span class=\"br0\">)</span><br/><span class=\"kw1\">print</span><span class=\"br0\">(</span><span class=\"br0\">)</span><br/><span class=\"kw1\">print</span><span class=\"br0\">(</span><span class=\"st0\">\"Hour, sun hour angle, dial hour line angle from 6am to 6pm\"</span><span class=\"br0\">)</span><br/>\u00a0<br/><span class=\"kw1\">for</span> h <span class=\"kw1\">in</span> <span class=\"kw2\">range</span><span class=\"br0\">(</span>-<span class=\"nu0\">6</span><span class=\"sy0\">,</span> <span class=\"nu0\">7</span><span class=\"br0\">)</span>:<br/>  hra <span class=\"sy0\">=</span> <span class=\"nu0\">15</span> * h<br/>  hra -<span class=\"sy0\">=</span> lng - ref<br/>  hla <span class=\"sy0\">=</span> <span class=\"kw3\">math</span>.<span class=\"me1\">degrees</span><span class=\"br0\">(</span><span class=\"kw3\">math</span>.<span class=\"me1\">atan</span><span class=\"br0\">(</span>slat * <span class=\"kw3\">math</span>.<span class=\"me1\">tan</span><span class=\"br0\">(</span><span class=\"kw3\">math</span>.<span class=\"me1\">radians</span><span class=\"br0\">(</span>hra<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>  <span class=\"kw1\">print</span><span class=\"br0\">(</span><span class=\"st0\">\"HR=%3d; HRA=%7.3f; HLA=%7.3f\"</span>\u00a0% <span class=\"br0\">(</span>h<span class=\"sy0\">,</span> hra<span class=\"sy0\">,</span> hla<span class=\"br0\">)</span><span class=\"br0\">)</span></pre>"}, {"lang": "Racket", "loc": 78, "block": "<pre class=\"text highlighted_source\">#lang racket<br/>\u00a0<br/>;; print the table for a given latitude and longitude-offset,<br/>;; given in degrees<br/>(define (print-table lat long-offset)<br/> \u00a0;; print the table header<br/>  (display <br/>   (~a \"    sine of latitude: \"<br/>       (~r (sin (deg-&gt;rad lat)) #:precision '(= 3))<br/>       \"\\n\"<br/>       \"    diff longitude:   \"<br/>       (~r long-offset #:precision '(= 3))<br/>       \"\\n\\nHour, sun hour angle, dial hour line angle \"<br/>       \"from 6am to 6pm\\n\"))  <br/> \u00a0;; print the table<br/>  (for ([h (in-range -6 7)])<br/>    (define hra (- (* 15 h) long-offset))<br/>    (define hla (to-hla lat hra))<br/>    (display (~a \"HR=\"(pad-to 3 (~a h))\"; \"<br/>                 \"HRA=\"(pad-to 7 (~r hra #:precision '(= 3)))\"; \"<br/>                 \"HLA=\"(pad-to 7 (~r hla #:precision '(= 3)))\"\\n\"))))<br/>\u00a0<br/>\u00a0<br/>;; compute the angle on the gnomon corresponding to a<br/>;; given angle of the sun (angles given and returned in degrees)<br/>(define (to-hla lat ang)<br/>  (define lat-sign (cond [(&lt; lat 0) -1] [else 1]))<br/> \u00a0;; move to the right quadrant for <br/> \u00a0;; angles outside [-90,90]<br/>  (define correction (* (cond [(&lt; ang -90) -180]<br/>                              [(&gt; ang 90) 180]<br/>                              [else 0])<br/>                        lat-sign))<br/>  (+ (rad-&gt;deg (atan (* (sin (deg-&gt;rad lat))<br/>                        (tan (deg-&gt;rad ang)))))<br/>     correction))<br/>\u00a0<br/>;; write the prompt, return the entered number<br/>(define (prompt-&gt;num p)<br/>  (printf \"~a\" p)<br/>  (string-&gt;number (read-line)))<br/>\u00a0<br/>;; translate degrees to radians<br/>(define (deg-&gt;rad d) (* 2 pi (/ d 360)))<br/>\u00a0<br/>;; translate radians to degrees<br/>(define (rad-&gt;deg r) (* 360 (/ r (* 2 pi))))<br/>\u00a0<br/>;; add spaces to reach given length<br/>(define (pad-to cols str)<br/>  (define spaces-needed (max 0 (- cols (string-length str))))<br/>  (string-append <br/>   (list-&gt;string (for/list ([i spaces-needed]) #\\space))<br/>   str))<br/>\u00a0<br/>\u00a0<br/>;; INPUT PARAMETERS, PRINT TABLE:<br/>(define lat (prompt-&gt;num \"Enter latitude       =&gt; \"))<br/>(define lng (prompt-&gt;num \"Enter longitude      =&gt; \"))<br/>(define ref (prompt-&gt;num \"Enter legal meridian =&gt; \"))<br/>\u00a0<br/>(print-table lat (- lng ref))<br/>\u00a0<br/>;; test cases for angle conversion<br/>(require rackunit)<br/>(check &lt; (to-hla 30 89) 90)<br/>(check-= (to-hla 30 90) 90 1e-5)<br/>(check &gt; (to-hla 30 91) 90)<br/>(check &gt; (to-hla 30 -89) -90)<br/>(check-= (to-hla 30 90) 90 1e-5)<br/>(check &lt; (to-hla 30 -91) -90)<br/>(check &lt; (to-hla -30 -89) 90)<br/>(check-= (to-hla -30 -90) 90 1e-5)<br/>(check &gt; (to-hla -30 -91) 90)<br/>(check &gt; (to-hla -30 89) -90)<br/>(check-= (to-hla -30 90) -90 1e-5)<br/>(check &lt; (to-hla -30 91) -90)<br/>\u00a0</pre>"}, {"lang": "REXX", "loc": 69, "block": "<pre class=\"rexx highlighted_source\"><span class=\"coMULTI\">/*REXX program displays:   hour,  sun hour angle,  dial hour line angle,  6am \u2500\u2500\u2500\u25ba 6pm. */</span><br/><span class=\"kw1\">numeric</span> <span class=\"kw2\">digits</span> <span class=\"nu0\">60</span>                                <span class=\"coMULTI\">/*in case sundial is in polar regions. */</span><br/><span class=\"kw1\">parse</span> <span class=\"kw1\">arg</span> lat lng <span class=\"sy0\">.</span>                              <span class=\"coMULTI\">/*obtain optional arguments from the CL*/</span><br/>                              <span class=\"coMULTI\">/*     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25c4 None specified?  Then use the default*/</span><br/>                              <span class=\"coMULTI\">/*     \u2502             of Jules Verne's Lincoln Island,     */</span><br/>                              <span class=\"coMULTI\">/*     \u2193             aka      Ernest Legouve Reef.        */</span><br/><span class=\"kw1\">if</span> lat==<span class=\"st0\">''</span> <span class=\"sy0\">|</span> lat==<span class=\"st0\">\",\"</span>  <span class=\"kw3\">then</span> lat=   -<span class=\"nu0\">4.95</span>         <span class=\"coMULTI\">/*Not specified?  Then use the default.*/</span><br/><span class=\"kw1\">if</span> lng==<span class=\"st0\">''</span> <span class=\"sy0\">|</span> lng==<span class=\"st0\">\",\"</span>  <span class=\"kw3\">then</span> lng= -<span class=\"nu0\">150.5</span>          <span class=\"coMULTI\">/* \"      \"         \"   \"   \"     \"    */</span><br/>mer=<span class=\"kw6\">format</span><span class=\"br0\">(</span>lng<span class=\"sy0\">/</span><span class=\"nu0\">15</span>, , <span class=\"nu0\">0</span><span class=\"br0\">)</span> <span class=\"sy0\">*</span> <span class=\"nu0\">15</span>                     <span class=\"coMULTI\">/*calculate legal meridian longitude.  */</span><br/>sineLat=sin<span class=\"br0\">(</span> d2r<span class=\"br0\">(</span>lat<span class=\"br0\">)</span> <span class=\"br0\">)</span>                          <span class=\"coMULTI\">/*calculate sine of (radian) latitude. */</span><br/>w1=<span class=\"kw6\">max</span><span class=\"br0\">(</span> <span class=\"kw6\">length</span><span class=\"br0\">(</span><span class=\"st0\">'hour'</span>     <span class=\"br0\">)</span>, <span class=\"kw6\">length</span><span class=\"br0\">(</span><span class=\"st0\">\"midnight\"</span>  <span class=\"br0\">)</span><span class=\"br0\">)</span>  + <span class=\"nu0\">2</span>   <span class=\"coMULTI\">/*compute the max hour  width.*/</span><br/>w2=<span class=\"kw6\">max</span><span class=\"br0\">(</span> <span class=\"kw6\">length</span><span class=\"br0\">(</span><span class=\"st0\">'sun hour'</span> <span class=\"br0\">)</span>, <span class=\"kw6\">length</span><span class=\"br0\">(</span><span class=\"st0\">\"angle\"</span>     <span class=\"br0\">)</span><span class=\"br0\">)</span>  + <span class=\"nu0\">2</span>   <span class=\"coMULTI\">/*   \"     \"   \" angle    \"   */</span><br/>w3=<span class=\"kw6\">max</span><span class=\"br0\">(</span> <span class=\"kw6\">length</span><span class=\"br0\">(</span><span class=\"st0\">'dial hour'</span><span class=\"br0\">)</span>, <span class=\"kw6\">length</span><span class=\"br0\">(</span><span class=\"st0\">\"line angle\"</span><span class=\"br0\">)</span><span class=\"br0\">)</span>  + <span class=\"nu0\">2</span>   <span class=\"coMULTI\">/*   \"     \"   \" line\u00ba    \"   */</span><br/>L=<span class=\"kw6\">max</span><span class=\"br0\">(</span><span class=\"kw6\">length</span><span class=\"br0\">(</span>lat<span class=\"br0\">)</span>, <span class=\"kw6\">length</span><span class=\"br0\">(</span>lng<span class=\"br0\">)</span>, <span class=\"kw6\">length</span><span class=\"br0\">(</span>mer<span class=\"br0\">)</span> <span class=\"br0\">)</span>    <span class=\"coMULTI\">/*find maximum length of three numbers.*/</span><br/>     <span class=\"kw1\">say</span> <span class=\"st0\">'       latitude:'</span>    <span class=\"kw6\">right</span><span class=\"br0\">(</span>lat, L<span class=\"br0\">)</span>     <span class=\"coMULTI\">/*display the  latitude to the terminal*/</span><br/>     <span class=\"kw1\">say</span> <span class=\"st0\">'      longitude:'</span>    <span class=\"kw6\">right</span><span class=\"br0\">(</span>lng, L<span class=\"br0\">)</span>     <span class=\"coMULTI\">/*   \"     \"  longitude  \"  \"     \"    */</span><br/>     <span class=\"kw1\">say</span> <span class=\"st0\">' legal meridian:'</span>    <span class=\"kw6\">right</span><span class=\"br0\">(</span>mer, L<span class=\"br0\">)</span>     <span class=\"coMULTI\">/*   \"    legal meridian \"  \"     \"    */</span><br/>         indent=<span class=\"kw6\">left</span><span class=\"br0\">(</span><span class=\"st0\">''</span>, <span class=\"nu0\">30</span><span class=\"br0\">)</span>                     <span class=\"coMULTI\">/*make prettier: indented presentation.*/</span><br/>     <span class=\"kw1\">say</span> indent  <span class=\"kw6\">center</span><span class=\"br0\">(</span><span class=\"st0\">'    '</span>, w1<span class=\"br0\">)</span>   <span class=\"kw6\">center</span><span class=\"br0\">(</span><span class=\"st0\">\"sun hour\"</span>, w2<span class=\"br0\">)</span>     <span class=\"kw6\">center</span><span class=\"br0\">(</span><span class=\"st0\">'dial hour'</span> , w3<span class=\"br0\">)</span><br/>     <span class=\"kw1\">say</span> indent  <span class=\"kw6\">center</span><span class=\"br0\">(</span><span class=\"st0\">'hour'</span>, w1<span class=\"br0\">)</span>   <span class=\"kw6\">center</span><span class=\"br0\">(</span><span class=\"st0\">\"angle\"</span>   , w2<span class=\"br0\">)</span>     <span class=\"kw6\">center</span><span class=\"br0\">(</span><span class=\"st0\">'line angle'</span>, w3<span class=\"br0\">)</span><br/><span class=\"kw1\">call</span> sep                                         <span class=\"coMULTI\">/*to help a one\u2500eyed pirate's eyeball. */</span><br/>        <span class=\"kw1\">do</span> h=-<span class=\"nu0\">6</span>  <span class=\"kw2\">to</span> <span class=\"nu0\">6</span>                            <span class=\"coMULTI\">/*Okey dokey then, now let's show stuff*/</span><br/>             <span class=\"kw1\">select</span><br/>             <span class=\"kw3\">when</span> <span class=\"kw6\">abs</span><span class=\"br0\">(</span>h<span class=\"br0\">)</span>==<span class=\"nu0\">12</span>  <span class=\"kw3\">then</span> hc=<span class=\"st0\">'midnight'</span> <span class=\"coMULTI\">/*Holy smokes! Above the arctic circle.*/</span><br/>             <span class=\"kw3\">when</span> h <span class=\"sy0\">&lt;</span><span class=\"nu0\">0</span>        <span class=\"kw3\">then</span> hc= -h  <span class=\"st0\">'am'</span>  <span class=\"coMULTI\">/*convert da hour for human beans (sic)*/</span><br/>             <span class=\"kw3\">when</span> h==<span class=\"nu0\">0</span>        <span class=\"kw3\">then</span> hc=<span class=\"st0\">'noon'</span>     <span class=\"coMULTI\">/*   \u00b7\u00b7\u00b7  easier to understand now.    */</span><br/>             <span class=\"kw3\">when</span> h <span class=\"sy0\">&gt;</span><span class=\"nu0\">0</span>        <span class=\"kw3\">then</span> hc= h   <span class=\"st0\">'pm'</span>  <span class=\"coMULTI\">/*   \u00b7\u00b7\u00b7  even more meaningful.        */</span><br/>             <span class=\"kw3\">end</span>   <span class=\"coMULTI\">/*select*/</span><br/>        hra=<span class=\"nu0\">15</span> <span class=\"sy0\">*</span> h  -  lng + mer                 <span class=\"coMULTI\">/*calculate sun hour angle (in degrees)*/</span><br/>        hla=r2d<span class=\"br0\">(</span> Atan<span class=\"br0\">(</span>sineLat <span class=\"sy0\">*</span> tan<span class=\"br0\">(</span> d2r<span class=\"br0\">(</span>hra<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"coMULTI\">/*this is the heavy lifting calculation*/</span><br/>        <span class=\"kw1\">if</span> <span class=\"kw6\">abs</span><span class=\"br0\">(</span>hra<span class=\"br0\">)</span><span class=\"sy0\">&gt;</span><span class=\"nu0\">90</span>  <span class=\"kw3\">then</span> hla=hla + <span class=\"nu0\">180</span><span class=\"sy0\">*</span><span class=\"kw6\">sign</span><span class=\"br0\">(</span>hra<span class=\"sy0\">*</span>lat<span class=\"br0\">)</span>   <span class=\"coMULTI\">/*adjust for negative angle. */</span><br/>        <span class=\"kw1\">say</span> indent <span class=\"kw6\">center</span><span class=\"br0\">(</span>hc, w1<span class=\"br0\">)</span>  <span class=\"kw6\">right</span><span class=\"br0\">(</span><span class=\"kw6\">format</span><span class=\"br0\">(</span>hra, ,<span class=\"nu0\">1</span><span class=\"br0\">)</span>, w2<span class=\"br0\">)</span>   <span class=\"kw6\">right</span><span class=\"br0\">(</span><span class=\"kw6\">format</span><span class=\"br0\">(</span>hla, ,<span class=\"nu0\">1</span><span class=\"br0\">)</span>, w3<span class=\"br0\">)</span><br/>        <span class=\"kw3\">end</span>        <span class=\"coMULTI\">/*h*/</span><br/><span class=\"kw1\">call</span> sep                                         <span class=\"coMULTI\">/*to help a one\u2500eyed pirate's eyeball. */</span><br/><span class=\"kw1\">exit</span>                                             <span class=\"coMULTI\">/*stick a fork in it,  we're all done. */</span><br/><span class=\"coMULTI\">/*\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500*/</span><br/>pi:   pi= <span class=\"nu0\">3.1415926535897932384626433832795028841971693993751058209749445923078</span>; <span class=\"kw1\">return</span> pi<br/>d2d:  <span class=\"kw1\">return</span> <span class=\"kw1\">arg</span><span class=\"br0\">(</span><span class=\"nu0\">1</span><span class=\"br0\">)</span>              <span class=\"sy0\">//</span> <span class=\"nu0\">360</span>          <span class=\"coMULTI\">/*normalize degrees \u2500\u2500\u25ba a unit circle. */</span><br/>d2r:  <span class=\"kw1\">return</span> r2r<span class=\"br0\">(</span> <span class=\"kw1\">arg</span><span class=\"br0\">(</span><span class=\"nu0\">1</span><span class=\"br0\">)</span> <span class=\"sy0\">*</span> pi<span class=\"br0\">(</span><span class=\"br0\">)</span>   <span class=\"sy0\">/</span> <span class=\"nu0\">180</span><span class=\"br0\">)</span>         <span class=\"coMULTI\">/*convert degrees   \u2500\u2500\u25ba radians.       */</span><br/>r2d:  <span class=\"kw1\">return</span> d2d<span class=\"br0\">(</span> <span class=\"br0\">(</span><span class=\"kw1\">arg</span><span class=\"br0\">(</span><span class=\"nu0\">1</span><span class=\"br0\">)</span> <span class=\"sy0\">*</span> <span class=\"nu0\">180</span>   <span class=\"sy0\">/</span> pi<span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"br0\">)</span>  <span class=\"br0\">)</span>    <span class=\"coMULTI\">/*convert radians   \u2500\u2500\u25ba degrees.       */</span><br/>r2r:  <span class=\"kw1\">return</span> <span class=\"kw1\">arg</span><span class=\"br0\">(</span><span class=\"nu0\">1</span><span class=\"br0\">)</span>              <span class=\"sy0\">//</span><span class=\"br0\">(</span>pi<span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"sy0\">*</span> <span class=\"nu0\">2</span><span class=\"br0\">)</span>    <span class=\"coMULTI\">/*normalize radians \u2500\u2500\u25ba a unit circle. */</span><br/>sep:  <span class=\"kw1\">say</span> indent  <span class=\"kw6\">copies</span><span class=\"br0\">(</span><span class=\"st0\">'\u2550'</span>, w1<span class=\"br0\">)</span>    <span class=\"kw6\">copies</span><span class=\"br0\">(</span><span class=\"st0\">\"\u2550\"</span>, w2<span class=\"br0\">)</span>     <span class=\"kw6\">copies</span><span class=\"br0\">(</span><span class=\"st0\">'\u2550'</span>, w3<span class=\"br0\">)</span>;  <span class=\"kw1\">return</span><br/>tan:  <span class=\"kw1\">procedure</span>; <span class=\"kw1\">parse</span> <span class=\"kw1\">arg</span> x;  _=cos<span class=\"br0\">(</span>x<span class=\"br0\">)</span>;   <span class=\"kw1\">if</span> _=<span class=\"nu0\">0</span>  <span class=\"kw3\">then</span> <span class=\"kw1\">call</span> tanErr;       <span class=\"kw1\">return</span> sin<span class=\"br0\">(</span>x<span class=\"br0\">)</span><span class=\"sy0\">/</span>_<br/>tellErr: <span class=\"kw1\">say</span>;   <span class=\"kw1\">say</span> <span class=\"st0\">'*** error ***'</span>;     <span class=\"kw1\">say</span>;      <span class=\"kw1\">say</span> <span class=\"kw1\">arg</span><span class=\"br0\">(</span><span class=\"nu0\">1</span><span class=\"br0\">)</span>;      <span class=\"kw1\">say</span>;          <span class=\"kw1\">exit</span> <span class=\"nu0\">13</span><br/>AsinErr: <span class=\"kw1\">call</span> tellErr <span class=\"st0\">'Asin(x),  X  must be in the range of  -1 \u2500\u2500\u25ba +1,  X='</span>  x<br/>AcosErr: <span class=\"kw1\">call</span> tellErr <span class=\"st0\">'Acos(x),  X  must be in the range of  -1 \u2500\u2500\u25ba +1,  X='</span>  x<br/>tanErr:  <span class=\"kw1\">call</span> tellErr <span class=\"st0\">'tan('</span> <span class=\"sy0\">||</span> x<span class=\"st0\">\") causes division by zero,  X=\"</span>             x<br/>Acos: <span class=\"kw1\">procedure</span>; <span class=\"kw1\">arg</span> x;  <span class=\"kw1\">if</span> x<span class=\"sy0\">&lt;</span>-<span class=\"nu0\">1</span> <span class=\"sy0\">|</span> x<span class=\"sy0\">&gt;</span><span class=\"nu0\">1</span>  <span class=\"kw3\">then</span> <span class=\"kw1\">call</span> AcosErr;      <span class=\"kw1\">return</span> <span class=\"sy0\">.</span>5 <span class=\"sy0\">*</span> pi<span class=\"br0\">(</span><span class=\"br0\">)</span> - Asin<span class=\"br0\">(</span>x<span class=\"br0\">)</span><br/>Atan: <span class=\"kw1\">procedure</span>; <span class=\"kw1\">parse</span> <span class=\"kw1\">arg</span> x; <span class=\"kw1\">if</span> <span class=\"kw6\">abs</span><span class=\"br0\">(</span>x<span class=\"br0\">)</span>=<span class=\"nu0\">1</span> <span class=\"kw3\">then</span> <span class=\"kw1\">return</span> pi<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">/</span><span class=\"nu0\">4</span><span class=\"sy0\">*</span>x; <span class=\"kw1\">return</span> Asin<span class=\"br0\">(</span>x<span class=\"sy0\">/</span>sqrt<span class=\"br0\">(</span><span class=\"nu0\">1</span>+x<span class=\"sy0\">*</span>x<span class=\"br0\">)</span><span class=\"br0\">)</span><br/><span class=\"coMULTI\">/*\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500*/</span><br/>Asin: <span class=\"kw1\">procedure</span>; <span class=\"kw1\">parse</span> <span class=\"kw1\">arg</span> x;   <span class=\"kw1\">if</span> x<span class=\"sy0\">&lt;</span>-<span class=\"nu0\">1</span> <span class=\"sy0\">|</span> x<span class=\"sy0\">&gt;</span><span class=\"nu0\">1</span>  <span class=\"kw3\">then</span> <span class=\"kw1\">call</span> AsinErr;    s=x<span class=\"sy0\">*</span>x<br/>      <span class=\"kw1\">if</span> <span class=\"kw6\">abs</span><span class=\"br0\">(</span>x<span class=\"br0\">)</span><span class=\"sy0\">&gt;</span>=sqrt<span class=\"br0\">(</span><span class=\"nu0\">2</span><span class=\"br0\">)</span><span class=\"sy0\">*.</span>5  <span class=\"kw3\">then</span> <span class=\"kw1\">return</span> <span class=\"kw6\">sign</span><span class=\"br0\">(</span>x<span class=\"br0\">)</span> <span class=\"sy0\">*</span> Acos<span class=\"br0\">(</span>sqrt<span class=\"br0\">(</span><span class=\"nu0\">1</span>-s<span class=\"br0\">)</span><span class=\"br0\">)</span>;  z=x;     o=x;     p=z<br/>        <span class=\"kw1\">do</span> j=<span class=\"nu0\">2</span> <span class=\"kw2\">by</span> <span class=\"nu0\">2</span>; o=o<span class=\"sy0\">*</span>s<span class=\"sy0\">*</span><span class=\"br0\">(</span>j-<span class=\"nu0\">1</span><span class=\"br0\">)</span><span class=\"sy0\">/</span>j; z=z+o<span class=\"sy0\">/</span><span class=\"br0\">(</span>j+<span class=\"nu0\">1</span><span class=\"br0\">)</span>; <span class=\"kw1\">if</span> z=p  <span class=\"kw3\">then</span> <span class=\"kw1\">leave</span>; p=z; <span class=\"kw3\">end</span>;    <span class=\"kw1\">return</span> z<br/><span class=\"coMULTI\">/*\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500*/</span><br/>sin:  <span class=\"kw1\">procedure</span>; <span class=\"kw1\">parse</span> <span class=\"kw1\">arg</span> x;   x=r2r<span class=\"br0\">(</span>x<span class=\"br0\">)</span>;    <span class=\"kw1\">numeric</span> <span class=\"kw2\">fuzz</span> <span class=\"kw6\">min</span><span class=\"br0\">(</span><span class=\"nu0\">5</span>, <span class=\"kw2\">digits</span><span class=\"br0\">(</span><span class=\"br0\">)</span> - <span class=\"nu0\">3</span><span class=\"br0\">)</span><br/>                 <span class=\"kw1\">if</span> <span class=\"kw6\">abs</span><span class=\"br0\">(</span>x<span class=\"br0\">)</span>=pi<span class=\"br0\">(</span><span class=\"br0\">)</span>  <span class=\"kw3\">then</span> <span class=\"kw1\">return</span>\u00a0;                       <span class=\"kw1\">return</span> <span class=\"sy0\">.</span>sinCos<span class=\"br0\">(</span>x,x,<span class=\"nu0\">1</span><span class=\"br0\">)</span><br/><span class=\"coMULTI\">/*\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500*/</span><br/>cos:  <span class=\"kw1\">procedure</span>; <span class=\"kw1\">parse</span> <span class=\"kw1\">arg</span> x;         x=r2r<span class=\"br0\">(</span>x<span class=\"br0\">)</span>;          a=<span class=\"kw6\">abs</span><span class=\"br0\">(</span>x<span class=\"br0\">)</span>;          hpi=pi<span class=\"sy0\">*.</span>5<br/>                 <span class=\"kw1\">numeric</span> <span class=\"kw2\">fuzz</span> <span class=\"kw6\">min</span><span class=\"br0\">(</span><span class=\"nu0\">6</span>, <span class=\"kw2\">digits</span><span class=\"br0\">(</span><span class=\"br0\">)</span> - <span class=\"nu0\">3</span><span class=\"br0\">)</span>;      <span class=\"kw1\">if</span> a=pi<span class=\"br0\">(</span><span class=\"br0\">)</span>    <span class=\"kw3\">then</span> <span class=\"kw1\">return</span> -<span class=\"nu0\">1</span><br/>                 <span class=\"kw1\">if</span> a=hpi <span class=\"sy0\">|</span> a=hpi<span class=\"sy0\">*</span><span class=\"nu0\">3</span>  <span class=\"kw3\">then</span> <span class=\"kw1\">return</span> <span class=\"nu0\">0</span>;      <span class=\"kw1\">if</span> a=pi<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">/</span><span class=\"nu0\">3</span>  <span class=\"kw3\">then</span> <span class=\"kw1\">return</span> <span class=\"sy0\">.</span>5<br/>                 <span class=\"kw1\">if</span> a=pi<span class=\"br0\">(</span><span class=\"br0\">)</span> <span class=\"sy0\">*</span> <span class=\"nu0\">2</span> <span class=\"sy0\">/</span> <span class=\"nu0\">3</span>   <span class=\"kw3\">then</span> <span class=\"kw1\">return</span> -<span class=\"sy0\">.</span>5;               <span class=\"kw1\">return</span> <span class=\"sy0\">.</span>sinCos<span class=\"br0\">(</span><span class=\"nu0\">1</span>,<span class=\"nu0\">1</span>,-<span class=\"nu0\">1</span><span class=\"br0\">)</span><br/><span class=\"coMULTI\">/*\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500*/</span><br/><span class=\"sy0\">.</span>sinCos: <span class=\"kw1\">parse</span> <span class=\"kw1\">arg</span> z,_,i;             x=x<span class=\"sy0\">*</span>x;                         p=z<br/>           <span class=\"kw1\">do</span> k=<span class=\"nu0\">2</span> <span class=\"kw2\">by</span> <span class=\"nu0\">2</span>; _= -_<span class=\"sy0\">*</span>x<span class=\"sy0\">/</span><span class=\"br0\">(</span>k<span class=\"sy0\">*</span><span class=\"br0\">(</span>k+i<span class=\"br0\">)</span><span class=\"br0\">)</span>; z=z+_; <span class=\"kw1\">if</span> z=p  <span class=\"kw3\">then</span> <span class=\"kw1\">leave</span>; p=z; <span class=\"kw3\">end</span>;   <span class=\"kw1\">return</span> z<br/><span class=\"coMULTI\">/*\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500*/</span><br/>sqrt: <span class=\"kw1\">procedure</span>; <span class=\"kw1\">parse</span> <span class=\"kw1\">arg</span> x;  <span class=\"kw1\">if</span> x=<span class=\"nu0\">0</span>  <span class=\"kw3\">then</span> <span class=\"kw1\">return</span> <span class=\"nu0\">0</span>;  d=<span class=\"kw2\">digits</span><span class=\"br0\">(</span><span class=\"br0\">)</span>;  <span class=\"kw1\">numeric</span> <span class=\"kw2\">digits</span>;  h=d+<span class=\"nu0\">6</span><br/>      m<span class=\"sy0\">.</span>=<span class=\"nu0\">9</span>; <span class=\"kw1\">numeric</span> <span class=\"kw2\">form</span>; <span class=\"kw1\">parse</span> <span class=\"kw2\">value</span> <span class=\"kw6\">format</span><span class=\"br0\">(</span>x,<span class=\"nu0\">2</span>,<span class=\"nu0\">1</span>,,<span class=\"nu0\">0</span><span class=\"br0\">)</span> <span class=\"st0\">'E0'</span> <span class=\"kw2\">with</span> g <span class=\"st0\">'E'</span> _ <span class=\"sy0\">.</span>; g=g<span class=\"sy0\">*.</span>5<span class=\"st0\">'e'</span>_\u00a0% <span class=\"nu0\">2</span><br/>        <span class=\"kw1\">do</span> j=<span class=\"nu0\">0</span>  <span class=\"kw2\">while</span> h<span class=\"sy0\">&gt;</span><span class=\"nu0\">9</span>;      m<span class=\"sy0\">.</span>j=h;              h=h%2+<span class=\"nu0\">1</span>;         <span class=\"kw3\">end</span>  <span class=\"coMULTI\">/*j*/</span><br/>        <span class=\"kw1\">do</span> k=j+<span class=\"nu0\">5</span>  <span class=\"kw2\">to</span> <span class=\"nu0\">0</span>  <span class=\"kw2\">by</span> -<span class=\"nu0\">1</span>;  <span class=\"kw1\">numeric</span> <span class=\"kw2\">digits</span> m<span class=\"sy0\">.</span>k; g=<span class=\"br0\">(</span>g+x<span class=\"sy0\">/</span>g<span class=\"br0\">)</span><span class=\"sy0\">*.</span>5;    <span class=\"kw3\">end</span>  <span class=\"coMULTI\">/*k*/</span>;  <span class=\"kw1\">return</span> g</pre>"}, {"lang": "Ring", "loc": 26, "block": "<pre class=\"text highlighted_source\">\u00a0<br/># Project\u00a0: Horizontal sundial calculations<br/>\u00a0<br/>load \"stdlib.ring\"<br/>pi = 22/7<br/>decimals(3)<br/>\u00a0<br/>latitude = -4.95<br/>longitude = -150.5<br/>meridian = -150.0<br/>\u00a0<br/>see \"enter latitude (degrees): \" + latitude + nl<br/>see \"enter longitude (degrees): \" + longitude + nl<br/>see \"enter legal meridian (degrees): \" + meridian + nl<br/>\u00a0<br/>see \"time   \" + \"   sun hour angle\" + \"      dial hour line angle\" + nl<br/>\u00a0<br/>for hour = 6 to 18<br/>    hra = 15*hour - longitude + meridian - 180<br/>    hla = 180/pi*(atan(sin(pi/180*latitude) * tan(pi/180*hra)))<br/>    if fabs(hra) &gt; 90 <br/>       hla = hla + 180 * sign(hra * latitude)<br/>    ok<br/>    see \"\" + hour + \"           \" + hra + \"                  \" + hla + nl<br/>next<br/>\u00a0</pre>"}, {"lang": "Ruby", "loc": 23, "block": "<pre class=\"ruby highlighted_source\"><span class=\"kw1\">include</span> <span class=\"kw4\">Math</span><br/>DtoR = PI<span class=\"sy0\">/</span><span class=\"nu0\">180</span><br/>\u00a0<br/><span class=\"kw3\">print</span> <span class=\"st0\">'Enter latitude: '</span><br/>lat = <span class=\"kw3\">Float</span><span class=\"br0\">(</span> <span class=\"kw3\">gets</span> <span class=\"br0\">)</span><br/><span class=\"kw3\">print</span> <span class=\"st0\">'Enter longitude: '</span><br/>lng = <span class=\"kw3\">Float</span><span class=\"br0\">(</span> <span class=\"kw3\">gets</span> <span class=\"br0\">)</span><br/><span class=\"kw3\">print</span> <span class=\"st0\">'Enter legal meridian: '</span><br/>ref = <span class=\"kw3\">Float</span><span class=\"br0\">(</span> <span class=\"kw3\">gets</span> <span class=\"br0\">)</span><br/><span class=\"kw3\">puts</span><br/>\u00a0<br/>slat = sin<span class=\"br0\">(</span> lat <span class=\"sy0\">*</span> DtoR <span class=\"br0\">)</span><br/>\u00a0<br/><span class=\"kw3\">puts</span> <span class=\"st0\">\"    sine of latitude: \u00a0%.3f\"</span><span class=\"sy0\">%</span> slat<br/><span class=\"kw3\">puts</span> <span class=\"st0\">\"    diff longitude:   \u00a0%.3f\"</span><span class=\"sy0\">%</span> <span class=\"br0\">(</span>lng<span class=\"sy0\">-</span>ref<span class=\"br0\">)</span><br/><span class=\"kw3\">puts</span><br/><span class=\"kw3\">puts</span> <span class=\"st0\">'Hour, sun hour angle, dial hour line angle from 6am to 6pm'</span><br/><span class=\"sy0\">-</span><span class=\"nu0\">6</span>.<span class=\"me1\">upto</span><span class=\"br0\">(</span><span class=\"nu0\">6</span><span class=\"br0\">)</span> <span class=\"kw1\">do</span> <span class=\"sy0\">|</span>h<span class=\"sy0\">|</span><br/>  hra = <span class=\"nu0\">15</span> <span class=\"sy0\">*</span> h<br/>  hra <span class=\"sy0\">-</span>= lng <span class=\"sy0\">-</span> ref<br/>  hla =  atan<span class=\"br0\">(</span> slat <span class=\"sy0\">*</span> tan<span class=\"br0\">(</span> hra <span class=\"sy0\">*</span> DtoR <span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"sy0\">/</span> DtoR <br/>  <span class=\"kw3\">puts</span> <span class=\"st0\">\"HR =%3d; HRA =%7.3f; HLA =%7.3f\"</span> <span class=\"sy0\">%</span> <span class=\"br0\">[</span>h, hra, hla<span class=\"br0\">]</span><br/><span class=\"kw1\">end</span></pre>"}, {"lang": "Run BASIC", "loc": 29, "block": "<pre class=\"text highlighted_source\">global pi<br/>pi = 22 / 7<br/>\u00a0<br/>print \"Enter latitude  (degrees)    \u00a0: \";\u00a0:input latitude      '    -4.95<br/>print \"Enter longitude (degrees)    \u00a0: \";\u00a0:input longitude     '   -150.5<br/>print \"Enter legal meridian (degrees): \";\u00a0:input meridian      '   -150.0<br/>\u00a0<br/>print<br/>print \"Time     Sun hour angle   Dial hour line angle\"<br/>\u00a0<br/>for hour = 6 TO 18<br/>   hra = (15 * hour) - longitude + meridian -180<br/>   hla =rad2deg( atn( sin( deg2rad( latitude)) *tan( deg2rad( hra))))<br/>   if abs( hra) &gt;90 then hla =hla +180 *sgn( hra *latitude)<br/>   print using( \"##\", hour);\"         \";using(\"####.##\", hra);\"         \";using(\"####.###\", hla)<br/>next hour<br/>\u00a0<br/>function rad2deg( theta)<br/>    rad2deg =theta *180 /pi<br/>end function<br/>\u00a0<br/>function deg2rad( theta)<br/>    deg2rad =theta *pi /180<br/>end function<br/>\u00a0<br/>function sgn( x)<br/>    if x &gt;0 then sgn =1 else sgn =-1<br/>end function<br/>end</pre>"}, {"lang": "Sather", "loc": 32, "block": "<pre class=\"text highlighted_source\">class MAIN is<br/>\u00a0<br/>  getvalue(s:STR):FLT is<br/>    #OUT + s + \": \";<br/>    return #FLT(#IN.get_line.str);<br/>  end;<br/>\u00a0<br/>  dr(a:FLT):FLT is<br/>    return a * FLT::pi / 180.0;<br/>  end;<br/>\u00a0<br/>  rd(a:FLT):FLT is<br/>    return a * 180.0 / FLT::pi;<br/>  end;<br/>\u00a0<br/>  main is<br/>    lat\u00a0::= getvalue(\"Enter latitude\");<br/>    lng\u00a0::= getvalue(\"Enter longitude\");<br/>    ref\u00a0::= getvalue(\"Enter legal meridian\");<br/>    #OUT + \"\\n\";<br/>    slat\u00a0::= dr(lat).sin;<br/>    #OUT + \"sine of latitude: \" + #FMT(\"%.3f\\n\", slat);<br/>    #OUT + \"diff longitude: \" + #FMT(\"%.3f\\n\\n\", lng - ref);<br/>    #OUT + \"Hour, sun hour angle, dial hour line angle from 6am to 6pm\\n\";<br/>    loop h\u00a0::= (-6).upto!(6);<br/>      hra\u00a0::= 15.0 * h.flt;<br/>      hra\u00a0:= hra - lng + ref;<br/>      hla\u00a0::= rd((dr(hra).tan * slat).atan);<br/>      #OUT + #FMT(\"HR =\u00a0%3d;  \\t  HRA=%7.3f;  \\t  HLA=\u00a0%7.3f\\n\", h, hra, hla);<br/>    end;<br/>  end;<br/>end;</pre>"}, {"lang": "Scala", "loc": 27, "block": "<pre class=\"scala highlighted_source\"><a href=\"http://scala-lang.org\"><span class=\"kw1\">import</span></a> java.<span class=\"me1\">util</span>.<span class=\"me1\">Scanner</span><br/>\u00a0<br/><a href=\"http://scala-lang.org\"><span class=\"kw1\">import</span></a> scala.<span class=\"me1\">math</span>.<span class=\"br0\">{</span>atan2, cos, sin, toDegrees, toRadians<span class=\"br0\">}</span><br/>\u00a0<br/><a href=\"http://scala-lang.org\"><span class=\"kw1\">object</span></a> Sundial <a href=\"http://scala-lang.org\"><span class=\"kw1\">extends</span></a> App <span class=\"br0\">{</span><br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">var</span></a> lat, slat,lng, ref <span class=\"sy0\">=</span> .0<br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> sc <span class=\"sy0\">=</span> <a href=\"http://scala-lang.org\"><span class=\"kw1\">new</span></a> Scanner<span class=\"br0\">(</span>System.<span class=\"me1\">in</span><span class=\"br0\">)</span><br/>  print<span class=\"br0\">(</span><span class=\"st0\">\"Enter latitude: \"</span><span class=\"br0\">)</span><br/>  lat <span class=\"sy0\">=</span> sc.<span class=\"me1\">nextDouble</span><br/>  print<span class=\"br0\">(</span><span class=\"st0\">\"Enter longitude: \"</span><span class=\"br0\">)</span><br/>  lng <span class=\"sy0\">=</span> sc.<span class=\"me1\">nextDouble</span><br/>  print<span class=\"br0\">(</span><span class=\"st0\">\"Enter legal meridian: \"</span><span class=\"br0\">)</span><br/>  ref <span class=\"sy0\">=</span> sc.<span class=\"me1\">nextDouble</span><br/>  println<span class=\"br0\">(</span><span class=\"br0\">)</span><br/>  slat <span class=\"sy0\">=</span> Math.<span class=\"me1\">sin</span><span class=\"br0\">(</span>Math.<span class=\"me1\">toRadians</span><span class=\"br0\">(</span>lat<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>  println<span class=\"br0\">(</span>f<span class=\"st0\">\"sine of latitude: $slat%.3f\"</span><span class=\"br0\">)</span><br/>  println<span class=\"br0\">(</span>f<span class=\"st0\">\"diff longitude: ${lng - ref}%.3f<span class=\"es1\">\\n</span>\"</span><span class=\"br0\">)</span><br/>  println<span class=\"br0\">(</span><span class=\"st0\">\"Hour, sun hour angle, dial hour line angle from 06h00 to 18h00\"</span><span class=\"br0\">)</span><br/>\u00a0<br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">for</span></a> <span class=\"br0\">(</span>h <span class=\"sy0\">&lt;</span>- -<span class=\"nu0\">6</span> to <span class=\"nu0\">6</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> hra <span class=\"sy0\">=</span> <span class=\"nu0\">15.0</span> <span class=\"sy0\">*</span> h - lng + ref<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> hraRad <span class=\"sy0\">=</span> toRadians<span class=\"br0\">(</span>hra<span class=\"br0\">)</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> hla <span class=\"sy0\">=</span> toDegrees<span class=\"br0\">(</span>atan2<span class=\"br0\">(</span>Math.<span class=\"me1\">sin</span><span class=\"br0\">(</span>hraRad<span class=\"br0\">)</span> <span class=\"sy0\">*</span> sin<span class=\"br0\">(</span>Math.<span class=\"me1\">toRadians</span><span class=\"br0\">(</span>lat<span class=\"br0\">)</span><span class=\"br0\">)</span>, cos<span class=\"br0\">(</span>hraRad<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>    println<span class=\"br0\">(</span>f<span class=\"st0\">\"HR= $h%3d;<span class=\"es1\">\\t</span>HRA=$hra%7.3f;<span class=\"es1\">\\t</span>HLA= $hla%7.3f\"</span><span class=\"br0\">)</span><br/>  <span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"br0\">}</span></pre>"}, {"lang": "Seed7", "loc": 37, "block": "<pre class=\"text highlighted_source\">$ include \"seed7_05.s7i\";<br/>  include \"float.s7i\";<br/>  include \"math.s7i\";<br/>\u00a0<br/>const float: radianToDegrees is 57.295779513082320876798154814114;<br/>const float: degreesToRadian is 0.017453292519943295769236907684883;<br/>\u00a0<br/>const proc: main is func<br/>  local<br/>    var float: lat is 0.0;<br/>    var float: slat is 0.0;<br/>    var float: lng is 0.0;<br/>    var float: meridian is 0.0;<br/>    var float: hla is 0.0;<br/>    var float: hra is 0.0;<br/>    var integer: h is 0;<br/>  begin<br/>    write(\"Enter latitude: \");<br/>    readln(lat);<br/>    write(\"Enter longitude: \");<br/>    readln(lng);<br/>    write(\"Enter legal meridian: \");<br/>    readln(meridian);<br/>    writeln;<br/>    slat\u00a0:= sin(degreesToRadian * lat);<br/>    writeln(\"sine of latitude: \" &lt;&amp; slat digits 3);<br/>    writeln(\"diff longitude: \" &lt;&amp; lng - meridian digits 3);<br/>    writeln;<br/>    writeln(\"Hour, sun hour angle, dial hour line angle from 6am to 6pm\");<br/>    for h range -6 to 6 do<br/>      hra\u00a0:= 15.0 * flt(h);<br/>      hra\u00a0:= hra - lng + meridian;<br/>      hla\u00a0:= radianToDegrees * atan(slat * tan(degreesToRadian * hra));<br/>      writeln(\"HR= \" &lt;&amp; h lpad 2 &lt;&amp; \"; HRA= \" &lt;&amp; hra digits 3 lpad 7 &lt;&amp;<br/>              \"; HLA= \" &lt;&amp; hla digits 3 lpad 7);<br/>    end for;<br/>  end func;</pre>"}, {"lang": "Sidef", "loc": 23, "block": "<pre class=\"ruby highlighted_source\">var latitude  = read<span class=\"br0\">(</span><span class=\"st0\">'Enter latitude       =&gt; '</span>, Number<span class=\"br0\">)</span><br/>var longitude = read<span class=\"br0\">(</span><span class=\"st0\">'Enter longitude      =&gt; '</span>, Number<span class=\"br0\">)</span><br/>var meridian  = read<span class=\"br0\">(</span><span class=\"st0\">'Enter legal meridian =&gt; '</span>, Number<span class=\"br0\">)</span><br/>\u00a0<br/>var lat_sin = latitude.<span class=\"me1\">deg2rad</span>.<span class=\"me1\">sin</span><br/>var offset = <span class=\"br0\">(</span>meridian <span class=\"sy0\">-</span> longitude<span class=\"br0\">)</span><br/>\u00a0<br/>say<span class=\"br0\">(</span><span class=\"st0\">'Sine of latitude: '</span>, <span class=\"st0\">\"%.4f\"</span> <span class=\"sy0\">%</span> lat_sin<span class=\"br0\">)</span><br/>say<span class=\"br0\">(</span><span class=\"st0\">'Longitude offset: '</span>, offset<span class=\"br0\">)</span><br/>say<span class=\"br0\">(</span><span class=\"st0\">'='</span> <span class=\"sy0\">*</span> <span class=\"nu0\">48</span><span class=\"br0\">)</span><br/>say<span class=\"br0\">(</span><span class=\"st0\">' Hour \u00a0: Sun hour angle\u00b0\u00a0: Dial hour line angle\u00b0'</span><span class=\"br0\">)</span><br/>\u00a0<br/><span class=\"kw1\">for</span> hour <span class=\"br0\">(</span><span class=\"sy0\">-</span><span class=\"nu0\">6</span> .. <span class=\"nu0\">6</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>    var sun_deg  = <span class=\"br0\">(</span><span class=\"nu0\">15</span><span class=\"sy0\">*</span>hour <span class=\"sy0\">+</span> offset<span class=\"br0\">)</span><br/>    var line_deg = rad2deg<span class=\"br0\">(</span><br/>        atan2<span class=\"br0\">(</span><br/>            sin<span class=\"br0\">(</span>deg2rad<span class=\"br0\">(</span>sun_deg<span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"sy0\">*</span> lat_sin,<br/>            cos<span class=\"br0\">(</span>deg2rad<span class=\"br0\">(</span>sun_deg<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>        <span class=\"br0\">)</span><br/>    <span class=\"br0\">)</span><br/>    <span class=\"kw3\">printf</span><span class=\"br0\">(</span><span class=\"st0\">\"%2d\u00a0%s     \u00a0%7.3f            \u00a0%7.3f<span class=\"es0\">\\n</span>\"</span>,<br/>      <span class=\"br0\">(</span>hour <span class=\"sy0\">+</span> <span class=\"nu0\">12</span><span class=\"br0\">)</span> <span class=\"sy0\">%</span> <span class=\"nu0\">12</span> <span class=\"sy0\">||</span> <span class=\"nu0\">12</span>, <span class=\"br0\">(</span>hour <span class=\"sy0\">&lt;</span> <span class=\"nu0\">0</span>\u00a0? <span class=\"st0\">'AM'</span>\u00a0: <span class=\"st0\">'PM'</span><span class=\"br0\">)</span>, sun_deg, line_deg<span class=\"br0\">)</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "Smalltalk", "loc": 17, "block": "<pre class=\"smalltalk highlighted_source\">|<span class=\"re3\">lat slat lng ref hra hla pi</span>|<br/><span class=\"re6\">pi</span> <span class=\"sy0\">:=</span> <span class=\"re5\">1</span> arcTan * <span class=\"re5\">4</span>.<br/><span class=\"st0\">'Enter latitude:       '</span> display. <span class=\"re5\">lat</span> <span class=\"sy0\">:=</span> <span class=\"re5\">stdin</span> nextLine asNumber.<br/><span class=\"st0\">'Enter longitude:      '</span> display. <span class=\"re5\">lng</span> <span class=\"sy0\">:=</span> <span class=\"re5\">stdin</span> nextLine asNumber.<br/><span class=\"st0\">'Enter legal meridian: '</span> display. <span class=\"re5\">ref</span> <span class=\"sy0\">:=</span> <span class=\"re5\">stdin</span> nextLine asNumber.<br/><span class=\"re5\">slat</span> <span class=\"sy0\">:=</span> <span class=\"re5\">lat</span> degreesToRadians sin.<br/><span class=\"br0\">(</span><span class=\"st0\">'sine of latitude:\u00a0%1'</span>\u00a0% <span class=\"br0\">{</span> slat <span class=\"br0\">}</span><span class=\"br0\">)</span> displayNl.<br/><span class=\"br0\">(</span><span class=\"st0\">'diff longitude:\u00a0%1'</span>\u00a0% <span class=\"br0\">{</span> lng - <span class=\"re5\">ref</span> <span class=\"br0\">}</span><span class=\"br0\">)</span> displayNl.<br/>\u00a0<br/><span class=\"st0\">'Hour, sun hour angle, dial hour line angle from 6am to 6pm'</span> displayNl.<br/>\u00a0<br/>-<span class=\"re5\">6</span> to: <span class=\"re5\">6</span> do: <span class=\"br0\">[</span>\u00a0:<span class=\"re5\">h</span> |<br/>  <span class=\"re6\">hra</span> <span class=\"sy0\">:=</span> <span class=\"re5\">15</span>.<span class=\"re5\">0</span> * <span class=\"re5\">h</span>.<br/>  <span class=\"re5\">hra</span> <span class=\"sy0\">:=</span> <span class=\"re5\">hra</span> - <span class=\"re5\">lng</span> + <span class=\"re5\">ref</span>.<br/>  <span class=\"re5\">hla</span> <span class=\"sy0\">:=</span> <span class=\"br0\">(</span><span class=\"re5\">hra</span> degreesToRadians tan * <span class=\"re5\">slat</span><span class=\"br0\">)</span> arcTan radiansToDegrees.<br/>  <span class=\"br0\">(</span><span class=\"st0\">'HR=\u00a0%1; \u00a0%4  HRA=%2; \u00a0%4  HLA=\u00a0%3'</span>\u00a0% <span class=\"br0\">{</span> h. <span class=\"re5\">hra</span>. <span class=\"re5\">hla</span>. $&lt;<span class=\"nu0\">9</span>&gt; <span class=\"br0\">}</span><span class=\"br0\">)</span> displayNl.<br/><span class=\"br0\">]</span></pre>"}, {"lang": "Tcl", "loc": 19, "block": "<pre class=\"tcl highlighted_source\"><span class=\"kw1\">set</span> PI <span class=\"nu0\">3.1415927</span><br/><span class=\"kw2\">fconfigure</span> stdout -buffering none<br/><span class=\"kw2\">puts</span> -nonewline <span class=\"st0\">\"Enter latitude       =&gt; \"</span><span class=\"sy0\">;</span> <span class=\"kw2\">gets</span> stdin lat<br/><span class=\"kw2\">puts</span> -nonewline <span class=\"st0\">\"Enter longitude      =&gt; \"</span><span class=\"sy0\">;</span> <span class=\"kw2\">gets</span> stdin lng<br/><span class=\"kw2\">puts</span> -nonewline <span class=\"st0\">\"Enter legal meridian =&gt; \"</span><span class=\"sy0\">;</span> <span class=\"kw2\">gets</span> stdin ref<br/><span class=\"kw2\">puts</span> <span class=\"st0\">\"\"</span><br/>\u00a0<br/><span class=\"kw1\">set</span> slat <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span>sin<span class=\"br0\">(</span><span class=\"re0\">$lat</span><span class=\"sy0\">*</span><span class=\"re0\">$PI</span>/<span class=\"nu0\">180</span><span class=\"br0\">)</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/><span class=\"kw2\">puts</span> <span class=\"br0\">[</span><span class=\"kw2\">format</span> <span class=\"st0\">\"    sine of latitude:  \u00a0%8g\"</span> <span class=\"re0\">$slat</span><span class=\"br0\">]</span><br/><span class=\"kw2\">puts</span> <span class=\"br0\">[</span><span class=\"kw2\">format</span> <span class=\"st0\">\"    diff longitude:    \u00a0%3.3f\"</span> <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"re0\">$lng</span> - <span class=\"re0\">$ref</span><span class=\"br0\">}</span><span class=\"br0\">]</span><span class=\"br0\">]</span><br/><span class=\"kw2\">puts</span> <span class=\"st0\">\"\"</span><br/><span class=\"kw2\">puts</span> <span class=\"st0\">\"Hour, sun hour angle, dial hour line angle from 6am to 6pm\"</span><br/>\u00a0<br/><span class=\"kw1\">for</span> <span class=\"br0\">{</span><span class=\"kw1\">set</span> h -<span class=\"nu0\">6</span><span class=\"br0\">}</span> <span class=\"br0\">{</span><span class=\"re0\">$h</span><span class=\"sy0\">&lt;</span>=<span class=\"nu0\">6</span><span class=\"br0\">}</span> <span class=\"br0\">{</span><span class=\"kw2\">incr</span> h<span class=\"br0\">}</span> <span class=\"br0\">{</span><br/>    <span class=\"kw1\">set</span> hra <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"nu0\">15.0</span> <span class=\"sy0\">*</span> <span class=\"re0\">$h</span><span class=\"br0\">}</span><span class=\"br0\">]</span><span class=\"sy0\">;</span>      <span class=\"co1\"># hour angle is 15 times the hour #</span><br/>    <span class=\"kw1\">set</span> hra <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span><span class=\"re0\">$hra</span>-<span class=\"re0\">$lng</span>+<span class=\"re0\">$ref</span><span class=\"br0\">}</span><span class=\"br0\">]</span><span class=\"sy0\">;</span> <span class=\"co1\"># but correct for longitude difference #</span><br/>    <span class=\"kw1\">set</span> hla <span class=\"br0\">[</span><span class=\"kw1\">expr</span> <span class=\"br0\">{</span>atan<span class=\"br0\">(</span><span class=\"re0\">$slat</span> <span class=\"sy0\">*</span> tan<span class=\"br0\">(</span><span class=\"re0\">$hra</span><span class=\"sy0\">*</span><span class=\"re0\">$PI</span>/<span class=\"nu0\">180</span><span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"sy0\">*</span> <span class=\"nu0\">180</span>/<span class=\"re0\">$PI</span><span class=\"br0\">}</span><span class=\"br0\">]</span><br/>    <span class=\"kw2\">puts</span> <span class=\"br0\">[</span><span class=\"kw2\">format</span> <span class=\"st0\">\"HR=%+3d; HRA=%+8.3f; HLA=%+8.3f\"</span> <span class=\"re0\">$h</span> <span class=\"re0\">$hra</span> <span class=\"re0\">$hla</span><span class=\"br0\">]</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "x86 Assembly", "loc": 137, "block": "<pre class=\"asm highlighted_source\">\t<span class=\"kw5\">global</span> main<br/>\t<span class=\"kw5\">extern</span> printf<span class=\"sy1\">,</span> scanf<br/>\u00a0<br/>\t<span class=\"kw5\">section</span> <span class=\"kw5\">.text</span><br/>\u00a0<br/>getvalue<span class=\"sy1\">:</span><br/>\t<span class=\"kw1\">push</span>\t<span class=\"kw4\">edx</span><br/>\t<span class=\"kw1\">push</span>\t<span class=\"kw4\">eax</span><br/>\t<span class=\"kw1\">call</span>\tprintf<br/>\t<span class=\"kw1\">add</span>\t<span class=\"kw4\">esp</span><span class=\"sy1\">,</span> <span class=\"nu0\">4</span><br/>\t<span class=\"kw1\">push</span>\tin_ft<br/>\t<span class=\"kw1\">call</span>\tscanf<br/>\t<span class=\"kw1\">add</span>\t<span class=\"kw4\">esp</span><span class=\"sy1\">,</span> <span class=\"nu0\">8</span><br/>\t<span class=\"kw1\">ret</span><br/>\u00a0<br/>st0dr<span class=\"sy1\">:</span><br/>\t<span class=\"kw2\">fld</span>\t<span class=\"kw6\">qword</span> <span class=\"br0\">[</span>drfact<span class=\"br0\">]</span><br/>\t<span class=\"kw2\">fmul</span><br/>\t<span class=\"kw1\">ret</span><br/>\u00a0<br/>\u00a0<br/>main<span class=\"sy1\">:</span>\t<br/>\t<span class=\"kw1\">lea</span>\t<span class=\"kw4\">eax</span><span class=\"sy1\">,</span> <span class=\"br0\">[</span>lat_t<span class=\"br0\">]</span><br/>\t<span class=\"kw1\">lea</span>\t<span class=\"kw4\">edx</span><span class=\"sy1\">,</span> <span class=\"br0\">[</span>lat<span class=\"br0\">]</span><br/>\t<span class=\"kw1\">call</span>    getvalue<br/>\t<span class=\"kw1\">lea</span>\t<span class=\"kw4\">eax</span><span class=\"sy1\">,</span> <span class=\"br0\">[</span>lng_t<span class=\"br0\">]</span><br/>\t<span class=\"kw1\">lea</span>\t<span class=\"kw4\">edx</span><span class=\"sy1\">,</span> <span class=\"br0\">[</span>lng<span class=\"br0\">]</span><br/>\t<span class=\"kw1\">call</span>\tgetvalue<br/>\t<span class=\"kw1\">lea</span>\t<span class=\"kw4\">eax</span><span class=\"sy1\">,</span> <span class=\"br0\">[</span>ref_t<span class=\"br0\">]</span><br/>\t<span class=\"kw1\">lea</span>\t<span class=\"kw4\">edx</span><span class=\"sy1\">,</span> <span class=\"br0\">[</span>ref<span class=\"br0\">]</span><br/>\t<span class=\"kw1\">call</span>\tgetvalue<br/>\u00a0<br/>\t<span class=\"kw1\">push</span>\tnewline<br/>\t<span class=\"kw1\">call</span>\tprintf<br/>\t<span class=\"kw1\">add</span>\t<span class=\"kw4\">esp</span><span class=\"sy1\">,</span> <span class=\"nu0\">4</span><br/>\u00a0<br/>\t<span class=\"kw2\">fld</span>\t<span class=\"kw6\">qword</span> <span class=\"br0\">[</span>lat<span class=\"br0\">]</span><br/>\t<span class=\"kw1\">call</span>\tst0dr<br/>\t<span class=\"kw2\">fsin</span><br/>\t<span class=\"kw2\">fst</span>\t<span class=\"kw6\">qword</span> <span class=\"br0\">[</span>slat<span class=\"br0\">]</span><br/>\u00a0<br/>\t<span class=\"kw1\">sub</span>\t<span class=\"kw4\">esp</span><span class=\"sy1\">,</span> <span class=\"nu0\">8</span><br/>\t<span class=\"kw2\">fstp</span>\t<span class=\"kw6\">qword</span> <span class=\"br0\">[</span><span class=\"kw4\">esp</span><span class=\"br0\">]</span><br/>\t<span class=\"kw1\">push</span>\tsin_ft<br/>\t<span class=\"kw1\">call</span>\tprintf<br/>\t<span class=\"kw1\">add</span>\t<span class=\"kw4\">esp</span><span class=\"sy1\">,</span> <span class=\"nu0\">12</span><br/>\u00a0<br/>\t<span class=\"kw2\">fld</span>\t<span class=\"kw6\">qword</span> <span class=\"br0\">[</span>lng<span class=\"br0\">]</span><br/>\t<span class=\"kw2\">fld</span>\t<span class=\"kw6\">qword</span> <span class=\"br0\">[</span>ref<span class=\"br0\">]</span><br/>\t<span class=\"kw2\">fsubr</span>\t<span class=\"kw4\">st0</span><span class=\"sy1\">,</span> <span class=\"kw4\">st1</span><br/>\t<span class=\"kw1\">sub</span>\t<span class=\"kw4\">esp</span><span class=\"sy1\">,</span> <span class=\"nu0\">8</span><br/>\t<span class=\"kw2\">fstp</span>\t<span class=\"kw6\">qword</span> <span class=\"br0\">[</span><span class=\"kw4\">esp</span><span class=\"br0\">]</span><br/>\t<span class=\"kw1\">push</span>\tdiff_ft<br/>\t<span class=\"kw1\">call</span>\tprintf<br/>\t<span class=\"kw1\">add</span> \t<span class=\"kw4\">esp</span><span class=\"sy1\">,</span> <span class=\"nu0\">12</span><br/>\u00a0<br/>\t<span class=\"kw1\">push</span>\ttab_t<br/>\t<span class=\"kw1\">call</span>\tprintf<br/>\t<span class=\"kw1\">add</span>\t<span class=\"kw4\">esp</span><span class=\"sy1\">,</span> <span class=\"nu0\">4</span><br/>\u00a0<br/>\t<span class=\"kw1\">mov</span>\t<span class=\"kw4\">ecx</span><span class=\"sy1\">,</span> <span class=\"sy1\">-</span><span class=\"nu0\">6</span><br/><span class=\"sy1\">.</span><span class=\"kw1\">loop</span><span class=\"sy1\">:</span>\t<br/>\t<span class=\"kw1\">cmp</span>\t<span class=\"kw4\">ecx</span><span class=\"sy1\">,</span> <span class=\"nu0\">6</span><br/>\t<span class=\"kw1\">jg</span>\t<span class=\"sy1\">.</span>endloop<br/>\u00a0<br/>\t<span class=\"kw1\">push</span>\t<span class=\"kw4\">ecx</span><br/>\t<span class=\"kw2\">fild</span>\t<span class=\"kw6\">dword</span> <span class=\"br0\">[</span><span class=\"kw4\">esp</span><span class=\"br0\">]</span><br/>\t<span class=\"kw2\">fld</span>\t<span class=\"kw6\">qword</span> <span class=\"br0\">[</span>xv<span class=\"br0\">]</span><br/>\t<span class=\"kw2\">fmulp</span><br/>\t<span class=\"kw2\">fld</span>\t<span class=\"kw6\">qword</span> <span class=\"br0\">[</span>lng<span class=\"br0\">]</span><br/>\t<span class=\"kw2\">fsubp</span><br/>\t<span class=\"kw2\">fld</span>\t<span class=\"kw6\">qword</span> <span class=\"br0\">[</span>ref<span class=\"br0\">]</span><br/>\t<span class=\"kw2\">faddp</span><br/>\t<span class=\"kw1\">pop</span>\t<span class=\"kw4\">ecx</span><br/>\u00a0<br/>\t<span class=\"kw1\">sub</span>\t<span class=\"kw4\">esp</span><span class=\"sy1\">,</span> <span class=\"nu0\">20</span><br/>\t<span class=\"kw1\">mov</span>\t<span class=\"kw6\">dword</span> <span class=\"br0\">[</span><span class=\"kw4\">esp</span><span class=\"br0\">]</span><span class=\"sy1\">,</span> <span class=\"kw4\">ecx</span><br/>\t<span class=\"kw2\">fst</span>\t<span class=\"kw6\">qword</span> <span class=\"br0\">[</span><span class=\"kw4\">esp</span><span class=\"sy1\">+</span><span class=\"nu0\">4</span><span class=\"br0\">]</span><br/>\u00a0<br/>\t<span class=\"kw1\">call</span>\tst0dr<br/>\u00a0<br/>\t<span class=\"kw2\">fptan</span><br/>\t<span class=\"kw2\">fxch</span><br/>\t<span class=\"kw2\">fld</span>\t<span class=\"kw6\">qword</span> <span class=\"br0\">[</span>slat<span class=\"br0\">]</span><br/>\t<span class=\"kw2\">fmulp</span><br/>\t<span class=\"kw2\">fxch</span><br/>\t<span class=\"kw2\">fpatan</span><br/>\u00a0<br/>\t<span class=\"kw2\">fld</span>\t<span class=\"kw6\">qword</span> <span class=\"br0\">[</span>rdinv<span class=\"br0\">]</span><br/>\t<span class=\"kw2\">fmul</span><br/>\u00a0<br/>\t<span class=\"kw2\">fstp</span>\t<span class=\"kw6\">qword</span> <span class=\"br0\">[</span><span class=\"kw4\">esp</span><span class=\"sy1\">+</span><span class=\"nu0\">12</span><span class=\"br0\">]</span><br/>\u00a0<br/>\t<span class=\"kw1\">push</span>\to_ft<br/>\t<span class=\"kw1\">call</span>\tprintf<br/>\t<span class=\"kw1\">mov</span>\t<span class=\"kw4\">ecx</span><span class=\"sy1\">,</span> <span class=\"br0\">[</span><span class=\"kw4\">esp</span><span class=\"sy1\">+</span><span class=\"nu0\">4</span><span class=\"br0\">]</span><br/>\t<span class=\"kw1\">add</span> \t<span class=\"kw4\">esp</span><span class=\"sy1\">,</span> <span class=\"nu0\">24</span><br/>\u00a0<br/>\t<span class=\"kw1\">inc</span>\t<span class=\"kw4\">ecx</span><br/>\t<span class=\"kw1\">jmp</span>\t<span class=\"sy1\">.</span><span class=\"kw1\">loop</span><br/><span class=\"sy1\">.</span>endloop<span class=\"sy1\">:</span><br/>\u00a0<br/>\t<span class=\"kw1\">xor</span>\t<span class=\"kw4\">eax</span><span class=\"sy1\">,</span> <span class=\"kw4\">eax</span><br/>\t<span class=\"kw1\">ret</span><br/>\u00a0<br/>\u00a0<br/>\t<span class=\"kw5\">section</span> <span class=\"kw5\">.data</span><br/>\u00a0<br/>lat<span class=\"sy1\">:</span>\t<span class=\"kw5\">dq</span>\t<span class=\"nu0\">0.0</span><br/>lng<span class=\"sy1\">:</span>\t<span class=\"kw5\">dq</span>\t<span class=\"nu0\">0.0</span><br/>ref<span class=\"sy1\">:</span>\t<span class=\"kw5\">dq</span>\t<span class=\"nu0\">0.0</span><br/>xv<span class=\"sy1\">:</span>\t<span class=\"kw5\">dq</span>\t<span class=\"nu0\">15.0</span><br/>slat<span class=\"sy1\">:</span>\t<span class=\"kw5\">dq</span>\t<span class=\"nu0\">0.0</span><br/>drfact<span class=\"sy1\">:</span>\t<span class=\"kw5\">dq</span>\t<span class=\"nu0\">0.01745329251994329576</span><br/>rdinv<span class=\"sy1\">:</span>\t<span class=\"kw5\">dq</span>\t<span class=\"nu0\">57.29577951308232090712</span><br/>\u00a0<br/>\u00a0<br/>\t<span class=\"kw5\">section</span> <span class=\"kw5\">.rodata</span><br/>\u00a0<br/>lat_t<span class=\"sy1\">:</span>\t<span class=\"kw5\">db</span> <span class=\"st0\">\"Enter latitude: \"</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><br/>lng_t<span class=\"sy1\">:</span>\t<span class=\"kw5\">db</span> <span class=\"st0\">\"Enter longitude: \"</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><br/>ref_t<span class=\"sy1\">:</span>\t<span class=\"kw5\">db</span> <span class=\"st0\">\"Enter legal meridian: \"</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><br/>\u00a0<br/>in_ft<span class=\"sy1\">:</span>\t<span class=\"kw5\">db</span> <span class=\"st0\">\"%lf\"</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span>\t<br/>newline<span class=\"sy1\">:</span>\t<br/>\t<span class=\"kw5\">db</span> <span class=\"nu0\">10</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><br/>\u00a0<br/>sin_ft<span class=\"sy1\">:</span>\t<br/>\t<span class=\"kw5\">db</span> <span class=\"st0\">\"sine of latitude:\u00a0%.3f\"</span><span class=\"sy1\">,</span> <span class=\"nu0\">10</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><br/>diff_ft<span class=\"sy1\">:</span>\t<br/>\t<span class=\"kw5\">db</span> <span class=\"st0\">\"diff longitude:\u00a0%.3f\"</span><span class=\"sy1\">,</span> <span class=\"nu0\">10</span><span class=\"sy1\">,</span> <span class=\"nu0\">10</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><br/>\u00a0<br/>tab_t<span class=\"sy1\">:</span>\t<br/>\t<span class=\"kw5\">db</span> <span class=\"st0\">\"Hour, sun hour angle, dial hour line angle from 6am to 6pm\"</span><span class=\"sy1\">,</span> <span class=\"nu0\">10</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span><br/>\u00a0<br/>o_ft<span class=\"sy1\">:</span>\t<br/>\t<span class=\"kw5\">db</span> <span class=\"st0\">\"HR=\u00a0%3d;  \"</span><span class=\"sy1\">,</span><span class=\"nu0\">9</span><span class=\"sy1\">,</span><span class=\"st0\">\"  HRA=%7.3f;  \"</span><span class=\"sy1\">,</span><span class=\"nu0\">9</span><span class=\"sy1\">,</span><span class=\"st0\">\"  HLA=\u00a0%7.3f\"</span><span class=\"sy1\">,</span> <span class=\"nu0\">10</span><span class=\"sy1\">,</span> <span class=\"nu0\">0</span></pre>"}, {"lang": "XPL0", "loc": 26, "block": "<pre class=\"text highlighted_source\">inc  c:\\cxpl\\codes;<br/>def  Pi = 3.14159265358979323846,<br/>     Deg2Rad = Pi/180.0,<br/>     Rad2Deg = 180.0/Pi,<br/>     Tab = $09;<br/>real Lat, SinLat, Long, Mer;<br/>real HA, HLA;                   \\hour angle and hour line angle<br/>int  H, T;                      \\hour, time<br/>[Text(0, \"Latitude:       \");  Lat:=  RlIn(0);<br/> Text(0, \"Longitude:      \");  Long:= RlIn(0);<br/> Text(0, \"Legal meridian: \");  Mer:=  RlIn(0);<br/>Text(0, \"<br/>Hour  Sun hour angle   Dial hour line angle<br/>\");<br/>Format(4, 3);<br/>SinLat:= Sin(Lat*Deg2Rad);<br/>for H:= -6 to 6 do<br/>   [HA:= float(15 * H);         \\hour angle is 15 times the hour<br/>    HA:= HA - (Long-Mer);       \\ but corrected for longitude difference<br/>    HLA:= ATan2( SinLat * Sin(HA*Deg2Rad), Cos(HA*Deg2Rad) ) * Rad2Deg;<br/>    T:= H+12;  if T&gt;12 then T:= T-12;<br/>    if T&lt;10 then ChOut(0, ^ );  IntOut(0, T);<br/>    Text(0, if H&gt;=0 then \"pm    \" else \"am      \");<br/>    RlOut(0, HA);  ChOut(0, Tab);  RlOut(0, HLA);  CrLf(0);<br/>   ];<br/>]</pre>"}, {"lang": "zkl", "loc": 23, "block": "<pre class=\"text highlighted_source\">//(degree measure)*Degrees =&gt; Radian measure<br/>//(radian measure)/Degrees =&gt; Degree measure<br/>const pi=(0.0).pi, toDeg=(0.0).pi/180;<br/>\u00a0<br/>latitude\u00a0:=ask(0,\"Enter latitude: \").toFloat();<br/>longitude:=ask(1,\"Enter longitude: \").toFloat();<br/>meridian\u00a0:=ask(2,\"Enter legal meridian: \").toFloat();<br/>\u00a0<br/>sineLatitude:=(latitude * toDeg).sin();<br/>Console.writeln();<br/>Console.writeln(\"Sine of latitude: \",sineLatitude);<br/>Console.writeln(\"Difference of Longitudes (given longitude - meridian): \",longitude-meridian);<br/>Console.writeln();<br/>\u00a0<br/>println(\"Numbers from 6 AM to 6 PM: \");<br/>println(\"Hour\\t\\tSun hour angle\\t Dial hour line angle\");<br/>\u00a0<br/>foreach hour in ([-6..6]){<br/>   clockHour:=( if(hour &lt; 0) \"%sAM\".fmt(hour.abs()) else \"%sPM\".fmt(hour) );<br/>   shr     \u00a0:=15.0*hour - (longitude - meridian);<br/>   dhla    \u00a0:=(sineLatitude*(shr*toDeg).tan()).atan()/toDeg;<br/>   Console.writeln(\"%s\\t\\t%5.1f\\t\\t%+7.3f\".fmt(clockHour,shr,dhla));<br/>}</pre>"}, {"lang": "ZX Spectrum Basic", "loc": 17, "block": "<pre class=\"zxbasic highlighted_source\"><span class=\"nu0\">10</span> DEF FN r<span class=\"br0\">(</span>x<span class=\"br0\">)</span>=x*<span class=\"kw1\">PI</span>/<span class=\"nu0\">180</span><br/><span class=\"nu0\">20</span> DEF FN d<span class=\"br0\">(</span>x<span class=\"br0\">)</span>=x*<span class=\"nu0\">180</span>/<span class=\"kw1\">PI</span><br/><span class=\"nu0\">30</span> INPUT <span class=\"st0\">\"Enter latitude (degrees): \"</span>;latitude<br/><span class=\"nu0\">40</span> INPUT <span class=\"st0\">\"Enter longitude (degrees): \"</span>;longitude<br/><span class=\"nu0\">50</span> INPUT <span class=\"st0\">\"Enter legal meridian (degrees): \"</span>;meridian<br/><span class=\"nu0\">60</span> <span class=\"kw1\">PRINT</span> <span class=\"st0\">\"Latitude: \"</span>;latitude<br/><span class=\"nu0\">70</span> <span class=\"kw1\">PRINT</span> <span class=\"st0\">\"Longitude:\"</span>;longitude<br/><span class=\"nu0\">80</span> <span class=\"kw1\">PRINT</span> <span class=\"st0\">\"Legal meridian: \"</span>;meridian<br/><span class=\"nu0\">90</span> <span class=\"kw1\">PRINT</span> <span class=\"co1\">'\"      Sun         Dial\"</span><br/><span class=\"nu0\">100</span> <span class=\"kw1\">PRINT</span> <span class=\"st0\">\"Time  hour angle  hour line ang.\"</span><br/><span class=\"nu0\">110</span> <span class=\"kw1\">PRINT</span> <span class=\"st0\">\"________________________________\"</span><br/><span class=\"nu0\">120</span> <span class=\"kw1\">FOR</span> h=<span class=\"nu0\">6</span> <span class=\"kw1\">TO</span> <span class=\"nu0\">18</span><br/><span class=\"nu0\">130</span> <span class=\"kw1\">LET</span> hra=<span class=\"nu0\">15</span>*h-longitude+meridian-<span class=\"nu0\">180</span><br/><span class=\"nu0\">140</span> <span class=\"kw1\">LET</span> hla=FN d<span class=\"br0\">(</span><span class=\"kw3\">ATN</span> <span class=\"br0\">(</span><span class=\"kw3\">SIN</span> <span class=\"br0\">(</span>FN r<span class=\"br0\">(</span>latitude<span class=\"br0\">)</span><span class=\"br0\">)</span>*<span class=\"kw3\">TAN</span> <span class=\"br0\">(</span>FN r<span class=\"br0\">(</span>hra<span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/><span class=\"nu0\">150</span> <span class=\"kw1\">IF</span> <span class=\"kw3\">ABS</span> <span class=\"br0\">(</span>hra<span class=\"br0\">)</span>&gt;<span class=\"nu0\">90</span> <span class=\"kw1\">THEN</span> <span class=\"kw1\">LET</span> hla=hla+<span class=\"nu0\">180</span>*<span class=\"kw3\">SGN</span> <span class=\"br0\">(</span>hra*latitude<span class=\"br0\">)</span><br/><span class=\"nu0\">160</span> <span class=\"kw1\">PRINT</span> h;<span class=\"st0\">\"    \"</span>;hra;<span class=\"st0\">\"        \"</span>;hla<br/><span class=\"nu0\">170</span> <span class=\"kw1\">NEXT</span> h</pre>"}]}