{"task": "FTP", "blocks": [{"lang": "Batch File", "loc": 24, "block": "<pre class=\"dos highlighted_source\"><span class=\"co2\">::Playing with FTP</span><br/><span class=\"co2\">::Batch File Implementation</span><br/>\u00a0<br/><span class=\"sy0\">@</span><a href=\"http://www.ss64.com/nt/echo.html\"><span class=\"kw3\">echo</span></a> off<br/>\u00a0<br/><a href=\"http://www.ss64.com/nt/set.html\"><span class=\"kw3\">set</span></a> site=\"ftp.hq.nasa.gov\"<br/><a href=\"http://www.ss64.com/nt/set.html\"><span class=\"kw3\">set</span></a> user=\"anonymous\"<br/><a href=\"http://www.ss64.com/nt/set.html\"><span class=\"kw3\">set</span></a> pass=\"ftptest<span class=\"sy0\">@</span>example.com\"<br/><a href=\"http://www.ss64.com/nt/set.html\"><span class=\"kw3\">set</span></a> <a href=\"http://www.ss64.com/nt/dir.html\"><span class=\"kw3\">dir</span></a>=\"pub/issoutreach/Living <a href=\"http://www.ss64.com/nt/in.html\"><span class=\"kw1\">in</span></a> Space Stories <span class=\"sy0\">(</span>MP3 Files<span class=\"sy0\">)</span>\"<br/><a href=\"http://www.ss64.com/nt/set.html\"><span class=\"kw3\">set</span></a> download=\"Gravity <a href=\"http://www.ss64.com/nt/in.html\"><span class=\"kw1\">in</span></a> the Brain.mp3\"<br/>\u00a0<br/><span class=\"sy0\">(</span><br/>\t<a href=\"http://www.ss64.com/nt/echo.html\"><span class=\"kw3\">echo</span></a>.open <span class=\"sy0\">%</span><span class=\"re3\">site</span><span class=\"sy0\">%</span><br/>\t<a href=\"http://www.ss64.com/nt/echo.html\"><span class=\"kw3\">echo</span></a>.user <span class=\"sy0\">%</span><span class=\"re3\">user</span><span class=\"sy0\">%</span> <span class=\"sy0\">%</span><span class=\"re3\">pass</span><span class=\"sy0\">%</span><br/>\t<a href=\"http://www.ss64.com/nt/echo.html\"><span class=\"kw3\">echo</span></a>.<a href=\"http://www.ss64.com/nt/dir.html\"><span class=\"kw3\">dir</span></a><br/>\t<a href=\"http://www.ss64.com/nt/echo.html\"><span class=\"kw3\">echo</span></a>.<span class=\"sy0\">!</span><a href=\"http://www.ss64.com/nt/echo.html\"><span class=\"kw3\">echo</span></a>.<br/>\t<a href=\"http://www.ss64.com/nt/echo.html\"><span class=\"kw3\">echo</span></a>.<span class=\"sy0\">!</span><a href=\"http://www.ss64.com/nt/echo.html\"><span class=\"kw3\">echo</span></a>.This is a just a text to seperate two directory listings. <br/>\t<a href=\"http://www.ss64.com/nt/echo.html\"><span class=\"kw3\">echo</span></a>.<span class=\"sy0\">!</span><a href=\"http://www.ss64.com/nt/echo.html\"><span class=\"kw3\">echo</span></a>.<br/>\t<a href=\"http://www.ss64.com/nt/echo.html\"><span class=\"kw3\">echo</span></a>.<a href=\"http://www.ss64.com/nt/cd.html\"><span class=\"kw3\">cd</span></a> <span class=\"sy0\">%</span><span class=\"re3\">dir</span><span class=\"sy0\">%</span><br/>\t<a href=\"http://www.ss64.com/nt/echo.html\"><span class=\"kw3\">echo</span></a>.<a href=\"http://www.ss64.com/nt/dir.html\"><span class=\"kw3\">dir</span></a><br/>\t<a href=\"http://www.ss64.com/nt/echo.html\"><span class=\"kw3\">echo</span></a>.binary<br/>\t<a href=\"http://www.ss64.com/nt/echo.html\"><span class=\"kw3\">echo</span></a>.get <span class=\"sy0\">%</span><span class=\"re3\">download</span><span class=\"sy0\">%</span><br/>\t<a href=\"http://www.ss64.com/nt/echo.html\"><span class=\"kw3\">echo</span></a>.disconnect<br/><span class=\"sy0\">)|</span>ftp -n</pre>"}, {"lang": "C", "loc": 19, "block": "<pre class=\"c highlighted_source\">\u00a0<br/><span class=\"co2\">#include &lt;ftplib.h&gt;</span><br/>\u00a0<br/><span class=\"kw4\">int</span> main<span class=\"br0\">(</span><span class=\"kw4\">void</span><span class=\"br0\">)</span><br/><span class=\"br0\">{</span><br/>    netbuf <span class=\"sy0\">*</span>nbuf<span class=\"sy0\">;</span><br/>\u00a0<br/>    FtpInit<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    FtpConnect<span class=\"br0\">(</span><span class=\"st0\">\"kernel.org\"</span><span class=\"sy0\">,</span> <span class=\"sy0\">&amp;</span>nbuf<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    FtpLogin<span class=\"br0\">(</span><span class=\"st0\">\"anonymous\"</span><span class=\"sy0\">,</span> <span class=\"st0\">\"\"</span><span class=\"sy0\">,</span> nbuf<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    FtpOptions<span class=\"br0\">(</span>FTPLIB_CONNMODE<span class=\"sy0\">,</span> FTPLIB_PASSIVE<span class=\"sy0\">,</span> nbuf<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    FtpChdir<span class=\"br0\">(</span><span class=\"st0\">\"pub/linux/kernel\"</span><span class=\"sy0\">,</span> nbuf<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    FtpDir<span class=\"br0\">(</span><span class=\"br0\">(</span><span class=\"kw4\">void</span><span class=\"sy0\">*</span><span class=\"br0\">)</span><span class=\"nu0\">0</span><span class=\"sy0\">,</span> <span class=\"st0\">\".\"</span><span class=\"sy0\">,</span> nbuf<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    FtpGet<span class=\"br0\">(</span><span class=\"st0\">\"ftp.README\"</span><span class=\"sy0\">,</span> <span class=\"st0\">\"README\"</span><span class=\"sy0\">,</span> FTPLIB_ASCII<span class=\"sy0\">,</span> nbuf<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>    FtpQuit<span class=\"br0\">(</span>nbuf<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>    <span class=\"kw1\">return</span> <span class=\"nu0\">0</span><span class=\"sy0\">;</span><br/><span class=\"br0\">}</span><br/>\u00a0</pre>"}, {"lang": "Common Lisp", "loc": 9, "block": "<pre class=\"lisp highlighted_source\"><span class=\"br0\">(</span>use-package <span class=\"sy0\">:</span><span class=\"me1\">ftp</span><span class=\"br0\">)</span><br/>\u00a0<br/><span class=\"br0\">(</span>with-ftp-connection <span class=\"br0\">(</span>conn <span class=\"sy0\">:</span><span class=\"me1\">hostname</span> <span class=\"st0\">\"ftp.hq.nasa.gov\"</span> <br/>                           <span class=\"sy0\">:</span><span class=\"me1\">passive-ftp-p</span> t<span class=\"br0\">)</span><br/>  <span class=\"br0\">(</span>send-cwd-command conn <span class=\"st0\">\"/pub/issoutreach/Living in Space Stories (MP3 Files)\"</span><span class=\"br0\">)</span><br/>  <span class=\"br0\">(</span>send-list-command conn t<span class=\"br0\">)</span><br/>  <span class=\"br0\">(</span><span class=\"kw1\">let</span> <span class=\"br0\">(</span><span class=\"br0\">(</span>filename <span class=\"st0\">\"Gravity in the Brain.mp3\"</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>    <span class=\"br0\">(</span>retrieve-file conn filename filename <span class=\"sy0\">:</span><span class=\"me1\">type</span> <span class=\"sy0\">:</span><span class=\"me1\">binary</span><span class=\"br0\">)</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>\u00a0</pre>"}, {"lang": "Go", "loc": 62, "block": "<pre class=\"go highlighted_source\"><span class=\"kw1\">package</span> main<br/>\u00a0<br/><span class=\"kw1\">import</span> <span class=\"sy1\">(</span><br/>\t<span class=\"st0\">\"fmt\"</span><br/>\t<span class=\"st0\">\"io\"</span><br/>\t<span class=\"st0\">\"log\"</span><br/>\t<span class=\"st0\">\"os\"</span><br/>\u00a0<br/>\t<span class=\"st0\">\"github.com/stacktic/ftp\"</span><br/><span class=\"sy1\">)</span><br/>\u00a0<br/><span class=\"kw4\">func</span> main<span class=\"sy1\">()</span> <span class=\"sy1\">{</span><br/>\t<span class=\"co1\">// Hard-coded demonstration values</span><br/>\t<span class=\"kw1\">const</span> <span class=\"sy1\">(</span><br/>\t\thostport <span class=\"sy2\">=</span> <span class=\"st0\">\"localhost:21\"</span><br/>\t\tusername <span class=\"sy2\">=</span> <span class=\"st0\">\"anonymous\"</span><br/>\t\tpassword <span class=\"sy2\">=</span> <span class=\"st0\">\"anonymous\"</span><br/>\t\tdir      <span class=\"sy2\">=</span> <span class=\"st0\">\"pub\"</span><br/>\t\tfile     <span class=\"sy2\">=</span> <span class=\"st0\">\"somefile.bin\"</span><br/>\t<span class=\"sy1\">)</span><br/>\u00a0<br/>\tconn<span class=\"sy1\">,</span> err <span class=\"sy2\">:=</span> ftp<span class=\"sy3\">.</span>Connect<span class=\"sy1\">(</span>hostport<span class=\"sy1\">)</span><br/>\t<span class=\"kw1\">if</span> err <span class=\"sy2\">!=</span> <span class=\"kw2\">nil</span> <span class=\"sy1\">{</span><br/>\t\tlog<span class=\"sy3\">.</span>Fatal<span class=\"sy1\">(</span>err<span class=\"sy1\">)</span><br/>\t<span class=\"sy1\">}</span><br/>\t<span class=\"kw1\">defer</span> conn<span class=\"sy3\">.</span>Quit<span class=\"sy1\">()</span><br/>\tfmt<span class=\"sy3\">.</span>Println<span class=\"sy1\">(</span>conn<span class=\"sy1\">)</span><br/>\u00a0<br/>\t<span class=\"kw1\">if</span> err <span class=\"sy2\">=</span> conn<span class=\"sy3\">.</span>Login<span class=\"sy1\">(</span>username<span class=\"sy1\">,</span> password<span class=\"sy1\">);</span> err <span class=\"sy2\">!=</span> <span class=\"kw2\">nil</span> <span class=\"sy1\">{</span><br/>\t\tlog<span class=\"sy3\">.</span>Fatal<span class=\"sy1\">(</span>err<span class=\"sy1\">)</span><br/>\t<span class=\"sy1\">}</span><br/>\t<span class=\"kw1\">if</span> err <span class=\"sy2\">=</span> conn<span class=\"sy3\">.</span>ChangeDir<span class=\"sy1\">(</span>dir<span class=\"sy1\">);</span> err <span class=\"sy2\">!=</span> <span class=\"kw2\">nil</span> <span class=\"sy1\">{</span><br/>\t\tlog<span class=\"sy3\">.</span>Fatal<span class=\"sy1\">(</span>err<span class=\"sy1\">)</span><br/>\t<span class=\"sy1\">}</span><br/>\tfmt<span class=\"sy3\">.</span>Println<span class=\"sy1\">(</span>conn<span class=\"sy3\">.</span>CurrentDir<span class=\"sy1\">())</span><br/>\tfiles<span class=\"sy1\">,</span> err <span class=\"sy2\">:=</span> conn<span class=\"sy3\">.</span>List<span class=\"sy1\">(</span><span class=\"st0\">\".\"</span><span class=\"sy1\">)</span><br/>\t<span class=\"kw1\">if</span> err <span class=\"sy2\">!=</span> <span class=\"kw2\">nil</span> <span class=\"sy1\">{</span><br/>\t\tlog<span class=\"sy3\">.</span>Fatal<span class=\"sy1\">(</span>err<span class=\"sy1\">)</span><br/>\t<span class=\"sy1\">}</span><br/>\t<span class=\"kw1\">for</span> _<span class=\"sy1\">,</span> f <span class=\"sy2\">:=</span> <span class=\"kw1\">range</span> files <span class=\"sy1\">{</span><br/>\t\tfmt<span class=\"sy3\">.</span>Printf<span class=\"sy1\">(</span><span class=\"st0\">\"%v\u00a0%12d\u00a0%v\u00a0%v<span class=\"es1\">\\n</span>\"</span><span class=\"sy1\">,</span> f<span class=\"sy3\">.</span>Time<span class=\"sy1\">,</span> f<span class=\"sy3\">.</span>Size<span class=\"sy1\">,</span> f<span class=\"sy3\">.</span>Type<span class=\"sy1\">,</span> f<span class=\"sy3\">.</span>Name<span class=\"sy1\">)</span><br/>\t<span class=\"sy1\">}</span><br/>\u00a0<br/>\tr<span class=\"sy1\">,</span> err <span class=\"sy2\">:=</span> conn<span class=\"sy3\">.</span>Retr<span class=\"sy1\">(</span>file<span class=\"sy1\">)</span><br/>\t<span class=\"kw1\">if</span> err <span class=\"sy2\">!=</span> <span class=\"kw2\">nil</span> <span class=\"sy1\">{</span><br/>\t\tlog<span class=\"sy3\">.</span>Fatal<span class=\"sy1\">(</span>err<span class=\"sy1\">)</span><br/>\t<span class=\"sy1\">}</span><br/>\t<span class=\"kw1\">defer</span> r<span class=\"sy3\">.</span>Close<span class=\"sy1\">()</span><br/>\u00a0<br/>\tf<span class=\"sy1\">,</span> err <span class=\"sy2\">:=</span> os<span class=\"sy3\">.</span>Create<span class=\"sy1\">(</span>file<span class=\"sy1\">)</span><br/>\t<span class=\"kw1\">if</span> err <span class=\"sy2\">!=</span> <span class=\"kw2\">nil</span> <span class=\"sy1\">{</span><br/>\t\tlog<span class=\"sy3\">.</span>Fatal<span class=\"sy1\">(</span>err<span class=\"sy1\">)</span><br/>\t<span class=\"sy1\">}</span><br/>\t<span class=\"kw1\">defer</span> f<span class=\"sy3\">.</span>Close<span class=\"sy1\">()</span><br/>\u00a0<br/>\tn<span class=\"sy1\">,</span> err <span class=\"sy2\">:=</span> io<span class=\"sy3\">.</span>Copy<span class=\"sy1\">(</span>f<span class=\"sy1\">,</span> r<span class=\"sy1\">)</span><br/>\t<span class=\"kw1\">if</span> err <span class=\"sy2\">!=</span> <span class=\"kw2\">nil</span> <span class=\"sy1\">{</span><br/>\t\tlog<span class=\"sy3\">.</span>Fatal<span class=\"sy1\">(</span>err<span class=\"sy1\">)</span><br/>\t<span class=\"sy1\">}</span><br/>\u00a0<br/>\tfmt<span class=\"sy3\">.</span>Println<span class=\"sy1\">(</span><span class=\"st0\">\"Wrote\"</span><span class=\"sy1\">,</span> n<span class=\"sy1\">,</span> <span class=\"st0\">\"bytes to\"</span><span class=\"sy1\">,</span> file<span class=\"sy1\">)</span><br/><span class=\"sy1\">}</span></pre>"}, {"lang": "Groovy", "loc": 16, "block": "<pre class=\"groovy highlighted_source\">\u00a0<br/>@Grab<span class=\"br0\">(</span>group<span class=\"sy0\">=</span><span class=\"st0\">'commons-net'</span>, module<span class=\"sy0\">=</span><span class=\"st0\">'commons-net'</span>, version<span class=\"sy0\">=</span><span class=\"st0\">'2.0'</span><span class=\"br0\">)</span><br/><a href=\"http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20import\"><span class=\"kw2\">import</span></a> <span class=\"co2\">org.apache.commons.net.ftp.FTPClient</span><br/>\u00a0<br/><a href=\"http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20println\"><span class=\"kw8\">println</span></a><span class=\"br0\">(</span><span class=\"st0\">\"About to connect....\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/><a href=\"http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20new\"><span class=\"kw2\">new</span></a> FTPClient<span class=\"br0\">(</span><span class=\"br0\">)</span>.<span class=\"me1\">with</span> <span class=\"br0\">{</span><br/>    connect <span class=\"st0\">\"ftp.easynet.fr\"</span><br/>    enterLocalPassiveMode<span class=\"br0\">(</span><span class=\"br0\">)</span><br/>    login <span class=\"st0\">\"anonymous\"</span>, <span class=\"st0\">\"<a class=\"__cf_email__\" data-cfemail=\"95f3e1e5e1f0e6e1d5f0edf4f8e5f9f0bbf6faf8\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\"</span><br/>    changeWorkingDirectory <span class=\"st0\">\"/debian/\"</span><br/>    <a href=\"http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20def\"><span class=\"kw2\">def</span></a> incomingFile <span class=\"sy0\">=</span> <a href=\"http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20new\"><span class=\"kw2\">new</span></a> <a href=\"http://www.google.de/search?as_q=File&amp;num=100&amp;hl=en&amp;as_occt=url&amp;as_sitesearch=java.sun.com%2Fj2se%2F1%2E5%2E0%2Fdocs%2Fapi%2F\"><span class=\"kw3\">File</span></a><span class=\"br0\">(</span><span class=\"st0\">\"README.html\"</span><span class=\"br0\">)</span><br/>    incomingFile.<a href=\"http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20withOutputStream\"><span class=\"kw7\">withOutputStream</span></a> <span class=\"br0\">{</span> ostream <span class=\"sy0\">-&gt;</span> retrieveFile <span class=\"st0\">\"README.html\"</span>, ostream <span class=\"br0\">}</span><br/>    disconnect<span class=\"br0\">(</span><span class=\"br0\">)</span><br/><span class=\"br0\">}</span><br/><a href=\"http://www.google.de/search?q=site%3Agroovy.codehaus.org/%20println\"><span class=\"kw8\">println</span></a><span class=\"br0\">(</span><span class=\"st0\">\"                      ...Done.\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0</pre>"}, {"lang": "Haskell", "loc": 31, "block": "<pre class=\"haskell highlighted_source\"><span class=\"kw1\">module</span> Main <span class=\"br0\">(</span>main<span class=\"br0\">)</span> <span class=\"kw1\">where</span><br/>\u00a0<br/><span class=\"kw1\">import</span>           Control<span class=\"sy0\">.</span>Exception <span class=\"br0\">(</span>bracket<span class=\"br0\">)</span><br/><span class=\"kw1\">import</span>           Control<span class=\"sy0\">.</span><a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:Monad\"><span class=\"kw4\">Monad</span></a> <span class=\"br0\">(</span>void<span class=\"br0\">)</span><br/><span class=\"kw1\">import</span>           Data<span class=\"sy0\">.</span>Foldable <span class=\"br0\">(</span>for<span class=\"sy0\">_</span><span class=\"br0\">)</span><br/><span class=\"kw1\">import</span>           Network<span class=\"sy0\">.</span>FTP<span class=\"sy0\">.</span>Client<br/>                    <span class=\"br0\">(</span> cwd<br/>                    <span class=\"sy0\">,</span> easyConnectFTP<br/>                    <span class=\"sy0\">,</span> getbinary<br/>                    <span class=\"sy0\">,</span> loginAnon<br/>                    <span class=\"sy0\">,</span> nlst<br/>                    <span class=\"sy0\">,</span> quit<br/>                    <span class=\"sy0\">,</span> setPassive<br/>                    <span class=\"br0\">)</span><br/>\u00a0<br/>main <span class=\"sy0\">::</span> <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#t:IO\"><span class=\"kw4\">IO</span></a> <span class=\"br0\">(</span><span class=\"br0\">)</span><br/>main <span class=\"sy0\">=</span> bracket <span class=\"br0\">(</span><span class=\"br0\">(</span><a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:flip\"><span class=\"kw3\">flip</span></a> setPassive<span class=\"br0\">)</span> True <span class=\"sy0\">&lt;$&gt;</span> easyConnectFTP <span class=\"st0\">\"ftp.kernel.org\"</span><span class=\"br0\">)</span> quit <span class=\"sy0\">$</span> \\h <span class=\"sy0\">-&gt;</span> <span class=\"kw1\">do</span><br/>    <span class=\"co1\">-- Log in anonymously</span><br/>    void <span class=\"sy0\">$</span> loginAnon h<br/>\u00a0<br/>    <span class=\"co1\">-- Change directory</span><br/>    void <span class=\"sy0\">$</span> cwd h <span class=\"st0\">\"/pub/linux/kernel/Historic\"</span><br/>\u00a0<br/>    <span class=\"co1\">-- List current directory</span><br/>    fileNames <span class=\"sy0\">&lt;-</span> nlst h Nothing<br/>    for<span class=\"sy0\">_</span> fileNames <span class=\"sy0\">$</span> \\fileName <span class=\"sy0\">-&gt;</span><br/>        <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:putStrLn\"><span class=\"kw3\">putStrLn</span></a> fileName<br/>\u00a0<br/>    <span class=\"co1\">-- Download in binary mode</span><br/>    <span class=\"br0\">(</span>fileData<span class=\"sy0\">,</span> <span class=\"sy0\">_</span><span class=\"br0\">)</span> <span class=\"sy0\">&lt;-</span> getbinary h <span class=\"st0\">\"linux-0.01.tar.gz.sign\"</span><br/>    <a href=\"http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html#v:print\"><span class=\"kw3\">print</span></a> fileData</pre>"}, {"lang": "J", "loc": 15, "block": "<pre class=\"j highlighted_source\">   require <span class=\"st_h\">'web/gethttp'</span><br/>   gethttp <span class=\"st_h\">'ftp://anonymous:<a class=\"__cf_email__\" data-cfemail=\"1a7f627b776a767f5a7c6e6a34726b34747b697b347d756c\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>/pub/issoutreach/Living%20in%20Space%20Stories%20(MP3%20Files)/'</span><br/>-rw-rw-r--   <span class=\"nu0\">1</span> <span class=\"nu0\">109</span>      space-station  <span class=\"nu0\">2327118</span> May  <span class=\"nu0\">9</span>  <span class=\"nu0\">2005</span> 09sept_spacepropulsion.mp3<br/>-rw-rw-r--   <span class=\"nu0\">1</span> <span class=\"nu0\">109</span>      space-station  <span class=\"nu0\">1260304</span> May  <span class=\"nu0\">9</span>  <span class=\"nu0\">2005</span> Can People go to Mars.mp3<br/>-rw-rw-r--   <span class=\"nu0\">1</span> <span class=\"nu0\">109</span>      space-station  <span class=\"nu0\">1350270</span> May  <span class=\"nu0\">9</span>  <span class=\"nu0\">2005</span> Distill some water.mp3<br/>-rw-rw-r--   <span class=\"nu0\">1</span> <span class=\"nu0\">109</span>      space-station  <span class=\"nu0\">1290888</span> May  <span class=\"nu0\">9</span>  <span class=\"nu0\">2005</span> Good Vibrations.mp3<br/>-rw-rw-r--   <span class=\"nu0\">1</span> <span class=\"nu0\">109</span>      space-station  <span class=\"nu0\">1431834</span> May  <span class=\"nu0\">9</span>  <span class=\"nu0\">2005</span> Gravity Hurts_So good.mp3<br/>-rw-rw-r--   <span class=\"nu0\">1</span> <span class=\"nu0\">109</span>      space-station  <span class=\"nu0\">1072644</span> May  <span class=\"nu0\">9</span>  <span class=\"nu0\">2005</span> Gravity in the Brain.mp3<br/>-rw-rw-r--   <span class=\"nu0\">1</span> <span class=\"nu0\">109</span>      space-station  <span class=\"nu0\">1230594</span> May  <span class=\"nu0\">9</span>  <span class=\"nu0\">2005</span> Power to the ISS.mp3<br/>-rw-rw-r--   <span class=\"nu0\">1</span> <span class=\"nu0\">109</span>      space-station  <span class=\"nu0\">1309062</span> May  <span class=\"nu0\">9</span>  <span class=\"nu0\">2005</span> Space Bones.mp3<br/>-rw-rw-r--   <span class=\"nu0\">1</span> <span class=\"nu0\">109</span>      space-station  <span class=\"nu0\">2292715</span> May  <span class=\"nu0\">9</span>  <span class=\"nu0\">2005</span> Space Power.mp3<br/>-rw-rw-r--   <span class=\"nu0\">1</span> <span class=\"nu0\">109</span>      space-station   <span class=\"nu0\">772075</span> May  <span class=\"nu0\">9</span>  <span class=\"nu0\">2005</span> We have a solution.mp3<br/>-rw-rw-r--   <span class=\"nu0\">1</span> <span class=\"nu0\">109</span>      space-station  <span class=\"nu0\">1134654</span> May  <span class=\"nu0\">9</span>  <span class=\"nu0\">2005</span> When Space Makes you Dizzy.mp3<br/>   #file=: gethttp rplc&amp;<span class=\"sy0\">(</span><span class=\"st_h\">' '</span>;<span class=\"st_h\">'%20'</span><span class=\"sy0\">)</span> <span class=\"st_h\">'ftp://anonymous:<a class=\"__cf_email__\" data-cfemail=\"83e6fbe2eef3efe6c3e5f7f3adebf2adede2f0e2ade4ecf5\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>/pub/issoutreach/Living in Space Stories (MP3 Files)/We have a solution.mp3'</span><br/><span class=\"nu0\">772075</span></pre>"}, {"lang": "Java", "loc": 73, "block": "<pre class=\"java highlighted_source\"><span class=\"kw1\">import</span> <span class=\"co2\">java.io.FileOutputStream</span><span class=\"sy0\">;</span><br/><span class=\"kw1\">import</span> <span class=\"co2\">java.io.IOException</span><span class=\"sy0\">;</span><br/><span class=\"kw1\">import</span> <span class=\"co2\">java.io.OutputStream</span><span class=\"sy0\">;</span><br/><span class=\"kw1\">import</span> <span class=\"co2\">org.apache.commons.net.ftp.FTP</span><span class=\"sy0\">;</span><br/><span class=\"kw1\">import</span> <span class=\"co2\">org.apache.commons.net.ftp.FTPClient</span><span class=\"sy0\">;</span><br/><span class=\"kw1\">import</span> <span class=\"co2\">org.apache.commons.net.ftp.FTPFile</span><span class=\"sy0\">;</span><br/><span class=\"kw1\">import</span> <span class=\"co2\">org.apache.commons.net.ftp.FTPReply</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"kw1\">public</span> <span class=\"kw1\">class</span> FTPconn <span class=\"br0\">{</span><br/>\u00a0<br/>    <span class=\"kw1\">public</span> <span class=\"kw1\">static</span> <span class=\"kw4\">void</span> main<span class=\"br0\">(</span><a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">String</span></a><span class=\"br0\">[</span><span class=\"br0\">]</span> args<span class=\"br0\">)</span> <span class=\"kw1\">throws</span> <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Aioexception+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">IOException</span></a> <span class=\"br0\">{</span><br/>        <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">String</span></a> server <span class=\"sy0\">=</span> <span class=\"st0\">\"ftp.hq.nasa.gov\"</span><span class=\"sy0\">;</span><br/>        <span class=\"kw4\">int</span> port <span class=\"sy0\">=</span> <span class=\"nu0\">21</span><span class=\"sy0\">;</span><br/>        <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">String</span></a> user <span class=\"sy0\">=</span> <span class=\"st0\">\"anonymous\"</span><span class=\"sy0\">;</span><br/>        <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">String</span></a> pass <span class=\"sy0\">=</span> <span class=\"st0\">\"<a class=\"__cf_email__\" data-cfemail=\"3a5c4e4a4e5f494e7a5f425b574a565f14595557\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\"</span><span class=\"sy0\">;</span><br/>\u00a0<br/>        <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Aoutputstream+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">OutputStream</span></a> output <span class=\"sy0\">=</span> <span class=\"kw2\">null</span><span class=\"sy0\">;</span><br/>\u00a0<br/>        FTPClient ftpClient <span class=\"sy0\">=</span> <span class=\"kw1\">new</span> FTPClient<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <span class=\"kw1\">try</span> <span class=\"br0\">{</span><br/>            ftpClient.<span class=\"me1\">connect</span><span class=\"br0\">(</span>server, port<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>            serverReply<span class=\"br0\">(</span>ftpClient<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>            <span class=\"kw4\">int</span> replyCode <span class=\"sy0\">=</span> ftpClient.<span class=\"me1\">getReplyCode</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            <span class=\"kw1\">if</span> <span class=\"br0\">(</span><span class=\"sy0\">!</span>FTPReply.<span class=\"me1\">isPositiveCompletion</span><span class=\"br0\">(</span>replyCode<span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>                <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">println</span><span class=\"br0\">(</span><span class=\"st0\">\"Failure. Server reply code: \"</span> <span class=\"sy0\">+</span> replyCode<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>                <span class=\"kw1\">return</span><span class=\"sy0\">;</span><br/>            <span class=\"br0\">}</span><br/>\u00a0<br/>            serverReply<span class=\"br0\">(</span>ftpClient<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>            <span class=\"kw1\">if</span> <span class=\"br0\">(</span><span class=\"sy0\">!</span>ftpClient.<span class=\"me1\">login</span><span class=\"br0\">(</span>user, pass<span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>                <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">println</span><span class=\"br0\">(</span><span class=\"st0\">\"Could not login to the server.\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>                <span class=\"kw1\">return</span><span class=\"sy0\">;</span><br/>            <span class=\"br0\">}</span><br/>\u00a0<br/>            <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">String</span></a> dir <span class=\"sy0\">=</span> <span class=\"st0\">\"pub/issoutreach/Living in Space Stories (MP3 Files)/\"</span><span class=\"sy0\">;</span><br/>            <span class=\"kw1\">if</span> <span class=\"br0\">(</span><span class=\"sy0\">!</span>ftpClient.<span class=\"me1\">changeWorkingDirectory</span><span class=\"br0\">(</span>dir<span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>                <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">println</span><span class=\"br0\">(</span><span class=\"st0\">\"Change directory failed.\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>                <span class=\"kw1\">return</span><span class=\"sy0\">;</span><br/>            <span class=\"br0\">}</span><br/>\u00a0<br/>            ftpClient.<span class=\"me1\">enterLocalPassiveMode</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>            <span class=\"kw1\">for</span> <span class=\"br0\">(</span>FTPFile file <span class=\"sy0\">:</span> ftpClient.<span class=\"me1\">listFiles</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>                <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">println</span><span class=\"br0\">(</span>file<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>            <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">String</span></a> filename <span class=\"sy0\">=</span> <span class=\"st0\">\"Can People go to Mars.mp3\"</span><span class=\"sy0\">;</span><br/>            output <span class=\"sy0\">=</span> <span class=\"kw1\">new</span> <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Afileoutputstream+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">FileOutputStream</span></a><span class=\"br0\">(</span>filename<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>            ftpClient.<span class=\"me1\">setFileType</span><span class=\"br0\">(</span>FTP.<span class=\"me1\">BINARY_FILE_TYPE</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>            <span class=\"kw1\">if</span> <span class=\"br0\">(</span><span class=\"sy0\">!</span>ftpClient.<span class=\"me1\">retrieveFile</span><span class=\"br0\">(</span>filename, output<span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>                <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">println</span><span class=\"br0\">(</span><span class=\"st0\">\"Retrieving file failed\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>                <span class=\"kw1\">return</span><span class=\"sy0\">;</span><br/>            <span class=\"br0\">}</span><br/>\u00a0<br/>            serverReply<span class=\"br0\">(</span>ftpClient<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>            ftpClient.<span class=\"me1\">logout</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/>        <span class=\"br0\">}</span> <span class=\"kw1\">finally</span> <span class=\"br0\">{</span><br/>            <span class=\"kw1\">if</span> <span class=\"br0\">(</span>output <span class=\"sy0\">!=</span> <span class=\"kw2\">null</span><span class=\"br0\">)</span><br/>                output.<span class=\"me1\">close</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <span class=\"br0\">}</span><br/>    <span class=\"br0\">}</span><br/>\u00a0<br/>    <span class=\"kw1\">private</span> <span class=\"kw1\">static</span> <span class=\"kw4\">void</span> serverReply<span class=\"br0\">(</span>FTPClient ftpClient<span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>        <span class=\"kw1\">for</span> <span class=\"br0\">(</span><a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Astring+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">String</span></a> reply <span class=\"sy0\">:</span> ftpClient.<span class=\"me1\">getReplyStrings</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span> <span class=\"br0\">{</span><br/>            <a href=\"http://www.google.com/search?hl=en&amp;q=allinurl%3Asystem+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky\"><span class=\"kw3\">System</span></a>.<span class=\"me1\">out</span>.<span class=\"me1\">println</span><span class=\"br0\">(</span>reply<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>        <span class=\"br0\">}</span><br/>    <span class=\"br0\">}</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "Julia", "loc": 8, "block": "<pre class=\"text highlighted_source\">using FTPClient<br/>\u00a0<br/>ftp = FTP(hostname = \"ftp.ed.ac.uk\", username = \"anonymous\")<br/>cd(ftp, \"pub/courses\")<br/>println(readdir(ftp))<br/>bytes = read(download(ftp, \"make.notes.tar\"))<br/>\u00a0<br/>close(ftp)</pre>"}, {"lang": "Kotlin", "loc": 1, "block": "<pre>headers = /usr/include/ftplib.h\nlinkerOpts.linux = -L/usr/lib -lftp\n\n---\n\n#include &lt;sys/time.h&gt;\n\nstruct NetBuf {\n    char *cput,*cget;\n    int handle;\n    int cavail,cleft;\n    char *buf;\n    int dir;\n    netbuf *ctrl;\n    netbuf *data;    \n    int cmode;\n    struct timeval idletime;\n    FtpCallback idlecb;\n    void *idlearg;\n    int xfered;\n    int cbbytes;\n    int xfered1;\n    char response[256];\n};\n</pre>"}, {"lang": "Lingo", "loc": 18, "block": "<pre class=\"text highlighted_source\">CURLOPT_URL = 10002<br/>ch = xtra(\"Curl\").new()<br/>url = \"ftp://domain.com\"<br/>\u00a0<br/>-- change to remote dir \"/foo/bar/\"<br/>put \"/foo/bar/\" after url<br/>\u00a0<br/>ch.setOption(CURLOPT_URL, url)<br/>res = ch.exec(1)<br/>\u00a0<br/>-- print raw FTP listing as string<br/>put res.readRawString(res.length)<br/>\u00a0<br/>-- download file \"download.mp3\" (passive mode is the internal default behavior)<br/>filename = \"download.mp3\"<br/>ch.setOption(CURLOPT_URL, url &amp; filename)<br/>ch.setDestinationFile(_movie.path &amp; filename)<br/>res = ch.exec()</pre>"}, {"lang": "LiveCode", "loc": 39, "block": "<pre class=\"text highlighted_source\">libURLSetFTPMode \"passive\"  --default is passive anyway<br/>put url \"ftp://ftp.hq.nasa.gov/\" into listing<br/>repeat for each line ftpln in listing<br/>    set itemdel to space<br/>    if the first char of (the first item of ftpln) is \"d\" then<br/>        -- is a directory<br/>        put the last item of ftpln after dirlist<br/>    else<br/>        put the last item of ftpln after filelist<br/>    end if<br/>end repeat<br/>\u00a0<br/>put listing //(subset)<br/>//  -rw-r--r--   1 ftpadmin ftp-adm      3997 May 26  1998 README<br/>//  drwxrwsr-x  17 ftpadmin ftp-adm      4096 Sep 10 16:08 pub<br/>\u00a0<br/>put dirlist<br/>//  armd <br/>//  chmgt<br/>//  incoming<br/>//  lost+found<br/>//  office<br/>//  pub<br/>\u00a0<br/>put filelist<br/>//  README<br/>//  ftp-exec<br/>//  index.html<br/>//  robots.txt<br/>\u00a0<br/>-- downloading a file (upload is same, but use put)<br/>-- you don't have to cd manually<br/>-- file up/down transfer is binary in livecode (always enforced by livecode)<br/>put URL  \"ftp://ftp.hq.nasa.gov/pub/robots.txt\" into URL \"file:myFile.txt\"<br/>\u00a0<br/>You can execute any ftp command using the libURLftpCommand command<br/>e.g. to know the working directory, issue \"pwd\", we could issue \"list\" for above too, <br/>but using an url with slash on the end with the ftp protocol causes a dir listing by default.<br/>put libURLftpCommand(\"PWD\",ftp.example.org)</pre>"}, {"lang": "Perl", "loc": 34, "block": "<pre class=\"perl highlighted_source\">\u00a0<br/><span class=\"co1\">#!/usr/bin/perl</span><br/><span class=\"kw2\">use</span> strict<span class=\"sy0\">;</span><br/><span class=\"kw2\">use</span> warnings<span class=\"sy0\">;</span><br/><span class=\"kw2\">use</span> <span class=\"nu0\">5.020</span><span class=\"sy0\">;</span><br/><span class=\"co1\">#This script is dependent upon the Net::FTP cpan module</span><br/><span class=\"kw2\">use</span> Net<span class=\"sy0\">::</span><span class=\"me2\">FTP</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"co1\">#Put the name of the FTP server here</span><br/><span class=\"kw1\">my</span> <span class=\"re0\">$host</span> <span class=\"sy0\">=</span> <span class=\"st0\">\"kernel.org\"</span><span class=\"sy0\">;</span><br/><span class=\"co1\">#Credentials go here</span><br/><span class=\"kw1\">my</span> <span class=\"re0\">$user</span> <span class=\"sy0\">=</span> <span class=\"st0\">\"anonymous\"</span><span class=\"sy0\">;</span><br/><span class=\"kw1\">my</span> <span class=\"re0\">$password</span> <span class=\"sy0\">=</span> <span class=\"st0\">\"\"</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"co1\">#Attempt to connect to the server using the credentials provided.</span><br/><span class=\"kw1\">my</span> <span class=\"re0\">$f</span> <span class=\"sy0\">=</span> Net<span class=\"sy0\">::</span><span class=\"me2\">FTP</span><span class=\"sy0\">-&gt;</span><span class=\"kw2\">new</span><span class=\"br0\">(</span><span class=\"re0\">$host</span><span class=\"br0\">)</span> <span class=\"kw1\">or</span> <a href=\"http://perldoc.perl.org/functions/die.html\"><span class=\"kw3\">die</span></a><span class=\"br0\">(</span><span class=\"st0\">\"Something went wrong. Can't open $host<span class=\"es0\">\\n</span>\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/><span class=\"re0\">$f</span><span class=\"sy0\">-&gt;</span><span class=\"me1\">login</span><span class=\"br0\">(</span><span class=\"re0\">$user</span><span class=\"sy0\">,</span> <span class=\"re0\">$password</span><span class=\"br0\">)</span> <span class=\"kw1\">or</span> <a href=\"http://perldoc.perl.org/functions/die.html\"><span class=\"kw3\">die</span></a><span class=\"br0\">(</span><span class=\"st0\">\"Something went wrong. Can't log $user in.<span class=\"es0\">\\n</span>\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"co1\">#Set to passive mode</span><br/><span class=\"re0\">$f</span><span class=\"sy0\">-&gt;</span><span class=\"me1\">passive</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"co1\">#Change to whatever directory you want. If no args are passed to cwd(), it sets it to the root directory </span><br/><span class=\"re0\">$f</span><span class=\"sy0\">-&gt;</span><span class=\"me1\">cwd</span><span class=\"br0\">(</span><span class=\"st0\">\"pub/linux/kernel\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/><span class=\"co1\">#Print the current dir</span><br/><span class=\"kw1\">my</span> <span class=\"re0\">@dir</span> <span class=\"sy0\">=</span> <span class=\"re0\">$f</span><span class=\"sy0\">-&gt;</span><span class=\"me1\">ls</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/><span class=\"kw1\">foreach</span> <span class=\"kw1\">my</span> <span class=\"re0\">$element</span> <span class=\"br0\">(</span><span class=\"re0\">@dir</span><span class=\"br0\">)</span><br/><span class=\"br0\">{</span><br/>    say<span class=\"br0\">(</span><span class=\"st0\">\"$element\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/><span class=\"br0\">}</span><br/>\u00a0<br/><span class=\"co1\">#Download the file and store locally. get() returns the local filename</span><br/><span class=\"kw1\">my</span> <span class=\"re0\">$local</span> <span class=\"sy0\">=</span> <span class=\"re0\">$f</span><span class=\"sy0\">-&gt;</span><span class=\"me1\">get</span><span class=\"br0\">(</span><span class=\"st0\">\"README\"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>say<span class=\"br0\">(</span><span class=\"st0\">\"Your file was stored as $local in the current directory! \"</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0</pre>"}, {"lang": "Perl 6", "loc": 9, "block": "<pre class=\"perl6 highlighted_source\"><span class=\"kw2\">use</span> Net<span class=\"sy0\">::</span><span class=\"me2\">FTP</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"kw1\">my</span> <span class=\"re0\">$ftp</span> <span class=\"sy0\">=</span> Net<span class=\"sy0\">::</span><span class=\"me2\">FTP</span><span class=\"sy0\">.</span><span class=\"kw2\">new</span><span class=\"br0\">(</span><span class=\"sy0\">:</span>host<span class=\"br0\">(</span><span class=\"st_h\">'mirrors.sohu.com'</span><span class=\"br0\">)</span><span class=\"sy0\">,</span> <span class=\"sy0\">:</span>passive<span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"re0\">$ftp</span><span class=\"sy0\">.</span><span class=\"me1\">login</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"kw3\">say</span> <span class=\"re0\">$_</span><span class=\"sy0\">&lt;</span>name<span class=\"sy0\">&gt;</span><span class=\"kw1\">for</span> <span class=\"re0\">$ftp</span><span class=\"sy0\">.</span><span class=\"me1\">ls</span><span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">;</span><br/>\u00a0<br/><span class=\"re0\">$ftp</span><span class=\"sy0\">.</span><span class=\"me1\">get</span><span class=\"br0\">(</span> <span class=\"st_h\">'index.html'</span><span class=\"sy0\">,</span> <span class=\"sy0\">:</span>binary <span class=\"br0\">)</span><span class=\"sy0\">;</span></pre>"}, {"lang": "PicoLisp", "loc": 4, "block": "<pre class=\"text highlighted_source\">(in '(curl \"-sl\" \"ftp://kernel.org/pub/site/\")<br/>   (while (line)<br/>      (prinl @) ) )<br/>(call \"curl\" \"-s\" \"-o\" \"sha256sums.asc\" \"ftp://kernel.org/pub/site/sha256sums.asc\")</pre>"}, {"lang": "Python", "loc": 10, "block": "<pre class=\"python highlighted_source\">\u00a0<br/><span class=\"kw1\">from</span> <span class=\"kw3\">ftplib</span> <span class=\"kw1\">import</span> FTP<br/>ftp <span class=\"sy0\">=</span> FTP<span class=\"br0\">(</span><span class=\"st0\">'kernel.org'</span><span class=\"br0\">)</span><br/>ftp.<span class=\"me1\">login</span><span class=\"br0\">(</span><span class=\"br0\">)</span><br/>ftp.<span class=\"me1\">cwd</span><span class=\"br0\">(</span><span class=\"st0\">'/pub/linux/kernel'</span><span class=\"br0\">)</span><br/>ftp.<span class=\"me1\">set_pasv</span><span class=\"br0\">(</span><span class=\"kw2\">True</span><span class=\"br0\">)</span> <span class=\"co1\"># Default since Python 2.1</span><br/><span class=\"kw1\">print</span> ftp.<span class=\"me1\">retrlines</span><span class=\"br0\">(</span><span class=\"st0\">'LIST'</span><span class=\"br0\">)</span><br/><span class=\"kw1\">print</span> ftp.<span class=\"me1\">retrbinary</span><span class=\"br0\">(</span><span class=\"st0\">'RETR README'</span><span class=\"sy0\">,</span> <span class=\"kw2\">open</span><span class=\"br0\">(</span><span class=\"st0\">'README'</span><span class=\"sy0\">,</span> <span class=\"st0\">'wb'</span><span class=\"br0\">)</span>.<span class=\"me1\">write</span><span class=\"br0\">)</span><br/>ftp.<span class=\"me1\">quit</span><span class=\"br0\">(</span><span class=\"br0\">)</span><br/>\u00a0</pre>"}, {"lang": "Racket", "loc": 17, "block": "<pre class=\"text highlighted_source\">\u00a0<br/>#lang racket<br/>(require net/ftp)<br/>(let* ([server \"kernel.org\"]<br/>       [remote-dir \"/pub/linux/kernel/\"]<br/>       [conn (ftp-establish-connection<br/>               server<br/>               21<br/>               \"anonymous\"<br/>               \"\")])<br/>  (ftp-cd conn remote-dir)<br/>  (map<br/>   (lambda (elem) (displayln (string-join elem \"\\t\")))<br/>   (ftp-directory-list conn \".\"))<br/>  (ftp-download-file conn \".\" \"README\")<br/>  (ftp-close-connection conn))<br/>\u00a0</pre>"}, {"lang": "REBOL", "loc": 5, "block": "<pre class=\"rebol highlighted_source\">\u00a0<br/>system<span class=\"sy0\">/</span>schemes<span class=\"sy0\">/</span>ftp<span class=\"sy0\">/</span>passive: on<br/><span class=\"kw3\">print</span> <span class=\"kw3\">read</span> ftp:<span class=\"sy0\">//</span>kernel.org<span class=\"sy0\">/</span>pub<span class=\"sy0\">/</span>linux<span class=\"sy0\">/</span>kernel<span class=\"sy0\">/</span><br/><span class=\"kw3\">write</span><span class=\"sy0\">/</span>binary <span class=\"sy0\">%</span>README <span class=\"kw3\">read</span><span class=\"sy0\">/</span>binary ftp:<span class=\"sy0\">//</span>kernel.org<span class=\"sy0\">/</span>pub<span class=\"sy0\">/</span>linux<span class=\"sy0\">/</span>kernel<span class=\"sy0\">/</span>README<br/>\u00a0</pre>"}, {"lang": "Ruby", "loc": 8, "block": "<pre class=\"ruby highlighted_source\"><span class=\"kw3\">require</span> <span class=\"st0\">'net/ftp'</span><br/>\u00a0<br/><span class=\"re2\">Net::FTP</span>.<span class=\"kw3\">open</span><span class=\"br0\">(</span><span class=\"st0\">'ftp.ed.ac.uk'</span>, <span class=\"st0\">\"anonymous\"</span>,<span class=\"st0\">\"<a class=\"__cf_email__\" data-cfemail=\"d5b4b4b495b2b8b4bcb9fbb6bab8\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\"</span> <span class=\"br0\">)</span> <span class=\"kw1\">do</span> <span class=\"sy0\">|</span>ftp<span class=\"sy0\">|</span><br/>  ftp.<span class=\"me1\">passive</span> = <span class=\"kw2\">true</span><br/>  ftp.<span class=\"me1\">chdir</span><span class=\"br0\">(</span><span class=\"st0\">'pub/courses'</span><span class=\"br0\">)</span><br/>  ftp.<span class=\"me1\">list</span>.<span class=\"me1\">each</span><span class=\"br0\">{</span><span class=\"sy0\">|</span>e<span class=\"sy0\">|</span> <span class=\"kw3\">puts</span> e<span class=\"br0\">}</span><br/>  ftp.<span class=\"me1\">getbinaryfile</span><span class=\"br0\">(</span><span class=\"st0\">\"make.notes.tar\"</span><span class=\"br0\">)</span><br/><span class=\"kw1\">end</span></pre>"}, {"lang": "Scala", "loc": 78, "block": "<pre class=\"scala highlighted_source\"><a href=\"http://scala-lang.org\"><span class=\"kw1\">import</span></a> java.<span class=\"me1\">io</span>.<span class=\"br0\">{</span>File, FileOutputStream, InputStream<span class=\"br0\">}</span><br/>\u00a0<br/><a href=\"http://scala-lang.org\"><span class=\"kw1\">import</span></a> org.<span class=\"me1\">apache</span>.<span class=\"me1\">commons</span>.<span class=\"me1\">net</span>.<span class=\"me1\">ftp</span>.<span class=\"br0\">{</span>FTPClient, FTPFile, FTPReply<span class=\"br0\">}</span><br/>\u00a0<br/><a href=\"http://scala-lang.org\"><span class=\"kw1\">import</span></a> scala.<span class=\"me1\">util</span>.<span class=\"br0\">{</span>Failure, Try<span class=\"br0\">}</span><br/>\u00a0<br/><a href=\"http://scala-lang.org\"><span class=\"kw1\">object</span></a> FTPconn <a href=\"http://scala-lang.org\"><span class=\"kw1\">extends</span></a> App <span class=\"br0\">{</span><br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> <span class=\"br0\">(</span>server, pass<span class=\"br0\">)</span> <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"st0\">\"ftp.ed.ac.uk\"</span>, <span class=\"st0\">\"<a class=\"__cf_email__\" data-cfemail=\"8aa7ecfefafeeff9fecaeff2ebe7fae6efa4e9e5e7\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>\"</span><span class=\"br0\">)</span><br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> <span class=\"br0\">(</span>dir, filename, ftpClient<span class=\"br0\">)</span> <span class=\"sy0\">=</span> <span class=\"br0\">(</span><span class=\"st0\">\"/pub/cartonet/\"</span>, <span class=\"st0\">\"readme.txt\"</span>, <a href=\"http://scala-lang.org\"><span class=\"kw1\">new</span></a> FTPClient<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"br0\">)</span><br/>\u00a0<br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">def</span></a> canConnect<span class=\"br0\">(</span>host<span class=\"sy0\">:</span> String<span class=\"br0\">)</span><span class=\"sy0\">:</span> Boolean <span class=\"sy0\">=</span> <span class=\"br0\">{</span><br/>    ftpClient.<span class=\"me1\">connect</span><span class=\"br0\">(</span>host<span class=\"br0\">)</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> connectionWasEstablished <span class=\"sy0\">=</span> ftpClient.<span class=\"me1\">isConnected</span><br/>    ftpClient.<span class=\"me1\">disconnect</span><span class=\"br0\">(</span><span class=\"br0\">)</span><br/>    connectionWasEstablished<br/>  <span class=\"br0\">}</span><br/>\u00a0<br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">def</span></a> downloadFileStream<span class=\"br0\">(</span>remote<span class=\"sy0\">:</span> String<span class=\"br0\">)</span><span class=\"sy0\">:</span> InputStream <span class=\"sy0\">=</span> <span class=\"br0\">{</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> stream<span class=\"sy0\">:</span> InputStream <span class=\"sy0\">=</span> ftpClient.<span class=\"me1\">retrieveFileStream</span><span class=\"br0\">(</span>remote<span class=\"br0\">)</span><br/>    ftpClient.<span class=\"me1\">completePendingCommand</span><span class=\"br0\">(</span><span class=\"br0\">)</span><br/>    stream<br/>  <span class=\"br0\">}</span><br/>\u00a0<br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">def</span></a> uploadFile<span class=\"br0\">(</span>remote<span class=\"sy0\">:</span> String, input<span class=\"sy0\">:</span> InputStream<span class=\"br0\">)</span><span class=\"sy0\">:</span> Boolean <span class=\"sy0\">=</span> ftpClient.<span class=\"me1\">storeFile</span><span class=\"br0\">(</span>remote, input<span class=\"br0\">)</span><br/>\u00a0<br/>  <a href=\"http://scala-lang.org\"><span class=\"kw1\">if</span></a> <span class=\"br0\">(</span>Try <span class=\"br0\">{</span><br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">def</span></a> cwd<span class=\"br0\">(</span>path<span class=\"sy0\">:</span> String<span class=\"br0\">)</span><span class=\"sy0\">:</span> Boolean <span class=\"sy0\">=</span> ftpClient.<span class=\"me1\">changeWorkingDirectory</span><span class=\"br0\">(</span>path<span class=\"br0\">)</span><br/>\u00a0<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">def</span></a> filesInCurrentDirectory<span class=\"sy0\">:</span> Seq<span class=\"br0\">[</span>String<span class=\"br0\">]</span> <span class=\"sy0\">=</span> listFiles<span class=\"br0\">(</span><span class=\"br0\">)</span>.<span class=\"me1\">map</span><span class=\"br0\">(</span><span class=\"sy0\">_</span>.<span class=\"me1\">getName</span><span class=\"br0\">)</span><br/>\u00a0<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">def</span></a> listFiles<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">:</span> List<span class=\"br0\">[</span>FTPFile<span class=\"br0\">]</span> <span class=\"sy0\">=</span> ftpClient.<span class=\"me1\">listFiles</span>.<span class=\"me1\">toList</span><br/>\u00a0<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">def</span></a> downloadFile<span class=\"br0\">(</span>remote<span class=\"sy0\">:</span> String<span class=\"br0\">)</span><span class=\"sy0\">:</span> Boolean <span class=\"sy0\">=</span> <span class=\"br0\">{</span><br/>      <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> os <span class=\"sy0\">=</span> <a href=\"http://scala-lang.org\"><span class=\"kw1\">new</span></a> FileOutputStream<span class=\"br0\">(</span><a href=\"http://scala-lang.org\"><span class=\"kw1\">new</span></a> File<span class=\"br0\">(</span>remote<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>      ftpClient.<span class=\"me1\">retrieveFile</span><span class=\"br0\">(</span>remote, os<span class=\"br0\">)</span><br/>    <span class=\"br0\">}</span><br/>\u00a0<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">def</span></a> connectWithAuth<span class=\"br0\">(</span>host<span class=\"sy0\">:</span> String,<br/>                        password<span class=\"sy0\">:</span> String,<br/>                        username<span class=\"sy0\">:</span> String <span class=\"sy0\">=</span> <span class=\"st0\">\"anonymous\"</span>,<br/>                        port<span class=\"sy0\">:</span> Int <span class=\"sy0\">=</span> <span class=\"nu0\">21</span><span class=\"br0\">)</span><span class=\"sy0\">:</span> Try<span class=\"br0\">[</span>Boolean<span class=\"br0\">]</span> <span class=\"sy0\">=</span> <span class=\"br0\">{</span><br/>      <a href=\"http://scala-lang.org\"><span class=\"kw1\">def</span></a> connect<span class=\"br0\">(</span><span class=\"br0\">)</span><span class=\"sy0\">:</span> Try<span class=\"br0\">[</span>Unit<span class=\"br0\">]</span> <span class=\"sy0\">=</span> Try <span class=\"br0\">{</span><br/>        <a href=\"http://scala-lang.org\"><span class=\"kw1\">try</span></a> <span class=\"br0\">{</span><br/>          ftpClient.<span class=\"me1\">connect</span><span class=\"br0\">(</span>host, port<span class=\"br0\">)</span><br/>        <span class=\"br0\">}</span> <a href=\"http://scala-lang.org\"><span class=\"kw1\">catch</span></a> <span class=\"br0\">{</span><br/>          <a href=\"http://scala-lang.org\"><span class=\"kw1\">case</span></a> ex<span class=\"sy0\">:</span> Throwable <span class=\"sy0\">=&gt;</span><br/>            println<span class=\"br0\">(</span>ex.<span class=\"me1\">getMessage</span><span class=\"br0\">)</span><br/>            Failure<br/>        <span class=\"br0\">}</span><br/>        ftpClient.<span class=\"me1\">enterLocalPassiveMode</span><span class=\"br0\">(</span><span class=\"br0\">)</span><br/>        serverReply<span class=\"br0\">(</span>ftpClient<span class=\"br0\">)</span><br/>\u00a0<br/>        <a href=\"http://scala-lang.org\"><span class=\"kw1\">val</span></a> replyCode <span class=\"sy0\">=</span> ftpClient.<span class=\"me1\">getReplyCode</span><br/>        <a href=\"http://scala-lang.org\"><span class=\"kw1\">if</span></a> <span class=\"br0\">(</span><span class=\"sy0\">!</span>FTPReply.<span class=\"me1\">isPositiveCompletion</span><span class=\"br0\">(</span>replyCode<span class=\"br0\">)</span><span class=\"br0\">)</span><br/>          println<span class=\"br0\">(</span><span class=\"st0\">\"Failure. Server reply code: \"</span> + replyCode<span class=\"br0\">)</span><br/>      <span class=\"br0\">}</span><br/>\u00a0<br/>      <a href=\"http://scala-lang.org\"><span class=\"kw1\">for</span></a> <span class=\"br0\">{</span><br/>        connection <span class=\"sy0\">&lt;</span>- connect<span class=\"br0\">(</span><span class=\"br0\">)</span><br/>        login <span class=\"sy0\">&lt;</span>- Try <span class=\"br0\">{</span><br/>          ftpClient.<span class=\"me1\">login</span><span class=\"br0\">(</span>username, password<span class=\"br0\">)</span><br/>        <span class=\"br0\">}</span><br/>      <span class=\"br0\">}</span> <a href=\"http://scala-lang.org\"><span class=\"kw1\">yield</span></a> login<br/>    <span class=\"br0\">}</span><br/>\u00a0<br/>    <a href=\"http://scala-lang.org\"><span class=\"kw1\">def</span></a> serverReply<span class=\"br0\">(</span>ftpClient<span class=\"sy0\">:</span> FTPClient<span class=\"br0\">)</span><span class=\"sy0\">:</span> Unit <span class=\"sy0\">=</span><br/>      <a href=\"http://scala-lang.org\"><span class=\"kw1\">for</span></a> <span class=\"br0\">(</span>reply <span class=\"sy0\">&lt;</span>- ftpClient.<span class=\"me1\">getReplyStrings</span><span class=\"br0\">)</span> println<span class=\"br0\">(</span>reply<span class=\"br0\">)</span><br/>\u00a0<br/>    connectWithAuth<span class=\"br0\">(</span>server, pass<span class=\"br0\">)</span><br/>\u00a0<br/>    cwd<span class=\"br0\">(</span>dir<span class=\"br0\">)</span><br/>    listFiles<span class=\"br0\">(</span><span class=\"br0\">)</span>.<span class=\"me1\">foreach</span><span class=\"br0\">(</span>println<span class=\"br0\">)</span><br/>\u00a0<br/>    downloadFile<span class=\"br0\">(</span>filename<span class=\"br0\">)</span><br/>    serverReply<span class=\"br0\">(</span>ftpClient<span class=\"br0\">)</span><br/>    ftpClient.<span class=\"me1\">logout</span><br/>  <span class=\"br0\">}</span>.<span class=\"me1\">isFailure</span><span class=\"br0\">)</span> println<span class=\"br0\">(</span>s<span class=\"st0\">\"Failure.\"</span><span class=\"br0\">)</span><br/><span class=\"br0\">}</span></pre>"}, {"lang": "Seed7", "loc": 18, "block": "<pre class=\"text highlighted_source\">$ include \"seed7_05.s7i\";<br/>  include \"ftp.s7i\";<br/>\u00a0<br/>const proc: main is func<br/>  local<br/>    var ftpFileSys: ftp is fileSys.value;<br/>    var string: line is \"\";<br/>  begin<br/>    ftp\u00a0:= openFtp(\"kernel.org\");<br/>    setActiveMode(ftp, FALSE);  # Passive is the default.<br/>    chdir(ftp, \"/pub/linux/kernel\");<br/>    for line range listDir(ftp, \".\") do<br/>      writeln(line);<br/>    end for;<br/>    setAsciiTransfer(ftp, FALSE);<br/>    writeln(getFile(ftp, \"README\"));<br/>    close(ftp);<br/>  end func;</pre>"}, {"lang": "Sidef", "loc": 9, "block": "<pre class=\"ruby highlighted_source\"><span class=\"kw3\">require</span><span class=\"br0\">(</span><span class=\"st0\">'Net::FTP'</span><span class=\"br0\">)</span>;<br/>\u00a0<br/>var ftp = <span class=\"sy0\">%</span>s<span class=\"st0\">'Net::FTP'</span>.<span class=\"me1\">new</span><span class=\"br0\">(</span><span class=\"st0\">'ftp.ed.ac.uk'</span>, Passive <span class=\"sy0\">=&gt;</span> <span class=\"nu0\">1</span><span class=\"br0\">)</span>;<br/>ftp.<span class=\"me1\">login</span><span class=\"br0\">(</span><span class=\"st0\">'anonymous'</span>,<span class=\"st0\">'<a class=\"__cf_email__\" data-cfemail=\"3a5b5b5b7a5d575b535614595557\" href=\"/cdn-cgi/l/email-protection\">[email\u00a0protected]</a>'</span><span class=\"br0\">)</span>;<br/>ftp.<span class=\"me1\">cwd</span><span class=\"br0\">(</span><span class=\"st0\">'pub/courses'</span><span class=\"br0\">)</span>;<br/><span class=\"br0\">[</span>ftp.<span class=\"me1\">dir</span><span class=\"br0\">]</span>.<span class=\"me1\">each</span> <span class=\"br0\">{</span><span class=\"sy0\">|</span>line<span class=\"sy0\">|</span> say line <span class=\"br0\">}</span>;<br/>ftp.<span class=\"me1\">binary</span>;   <span class=\"co1\"># set binary mode</span><br/>ftp.<span class=\"me1\">get</span><span class=\"br0\">(</span><span class=\"st0\">\"make.notes.tar\"</span><span class=\"br0\">)</span>;<br/>ftp.<span class=\"me1\">quit</span>;</pre>"}, {"lang": "Tcl", "loc": 11, "block": "<pre class=\"tcl highlighted_source\">\u00a0<br/><span class=\"kw2\">package</span> require ftp<br/>\u00a0<br/><span class=\"kw1\">set</span> conn <span class=\"br0\">[</span>::<span class=\"me1\">ftp</span>::<span class=\"me1\">Open</span> kernel.org anonymous <span class=\"st0\">\"\"</span> -mode passive<span class=\"br0\">]</span><br/>::<span class=\"me1\">ftp</span>::<span class=\"me1\">Cd</span> <span class=\"re0\">$conn</span> /pub/linux/kernel<br/><span class=\"kw1\">foreach</span> line <span class=\"br0\">[</span>ftp::<span class=\"me1\">NList</span> <span class=\"re0\">$conn</span><span class=\"br0\">]</span> <span class=\"br0\">{</span><br/>    <span class=\"kw2\">puts</span> <span class=\"re0\">$line</span><br/><span class=\"br0\">}</span><br/>::<span class=\"me1\">ftp</span>::<span class=\"me1\">Type</span> <span class=\"re0\">$conn</span> <span class=\"kw2\">binary</span><br/>::<span class=\"me1\">ftp</span>::<span class=\"me1\">Get</span> <span class=\"re0\">$conn</span> README README<br/>\u00a0</pre>"}, {"lang": "zkl", "loc": 12, "block": "<pre class=\"text highlighted_source\">zkl: var cURL=Import(\"zklCurl\")<br/>zkl: var d=cURL().get(\"ftp.hq.nasa.gov/pub/issoutreach/Living in Space Stories (MP3 Files)/\")<br/>L(Data(2,567),1630,23) // downloaded listing, 1630 bytes of header, 23 bytes of trailer<br/>zkl: d[0][1630,-23].text<br/>-rw-rw-r--   1 109      space-station  2327118 May  9  2005 09sept_spacepropulsion.mp3<br/>...<br/>-rw-rw-r--   1 109      space-station  1134654 May  9  2005 When Space Makes you Dizzy.mp3<br/>\u00a0<br/>zkl: d=cURL().get(\"ftp.hq.nasa.gov/pub/issoutreach/Living in Space Stories (MP3 Files)/When Space Makes you Dizzy.mp3\")<br/>L(Data(1,136,358),1681,23)<br/>zkl: File(\"foo.mp3\",\"w\").write(d[0][1681,-23])<br/>1134654  // note that this matches size in listing</pre>"}]}